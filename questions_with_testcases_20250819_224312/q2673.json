{
  "problem_code": "problems",
  "title": "Long Tiling",
  "tags": [],
  "text": "There is a long gap with fixed width of 1 unit in the ground withN + 1vertices, which is composed ofNsegments with same width. A segment connects to at most one segment on its head and tail vertically or horizontally, that is, it can connect to at most two segments. The long gap formed by those segments is simply a open polyline. Duck doesn't like the gap, he is given a set of tiles and wants to know if the long gap can be tiled by the limited number of tiles. There areMdistinct tiles, each withKiand hasCisegments. It is not necessary to use all tiles, and Duck can rotate the tile to fill the gap. It is guaranteed that both long gap and tiles are open polyline with fixed width of 1 unit. Can you help him check if he is possible to do so.InputThe first line is the number of test casesT. (1 ≤ T ≤ 25)For each test case, it starts with the number of segments of the long gapN. (1 ≤ N ≤ 20)Following N lines, each consisting of one uppercase characterW1i, either up (U), down(D), left(L) or right(R), and one integerF1i, indicating the direction to turn to and the length of that segment. (1 ≤ ∑ni=1F1i≤ 100)Next line is the number of distinct tilesM. (1 ≤ M ≤ 15)For each distinct tile, it starts with two integers, the available amount of that tileKiand number of segmentsCi. (1 ≤ Ki, ∑Mi=1Ki≤ 15, 1 ≤ Ci≤ 20)Following Cilines, same as above, one uppercase characterW2iand one integerF2iindicating the direction and the length of that segment.OutputIf it is possible to tile the gap with given tiles, print \"YES\", else \"NO\". (without quotes)ExampleInput:2\r\n16\r\nL 4\r\nU 2\r\nL 7\r\nU 2\r\nL 4\r\nD 4\r\nR 2\r\nD 2\r\nL 3\r\nD 2\r\nR 6\r\nU 1\r\nR 2\r\nD 4\r\nL 3\r\nU 1\r\n7\r\n2 5\r\nD 6\r\nL 2\r\nU 3\r\nL 2\r\nD 2\r\n1 2\r\nD 7\r\nL 2\r\n2 2\r\nD 2\r\nR 2\r\n1 1\r\nR 8\r\n3 1\r\nU 3\r\n4 1\r\nD 4\r\n2 2\r\nR 3\r\nU 1\r\n\r\n2\r\nR 6\r\nU 2\r\n2\r\n1 2\r\nD 3\r\nL 2\r\n1 1\r\nU 2Output:YES\r\nNOExplanation",
  "sample_input": "Input:2\r\n16\r\nL 4\r\nU 2\r\nL 7\r\nU 2\r\nL 4\r\nD 4\r\nR 2\r\nD 2\r\nL 3\r\nD 2\r\nR 6\r\nU 1\r\nR 2\r\nD 4\r\nL 3\r\nU 1\r\n7\r\n2 5\r\nD 6\r\nL 2\r\nU 3\r\nL 2\r\nD 2\r\n1 2\r\nD 7\r\nL 2\r\n2 2\r\nD 2\r\nR 2\r\n1 1\r\nR 8\r\n3 1\r\nU 3\r\n4 1\r\nD 4\r\n2 2\r\nR 3\r\nU 1\r\n\r\n2\r\nR 6\r\nU 2\r\n2\r\n1 2\r\nD 3\r\nL 2\r\n1 1\r\nU 2Output:YES\r\nNO",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/LNTILING",
  "scraped_at": "2025-08-17 00:33:59",
  "test_cases": [
    {
      "input": "2\r\n16\r\nL 4\r\nU 2\r\nL 7\r\nU 2\r\nL 4\r\nD 4\r\nR 2\r\nD 2\r\nL 3\r\nD 2\r\nR 6\r\nU 1\r\nR 2\r\nD 4\r\nL 3\r\nU 1\r\n7\r\n2 5\r\nD 6\r\nL 2\r\nU 3\r\nL 2\r\nD 2\r\n1 2\r\nD 7\r\nL 2\r\n2 2\r\nD 2\r\nR 2\r\n1 1\r\nR 8\r\n3 1\r\nU 3\r\n4 1\r\nD 4\r\n2 2\r\nR 3\r\nU 1\r\n\r\n2\r\nR 6\r\nU 2\r\n2\r\n1 2\r\nD 3\r\nL 2\r\n1 1\r\nU 2",
      "expected_output": "YES\r\nNO",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "4\n7\n6\n6\n2",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "4\n8\n2\n7\n5",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "1\n6",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "14\n18337344\n26426656\n43935804\n59625508\n59359077\n38146215\n33501873\n12361020\n96532044\n61233846\n50898273\n41577887\n25094919\n21538452",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "10\n54055836\n54838946\n88692823\n19424121\n27385359\n72963210\n42068509\n19800988\n25472085\n75611080",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "16\n94914593\n36138849\n23392867\n48503784\n5916114\n46415393\n47187908\n50061160\n37680876\n39474916\n4890366\n14605294\n89650268\n59059142\n12352977\n15979263",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "10\n2792537\n4002683\n79172090\n4484213\n19837876\n44593737\n70579176\n68536501\n44228691\n33408057",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "5\n21570554\n41320341\n15968720\n77641996\n71063254",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "20\n84510\n3406\n52942\n63332\n6177\n45199\n67038\n48861\n45378\n88442\n70637\n88419\n16572\n59508\n70665\n38245\n18765\n86\n1246\n29192",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n79496\n48609\n77483\n47550\n58964\n10356\n70907\n81686\n63149\n71505\n12690\n9941\n18618\n55662\n55465\n64486\n86498\n14475\n3461\n56743",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n41055\n38450\n83733\n26578\n72231\n22403\n33770\n14268\n80794\n46959\n36433\n40440\n16728\n96155\n94959\n35715\n22462\n67828\n50065\n80655",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n38020\n97676\n34681\n39059\n72968\n62534\n40980\n14999\n65436\n30765\n80418\n30230\n26886\n50204\n85230\n88625\n40218\n43623\n49828\n91223",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n13192\n65613\n8941\n70809\n16965\n75321\n44417\n5730\n27713\n75106\n1066\n83630\n82982\n35958\n34517\n20213\n78919\n55631\n21910\n71116",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n95036\n20844\n15177\n18932\n60430\n20436\n56220\n66568\n97118\n3975\n86448\n56217\n38410\n68937\n4125\n59540\n84559\n37297\n83803\n20005",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n48156\n10749\n93056\n60279\n16575\n99401\n69357\n96496\n70956\n40038\n53345\n87308\n54342\n28948\n66456\n19337\n79447\n43412\n404\n18572",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n32515046\n15839022\n51216176\n60009775\n50300857\n3541365\n34301732\n19099074\n16851037\n7846230\n77423754\n86612466\n56430554\n55812076\n19616942\n14142799\n64727787\n85989084\n11791729\n83737177",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Maximum size array (N = 20)"
    },
    {
      "input": "20\n16972809\n92023496\n58332236\n15144146\n21384430\n10579841\n6843245\n67342560\n4473249\n18321878\n73967326\n89494482\n93583757\n23273350\n63696688\n70774187\n48751443\n20424023\n91044482\n32867816",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Maximum size array (N = 20)"
    },
    {
      "input": "1\n1",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Edge case array (N = 1)"
    },
    {
      "input": "20\n1\n1\n100000000\n100000000\n100000000\n1\n89050799\n1\n100000000\n23305463\n46514222\n1521618\n17180433\n100000000\n1\n1\n80910948\n1\n87038439\n1",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Edge case array (N = 20)"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:21",
  "total_test_cases": 20
}