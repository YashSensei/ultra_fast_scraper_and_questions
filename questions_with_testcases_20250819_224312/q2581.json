{
  "problem_code": "problems",
  "title": "Captain Selection",
  "tags": [],
  "text": "There are N people and M teams. Each team is a subset of N people.For each team, we need to pick a captain.No people could be a captain of more than one team.A personais said to be a subordinate of a personbif there is some team including both a and b in which b is the captain.A captain selection process is said to be valid if we could not find a sequence of more than 2 people a1, a2, ..., aksuch that ai is a subordinate of ai+1(i < k) and akis a subordinate of a1.For example, if we have 4 people and 3 teams:Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}The captain selection process:Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4is not valid since 1 is a subordinate of 4, 4 is a subordinate of 2 and 2 is a subordinate of 1.Your job is to determine a valid captain selection process.InputThe first line contains a number t (about 10), which is the number of test cases. Then t test cases\r\nfollow. Each test case has the following form.The first line contains two numbers N and M (1 ≤ N, M ≤ 50).Each of the M teams is described in the next 2 lines. \r\nThe first line contains the number of people in the team.Each team has either 2 or 3 people.The second line contains the indexes (1-based) of the people in that team.There is a blank line after each test case's input.OutputFor each test case, print a number -1 if there is no valid captain selection process.Otherwise, print M lines, each line contains the index of the captain of the corresponding team.Print a blank line after each test case's output.ExampleInput:2\r\n4 3\r\n3\r\n1 2 3\r\n3\r\n2 3 4\r\n3\r\n3 4 1\r\n\r\n4 3\r\n3\r\n1 2 3\r\n2\r\n2 4\r\n3\r\n3 4 2Output:-1\r\n\r\n1\r\n2\r\n3",
  "sample_input": "Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}",
  "sample_output": "Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4",
  "link": "https://www.spoj.com/problems/CAPTAIN",
  "scraped_at": "2025-08-17 00:33:53",
  "test_cases": [
    {
      "input": "Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}",
      "expected_output": "Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "8 9 1 5\nflne o gvakz ho y\n5 2 4 8\nmvo a uhe t ycxxq\n6 4 5 8\nwsod t zpwkd o wr",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "4 1 9 5\ndxce p vuez ur u\n6 2 2 5\nv dckr av vn lcswp\n2 10 2 5\nyhe cuf snu nw jlr",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "9 3 9 8\ngfsj hzi n bbu cksi\n3 1 4 4\nv q qh cedh m\n9 10 9 7\niy tt amlcz dzbl rc",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "29 22 14 30\nxp wlhra yu yq zpj\n28 5 40 60\nvqyod qkapl ce h clf\n9 40 57 35\nj sisdj yqmd bp cwea",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "83 93 8 8\ndcjtq o m ri sioic\n29 87 71 7\nf ogwh do lzcw ybg\n9 2 77 55\nuc xj hpyl jg pkj",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "91 48 57 25\nr mzyjz zh l h\n67 51 72 71\nfjxkw z nkv w u\n30 99 4 64\nryjd apuxi taaj cnac vhsb",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "90 94 16 56\npiecw bd we khdas b\n8 59 8 19\nrogeg gxftp upjul e ccwd\n90 26 73 12\nvivi aj cv bpxy mh",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "55 99 91 35\nka n nh f u\n82 99 39 98\nmuyn glafk qboc d rbacr\n90 24 64 78\nuol ts rarm bs l",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "348 70 59 83\nkhw if fja blgn wq\n62 88 171 190\nd xwpyi xdqof ej c\n208 486 473 394\ng q kdd yxdj of",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "463 202 176 404\nd wwpbt ol ir jkn\n254 214 349 351\nscbdd kr hk d q\n348 490 287 380\nfhpdk qklnu kpjs qh uhjq",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "456 445 424 253\nr z fbnq d fhtg\n372 169 270 278\nt s t vhqce vna\n378 206 474 467\ntp kkld j piw rcot",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "91 372 494 430\nckvv bw fhwh w yrf\n146 216 350 499\nv wpji paq svw y\n113 157 170 104\novbh fket cc a vlal",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "196 183 65 235\noma pjq rv vmb c\n99 496 262 150\nhtpzj zes i fjjh mbq\n421 289 388 194\nj wb egrxz vjcot iksb",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "196 137 258 173\nfpqzj dhjro fphcj y lvqzq\n500 57 253 226\njshhq k vzz szrq hwui\n402 427 225 53\ngw i dh eviy kx",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "337 84 52 483\ndskc my pkmyr clpbo dcybf\n460 67 288 64\nkkm l drfs o eg\n98 368 396 218\nx sfqq c s a",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000 1000\nb m w yjq zjr\n1000 1000 1000 1000\niak v irste ftml agt\n1000 1000 1000 1000\nbdq awk xk vo hk",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000 1000\nm b l z dg\n1000 1000 1000 1000\nskf t hudbg bq xeebs\n1000 1000 1000 1000\nmrbw whvks h b qfrm",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "999 1000 1 1\nwjbyo agqty yju mjy ukt\n1000 999 2 999\noe gjxl qemqq le kn\n1 999 1 1000\ntuncl osswf iz cx th",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 999 1000 2\ngbgyf gh ukyxb iqecd b\n2 1 2 999\no wtc mei cw ko\n2 999 999 1\njw shay pmunw w gboop",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:21",
  "total_test_cases": 20
}