{
  "problem_code": "problems",
  "title": "Favorite Sub Hair",
  "tags": [],
  "text": "Little Princess Rapunzel is blessed with long (really looong!) hair, which is golden colored and has healing power. After the end of a long happy story, she marries her lover Flynn. They decide to lead a normal life by getting rid of the mysterious hair, which when cut loses its power and turns brown. There are many colorful beads on her hair in order. Rapunzel has someKfavorite colorsB[1...K]To remember good old stories, she wants to keep a part of her hair after its cut. A favorite sub hair is that continuous part of the hair, which has each of her favorite color beads at least once.For the purpose of this problem, we represent a color as an integer and Hair as an arrayA[1...N], which has exactlyNcolored beads in the given order. Could you please tell her the total number of ways she can cut her favorite sub hair (sub-array). Two sub-arrays are different, if their starting or ending index in A differ.InputFirst line contains T [ number of test cases, around 10 ]. Each test case is preceded by a blank line, including the 1st case. [ -2,000,000 ≤ A[i], B[j] (colors) ≤ 2,000,000 ]Each test case has 4 lines, as described below.N [ 1 ≤ N ≤ 100,000 ]{ Array A : N integers, separated by spaces }K [ 1 ≤ K ≤ 1,000 ]{ Array B : K integers, separated by spaces, her favorite colors, without repetition }OutputFor each test case, output the number of different sub-arrays, which has her favorite color appearing at least once, in a separate line.ExampleInput:3\r\n\r\n4\r\n1 2 3 1\r\n2\r\n1 2\r\n\r\n6\r\n10 20 30 40 50 60\r\n1\r\n20\r\n\r\n5\r\n1 2 3 4 5\r\n2\r\n2 6Output:4\r\n10\r\n0Explanation:Case 1 : Favorite sub-arrays in bold [1 23 1 ], [1 2 31 ], [ 12 3 1], [1 2 3 1]Note: Large input, prefer using scanf / printf to cin / coutThere are multiple test sets, and the judge shows thesumof the time taken over all test sets of your submission, if Accepted.",
  "sample_input": "Input:3\r\n\r\n4\r\n1 2 3 1\r\n2\r\n1 2\r\n\r\n6\r\n10 20 30 40 50 60\r\n1\r\n20\r\n\r\n5\r\n1 2 3 4 5\r\n2\r\n2 6Output:4\r\n10\r\n0",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/FAVSUBS",
  "scraped_at": "2025-08-17 00:33:03",
  "test_cases": [
    {
      "input": "3\r\n\r\n4\r\n1 2 3 1\r\n2\r\n1 2\r\n\r\n6\r\n10 20 30 40 50 60\r\n1\r\n20\r\n\r\n5\r\n1 2 3 4 5\r\n2\r\n2 6",
      "expected_output": "4\r\n10\r\n0",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "3\n4\n6\n1",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "5\n10\n1\n9\n6\n4",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "2\n5\n2",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "17\n49333393\n95797309\n5309379\n27746940\n98377990\n69406481\n51942348\n90075046\n85773963\n84737018\n75957408\n68282185\n63640158\n60151343\n93351398\n75028582\n56162976",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "15\n78871459\n56336258\n49618252\n47833849\n360735\n64651351\n90657645\n62584198\n33708547\n55331656\n65371630\n48206658\n16703427\n59279802\n60802823",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "13\n57416315\n30262333\n10110623\n23458452\n25483287\n42263640\n41217751\n41017382\n84609489\n25519615\n42221712\n81952676\n91526266",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "16\n59065567\n89573168\n91547346\n70883792\n10438249\n80904145\n42334847\n96776458\n59910385\n92844307\n17540990\n48781554\n50242040\n96088371\n66508708\n5159880",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "17\n5659435\n80807211\n66597702\n72863003\n38514698\n34519604\n43672806\n85411946\n67248289\n77486450\n73178103\n5780111\n2144564\n85309707\n78934842\n90486692\n54206941",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "64\n284\n39965\n28576\n14757\n49894\n72213\n82429\n25984\n15016\n1343\n22746\n20959\n74673\n21949\n97291\n96190\n14895\n19944\n16191\n97834\n16394\n95189\n30038\n87067\n18111\n12293\n21523\n23558\n9984\n97108\n66988\n74706\n60891\n63998\n2552\n69712\n51418\n42200\n71862\n5951\n69611\n20119\n46999\n25286\n9142\n22225\n65775\n15889\n60862\n77983\n96999\n35340\n44747\n64654\n43371\n10498\n11302\n36290\n46266\n6810\n37934\n8120\n13596\n15382",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "77\n22077\n81989\n81927\n75470\n45227\n56657\n93281\n39380\n16696\n8158\n59685\n80113\n98883\n48218\n7230\n93779\n79044\n23695\n94369\n38422\n99698\n51290\n22708\n41452\n31349\n75731\n6757\n72157\n47933\n11636\n48269\n73167\n22\n84057\n93705\n21773\n67473\n50178\n56619\n74001\n52785\n32357\n79300\n58762\n50322\n99790\n5704\n61888\n32645\n1810\n38060\n24231\n79691\n61062\n90919\n88350\n89944\n4893\n37844\n92740\n59518\n73372\n34554\n89730\n23317\n13112\n77870\n29285\n59228\n84398\n87943\n86240\n63753\n70677\n91998\n11515\n87811",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "96\n24546\n83117\n8045\n93936\n49047\n52442\n22865\n38636\n69656\n32477\n5529\n38010\n92276\n27248\n45049\n82611\n80867\n8207\n19716\n69945\n19191\n75180\n27009\n97057\n26100\n65717\n96838\n50522\n91108\n57327\n42426\n68288\n12543\n49426\n92968\n79774\n86640\n82285\n24490\n77562\n77303\n85112\n29568\n78205\n86793\n42383\n71230\n47260\n14679\n85279\n67357\n91970\n76613\n74296\n30041\n74951\n76209\n72660\n16422\n9386\n36014\n95125\n87068\n91366\n42180\n79119\n53757\n94823\n29183\n54669\n65610\n16869\n80823\n35078\n50349\n63398\n13985\n55332\n90430\n86791\n36575\n15637\n67404\n21550\n66195\n98925\n14463\n71339\n24504\n12058\n74993\n55987\n30448\n92808\n20472\n46721",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "45\n57810\n9972\n24567\n12223\n39624\n31600\n73268\n49826\n87243\n79668\n22822\n42744\n82226\n44905\n96913\n85124\n63414\n64582\n31840\n85122\n60674\n78749\n94893\n56142\n11816\n41863\n38887\n39890\n24308\n10729\n90199\n77345\n73369\n97538\n6465\n36009\n33318\n10533\n54578\n54357\n57687\n31277\n79484\n86361\n88535",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "67\n54269\n66528\n403\n86937\n25574\n98018\n82188\n54064\n82354\n55638\n40606\n52267\n99994\n12174\n58255\n6239\n85992\n9343\n91445\n48091\n72099\n74207\n51257\n27065\n88392\n29992\n56739\n49861\n48419\n82623\n42741\n66880\n57257\n70549\n51244\n19537\n86628\n30707\n9631\n45218\n64729\n36615\n14047\n71463\n78929\n64614\n94881\n3185\n15613\n71588\n8283\n23204\n71282\n80505\n93505\n8314\n82045\n40910\n72784\n66715\n35173\n26257\n39887\n37907\n47873\n54206\n1315",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "59\n94348\n54866\n46009\n94007\n802\n60937\n6941\n57555\n49111\n52528\n86209\n27634\n2425\n41336\n17340\n8000\n18745\n1399\n54388\n96575\n78503\n82335\n94078\n76942\n41029\n27120\n48522\n47716\n24852\n6140\n64824\n73504\n26912\n73997\n44790\n34156\n17897\n10955\n36715\n14268\n24552\n86467\n90505\n81298\n95745\n51570\n56292\n7171\n17274\n53095\n42354\n22908\n24765\n32366\n73208\n9247\n60927\n31730\n18612",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "62\n6522\n45570\n12085\n97470\n12688\n41277\n25030\n43248\n55767\n38710\n55328\n68611\n21331\n84340\n21771\n62259\n42642\n42899\n17663\n92345\n21022\n18623\n80719\n5894\n57564\n13315\n64547\n27359\n51107\n26377\n17532\n91790\n77793\n34478\n58521\n93907\n8686\n15284\n36109\n51666\n58645\n16517\n98983\n12228\n23870\n55124\n48688\n25075\n82478\n38616\n30074\n71179\n11351\n3624\n1435\n57053\n54869\n33990\n59346\n38062\n66141\n3482",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "100\n43477058\n57035499\n5102490\n12218987\n20996710\n64675408\n46764509\n20774891\n38745817\n14121987\n75151954\n54809308\n3261350\n40118142\n8048438\n47032494\n73903258\n71752332\n91501498\n72936359\n78398623\n39399717\n48290226\n13972733\n1983741\n13904566\n99574482\n78607102\n10754605\n94285256\n65203575\n93996379\n30509961\n77135597\n47890220\n6404454\n69680792\n7475836\n56013995\n33816079\n1541557\n31625545\n6176725\n76858455\n77618903\n92530322\n43685255\n33253756\n67840866\n74610916\n12707263\n41301968\n32058647\n63287096\n65062673\n94080329\n3038334\n53520566\n74480135\n47744684\n52471786\n20319206\n71293163\n72423578\n55511380\n99102112\n36221646\n64072236\n4981799\n89342699\n2621523\n67264790\n23348885\n57873837\n84147107\n85508277\n94232537\n73450741\n46200131\n79374154\n99292925\n96118571\n31034327\n21839808\n68500756\n42794499\n35438409\n26643796\n24603862\n77470959\n82413201\n86954865\n23414903\n30067166\n58159806\n38681195\n60687588\n72261302\n59309906\n14128328",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Maximum size array (N = 100)"
    },
    {
      "input": "100\n54860933\n55627238\n15699526\n33224876\n24633181\n8273769\n13954471\n91498389\n6023279\n76438514\n18179008\n32778275\n96396105\n83103457\n93105180\n38486836\n8752164\n39208815\n89659335\n51447403\n4847245\n39925038\n57285763\n48430578\n11114489\n30400816\n31565764\n95192092\n19644813\n44612704\n14527832\n34196145\n66061671\n10504523\n47759290\n89779751\n47915343\n14511240\n74911211\n82279453\n11685767\n56418543\n19790778\n43868469\n73025511\n77484240\n35598113\n89663608\n42585088\n54582142\n58640752\n48383547\n81383892\n69311460\n41966138\n83002798\n11256114\n30585926\n5481136\n38604498\n24714724\n58461049\n52693667\n42197656\n53453928\n55221621\n60807464\n26816577\n69142341\n85160622\n81238855\n59906981\n7642173\n56440971\n54909024\n29559100\n4260370\n23172403\n87398351\n71024993\n3150346\n13849277\n40780312\n78516056\n52745987\n86828200\n933620\n92865531\n74764672\n8308488\n15709777\n49672085\n2501572\n18299126\n38318203\n16905285\n96112192\n81643180\n55284973\n17171938",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Maximum size array (N = 100)"
    },
    {
      "input": "1\n74554384",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Edge case array (N = 1)"
    },
    {
      "input": "2\n52756814\n1",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Edge case array (N = 2)"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:12",
  "total_test_cases": 20
}