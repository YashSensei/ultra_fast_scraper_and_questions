{
  "problem_code": "problems",
  "title": "Dab of Backpack",
  "tags": [],
  "text": "One day Blue Mary goes to a nearby supermarket to buy some some goods. She has a backpack, whose capacity isV-Max. She finds that there are many goods in the market, each has a volumeVi(it will always be a multiple of 10 and less than 10000) and an importanceCi(1 ≤Ci≤ 5). Since she has almost unlimited money, the only problem she is to solve is how to choose goods such that the total volume won't exceed the capacity of the backpack and the sum of the product of the volume and the importance of each good is maximum. To be an excellent mathematician, she comes up with the answer quickly, and now she wants you to do a harder task. There are two kinds of goods: main goods and attachments. If you want to buy an attachment you must buy its main good before.InputMultiple test cases, the number of them is given in the very first line.For each test case:The first line contains two space-separated integersV-Max(1 ≤V-Max≤ 32000) and the number of the goodsN(1 ≤N≤ 60). N lines follow, each contains three space-separated integersVi,Ciand a integeru. Ifuis not 0, this good is an attachment of goodu(as the order in the input file).To make the problem not too difficult, Blue Mary tells you that:An attachment won't have any attachments which belong to it.A main good will always have fewer than 3 attachments.OutputFor each test case:The first and the only line contains a single integer denoted the answer.ExampleInput:1\r\n1000 5\r\n800 2 0\r\n400 5 1\r\n300 5 1\r\n400 3 0\r\n500 2 0Output:2200",
  "sample_input": "Input:1\r\n1000 5\r\n800 2 0\r\n400 5 1\r\n300 5 1\r\n400 3 0\r\n500 2 0Output:2200",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/BACKPACK",
  "scraped_at": "2025-08-17 00:34:15",
  "test_cases": [
    {
      "input": "1\r\n1000 5\r\n800 2 0\r\n400 5 1\r\n300 5 1\r\n400 3 0\r\n500 2 0",
      "expected_output": "2200",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "1\n6",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n1\n10\n4",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n2\n2\n8",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "17\n47313960\n535008\n91974973\n25006682\n89774983\n23553236\n37516448\n85519096\n34668803\n19184132\n77888066\n70861790\n54090013\n57075039\n14907470\n38894084\n42370762",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "7\n17493547\n87651625\n258\n60201267\n86908080\n58886631\n29565678",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "16\n19820307\n67892702\n31692704\n13103565\n51672152\n14613012\n95779279\n85263612\n93294164\n32351998\n80940463\n23320066\n94718136\n94015983\n58676920\n62649094",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "7\n93747454\n22602659\n76971879\n92119561\n69704211\n83731145\n72005531",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "20\n48898498\n70062448\n51906618\n62179067\n40835902\n74534647\n29979526\n65411594\n85650979\n70349649\n16340841\n23013175\n63076696\n35430815\n83964492\n85121545\n52159230\n5121182\n4142714\n8535044",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "45\n79864\n22572\n40023\n97435\n46191\n82394\n47546\n21813\n63753\n68164\n56930\n36654\n56132\n74527\n20957\n57187\n5275\n96880\n97276\n59977\n16443\n15832\n51111\n3235\n3502\n68688\n83635\n10759\n49228\n14745\n7271\n16434\n25417\n22762\n86152\n53776\n17013\n20691\n2799\n62322\n46870\n80295\n45933\n26189\n29018",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "45\n53446\n21533\n38586\n37186\n85696\n87859\n70807\n38837\n74548\n28593\n53751\n46074\n71944\n31776\n26633\n70889\n74466\n45299\n87018\n16816\n32476\n83370\n92873\n47459\n93063\n95947\n92274\n94975\n95968\n8181\n82318\n53530\n22430\n10148\n54237\n48684\n90955\n50608\n17479\n56675\n29589\n49593\n56974\n88512\n31572",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "50\n54107\n94357\n19176\n86117\n98286\n59236\n80663\n2124\n40419\n17681\n16686\n72421\n13734\n14378\n78317\n84896\n4200\n58336\n79123\n95021\n66560\n98424\n10829\n5702\n16955\n89339\n87562\n86961\n51050\n23569\n25638\n20652\n55580\n88225\n80528\n1816\n42703\n26471\n83407\n351\n85330\n51489\n43923\n98782\n36955\n51241\n10125\n34631\n36467\n68756",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "37\n31664\n17693\n52610\n77093\n49641\n85868\n15411\n63494\n55298\n44490\n92727\n15616\n94397\n56167\n37781\n22164\n5296\n84013\n83411\n73539\n54444\n88568\n64917\n11172\n2741\n11511\n53975\n18798\n77192\n7537\n65312\n42857\n17100\n67239\n30584\n11044\n78052",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "58\n46234\n11987\n36545\n36938\n30955\n8865\n80965\n80974\n83897\n55574\n51355\n25264\n91546\n52166\n20813\n56562\n6609\n46696\n6218\n22498\n64558\n98345\n47943\n71428\n51932\n32175\n96727\n59150\n49876\n9630\n28312\n28264\n41569\n56082\n4266\n11249\n93007\n37785\n16878\n99846\n12791\n80940\n3135\n43797\n70133\n48182\n22485\n83775\n56030\n73489\n90345\n46686\n33309\n65118\n98977\n24863\n83788\n3615",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "37\n62377\n73723\n92925\n63926\n16728\n74123\n89976\n69783\n51590\n44219\n26117\n30472\n35068\n77528\n48870\n89408\n85403\n53638\n22261\n88327\n10887\n85410\n50578\n82111\n40059\n33449\n80131\n4079\n42618\n21032\n87924\n10451\n50761\n89700\n35550\n82094\n73825",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "21\n22089\n64702\n57554\n52995\n6710\n40803\n12403\n44547\n14847\n14597\n41605\n22913\n48439\n11020\n42400\n34664\n55242\n8523\n33800\n40487\n13406",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "60\n85195932\n93308869\n86331524\n38794059\n15847520\n10937930\n53015262\n28217863\n15414116\n33465578\n53170817\n15796024\n60189540\n97810693\n63836209\n30964809\n92663933\n26127062\n79007657\n47166058\n74743967\n83747393\n87040138\n77288078\n86784843\n83241476\n61491559\n50602053\n5188967\n41971383\n89327259\n50501309\n53886223\n14297238\n75277758\n86621267\n92077124\n99974190\n70911634\n50281008\n56952360\n37847660\n95693500\n82953093\n39552529\n18422235\n71274334\n78052419\n1789805\n83221250\n19153733\n73630008\n71236875\n2594164\n47254108\n75420454\n82109932\n71545768\n2193463\n17628710",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Maximum size array (N = 60)"
    },
    {
      "input": "60\n61047920\n41686841\n7495088\n43856383\n63959160\n82846769\n35409218\n38319042\n92799316\n52231110\n59036767\n26882564\n12117082\n11484311\n49113486\n67648221\n98337754\n52151040\n79660443\n99114506\n60931242\n90219471\n91067338\n10699872\n12276783\n14369826\n52016803\n91977249\n73794179\n39106135\n88721897\n88427832\n90859718\n14838938\n93332445\n37398604\n35009997\n96695491\n19748021\n72199172\n56874162\n39382319\n22875415\n54756634\n70934850\n32013000\n21614649\n32210031\n82511322\n69386779\n22331107\n44922506\n93882265\n90217987\n82075752\n11577404\n84532412\n67791551\n23821517\n10519463",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Maximum size array (N = 60)"
    },
    {
      "input": "60\n100000000\n100000000\n1\n100000000\n1\n100000000\n42055905\n100000000\n1\n1\n100000000\n1\n31043006\n1\n100000000\n53061078\n100000000\n38010802\n1\n100000000\n100000000\n100000000\n30660952\n100000000\n42390669\n100000000\n1\n100000000\n100000000\n22220494\n1\n100000000\n100000000\n70051583\n55825905\n1\n100000000\n1\n42918545\n96614785\n100000000\n1\n73318509\n100000000\n48225363\n26446262\n1\n41824124\n100000000\n100000000\n100000000\n100000000\n1\n100000000\n1\n100000000\n1\n100000000\n1\n1",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Edge case array (N = 60)"
    },
    {
      "input": "2\n100000000\n100000000",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Edge case array (N = 2)"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:23",
  "total_test_cases": 20
}