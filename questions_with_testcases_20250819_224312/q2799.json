{
  "problem_code": "problems",
  "title": "2D arrays with XOR property",
  "tags": [],
  "text": "We consider 2D arrays $A$, (0,0)-indexed, shape $N \\times M$. \r\n With $ 0 \\le i < N $   and  $ 0 \\le j < M $, we have $ 0< A_{i,j} \\le N \\times M $.\r\n\r\n\r\nOur interest will be to count those arrays that have the two properties :Arrays $A$ are composed withallnumbers from $1$ to $N \\times M$.\r\ni.e. we have $ (i,j) \\neq (k,l) \\implies A_{i,j} \\neq A_{k,l} $$(i\\oplus j) > (k\\oplus l) \\implies A_{i,j} > A_{k,l} $, where $ \\oplus $ denotes bitwise XOR.InputThe first line contains $T$, the number of test cases, and $P$ a prime number.Each of the next $T$ lines contains $N$ and $M$, the shape of the arrays $A$.OutputFor each test case, print the number of arrays $A$ with the given properties.\r\nAs the result may be large, the answermodulo$P$ is required.ExampleInput:2 1000000007\r\n2 2\r\n997 799Output:4\r\n828630475For the first case, the 4 possible 2x2 arrays are : \r\n$ \\binom{1\\; 3}{4\\; 2}$, $\\binom{1\\; 4}{3\\; 2}$, $\\binom{2\\; 3}{4\\; 1}$, and $\\binom{2\\; 4}{3\\; 1}$.Constraints$1 \\le T \\le 10^4$, \r\n$10^9 < P < 2\\times 10^9$, a prime number, \r\n$1 \\le N \\le 10^9$, \r\n$1 \\le M \\le 10^5$.Constraints allow a small kB of unoptimized PY3.4 code to get AC in the third of the TL.Have fun.",
  "sample_input": "Input:2 1000000007\r\n2 2\r\n997 799Output:4\r\n828630475",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/XORRAY",
  "scraped_at": "2025-08-17 00:34:32",
  "test_cases": [
    {
      "input": "2 1000000007\r\n2 2\r\n997 799",
      "expected_output": "4\r\n828630475",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "9 8\n2 7\n1 10",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "2 3\n3 2\n6 7",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "6 6\n5 4\n1 2",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "23 6\n76 10\n10 74",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "50 90\n58 86\n65 28",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "24 19\n39 70\n10 54",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "4 10\n26 10\n54 56",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "70 40\n71 30\n42 35",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "296 392\n416 135\n376 352",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "199 55\n107 112\n426 489",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "445 316\n483 225\n190 216",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "119 239\n359 462\n287 248",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "80 251\n125 467\n179 198",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "182 177\n423 273\n65 315",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "473 309\n317 322\n347 221",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\n1000 1000\n1000 1000",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\n1000 1000\n1000 1000",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1 1000\n1000 1\n2 2",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1 2\n2 2\n1000 2",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:21",
  "total_test_cases": 20
}