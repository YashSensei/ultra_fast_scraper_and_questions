{
  "problem_code": "problems",
  "title": "Grumpy uncle",
  "tags": [],
  "text": "Winters in Nlogonia are very hard, so uncle Ernie decided to buy a heater to keep himself warm this year. Although it was terribly difficult, he managed to follow his friends' advice and buy an intelligent heater, which can be controlled from his smartphone. However, uncle Ernie doesn't fully understand his smartphone, so he has trouble finding the app which is used to set the heater's temperature.Uncle Ernie has installed on his smartphoneNapps numbered from1toN, corresponding number1to the app controlling the heater. His smartphone hasMbuttons numbered from1toM, which are used to switch from one app to another. More specifically, if the smartphone has currently app numberiopened and uncle Ernie presses button numberj, then appiis closed and appTi,jis then opened. The problem is uncle Ernie cannot distinguish one app from the other, so he never knows if he has opened the correct app.Uncle Ernie is very grumpy, so you have decided to help him in order to avoid having to listen to his complaints every time the heater's temperature is not quite right for him. Your task is to provide him with a list of buttons which he can use as instructions, such that if he presses the buttons in the list in the order in which they appear there, his phone will have opened the app controlling the heater. Because you don't want to provide him with more than one list, you should create one that works as explained above independently of which app is opened at the time when uncle Ernie begins executing its instructions.Take for example the case where the phone hasN = 3apps andM = 2buttons, beingT1,1= T2,1= 3,T3,1= T1,2= 2andT2,2= T3,2= 1. In this case, a sequence of buttons that could be provided to uncle Ernie would be{1,2}, because one of the following situations would take place:If uncle Ernie starts with app1being open, pressing button1will leave him with app3being open; then pressing button2would result in a final state where app1is again opened.On the other hand, if uncle Ernie starts with app2being open, pressing button1will leave him with app3being open; then pressing button2would result in a final state where app1is open.Finally, if he starts with app3being open, pressing button1will leave him with app2being open; then pressing button2would reslut in a final state where app1is open.Therefore, independently of which app was open at the beginning of the sequence of button presses, uncle Ernie will always reach app1by the end of the sequence.Now again, there are times when it is impossible to find a sequence of buttons that can be pressed by uncle Ernie such that the app being open when he finishes to do so is always app number1. For example, in the case withN = 3andM = 2if we haveT1,1= T1,2= 2,T2,1= T2,2= 3andT3,1= T3,2= 1the application opened at the end of any sequence of button presses always depends on which application was open at the time the sequence was started. Therefore, in this case it is impossible to find a sequence that will always leave uncle Ernie's phone with app number1opened.In order not to waste time looking for sequences of button presses that do not exist, you would like to first find out if it is possible to satisfy uncle Ernie by finding a sequence as described above. If so, uncle Ernie will be happy knowing that he can turn the heater on at level 2, his favorite,  whenever he wants... and will thus be eternally grateful.InputThere are multiple test cases in the input file. The first line contains two integer numbersNandM, representing the number of applications and the number of buttons in uncle Ernie's smartphone, respectively (1≤N,M ≤ 1000with1≤N × M≤104). Each of the followingNlines containsMinteger numbers, being thej-th number in thei-th lineTi,j, representing the app which is opened when buttonjis pressed while app numberiwas open (1≤Ti,j≤Nfori = 1, 2, ..., Nandj = 1, 2, ..., M).OutputFor each test case, print a single line containing a character, representing if it is possible to find a sequence of buttons as described in the problem statement. The character should be an'S'if the sequence can be found, and an'N'otherwise.ExampleInput:3 2\r\n3 2\r\n3 1\r\n2 1\r\n3 2\r\n2 2\r\n3 3\r\n1 1Output:S\r\nN",
  "sample_input": "Input:3 2\r\n3 2\r\n3 1\r\n2 1\r\n3 2\r\n2 2\r\n3 3\r\n1 1Output:S\r\nN",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/TAP2016E",
  "scraped_at": "2025-08-17 00:34:21",
  "test_cases": [
    {
      "input": "3 2\r\n3 2\r\n3 1\r\n2 1\r\n3 2\r\n2 2\r\n3 3\r\n1 1",
      "expected_output": "S\r\nN",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "1 3\n3 9\n8 2\n3 5\n8 3\n3 10\n8 1\n9 8",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "1 6\n2 7\n7 2\n9 2\n9 6\n2 10\n4 2\n1 2",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "6 3\n4 5\n10 7\n2 2\n1 1\n3 5\n4 6\n6 10",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "37 6\n73 18\n66 97\n77 63\n49 19\n90 70\n25 49\n41 79",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "19 51\n11 77\n31 8\n5 27\n88 93\n14 2\n79 29\n55 100",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "100 14\n54 61\n7 94\n15 54\n13 78\n57 39\n40 3\n45 100",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "3 82\n49 31\n81 40\n74 41\n77 57\n91 81\n66 37\n88 29",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "65 30\n93 48\n78 25\n63 14\n49 82\n10 73\n72 80\n38 72",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "281 124\n307 123\n55 378\n113 422\n478 437\n394 320\n485 395\n339 480",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "468 184\n412 146\n52 332\n95 461\n234 322\n107 459\n476 399\n459 205",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "252 183\n200 95\n225 305\n83 446\n203 247\n260 132\n442 313\n247 199",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "58 302\n305 417\n361 260\n84 295\n178 97\n369 347\n411 352\n218 473",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "417 74\n263 99\n88 150\n466 103\n400 378\n196 289\n169 289\n61 64",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "86 333\n310 485\n433 318\n249 248\n215 218\n214 259\n389 173\n481 394",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "223 325\n163 409\n139 195\n291 180\n181 252\n201 345\n188 446\n101 323",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1 1\n1 999\n2 1\n1000 1000\n2 2\n1 1000\n1000 2\n1 1000",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1 2\n2 1\n2 1000\n2 1000\n1 1\n1000 1000\n1000 999\n999 999",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:21",
  "total_test_cases": 20
}