{
  "problem_code": "problems",
  "title": "Polygon on the Grid",
  "tags": [],
  "text": "The ultimate Tantra is said to have been kept in the most distinguished\r\ntemple deep in the sacred forest somewhere in Japan. Paleographers\r\nfinally identified its location, surprisingly a small temple in Hiyoshi,\r\nafter years of eager research. The temple has an underground secret\r\nroom built with huge stones. This underground megalith is suspected to be\r\nwhere the Tantra is enshrined.The room door is, however, securely locked. Legends tell that the key of\r\nthe door lock was an integer, that only highest priests knew. As the sect\r\nthat built the temple decayed down, it is impossible to know the integer\r\nnow, and the Agency for Cultural Affairs bans breaking up the door. Fortunately,\r\na figure of a number of rods that might be used as a clue to guess that secret\r\nnumber is engraved on the door.Many distinguished scholars have challenged the riddle, but no one could\r\nhave ever succeeded in solving it, until recently a brilliant young\r\ncomputer scientist finally deciphered the puzzle. Lengths of the rods are\r\nmultiples of a certain unit length. He found that, to find the secret\r\nnumber, all the rods should be placed on a grid of the unit length to\r\nmake one convex polygon. Both ends of each rod must be set on grid points.\r\nElementary mathematics tells that the polygon's area ought to be an\r\ninteger multiple of the square of the unit length. The area size of the\r\npolygon with the largest area is the secret number which is needed to\r\nunlock the door.For example, if you have five rods whose lengths are 1, 2, 5, 5, and 5,\r\nrespectively, you can make essentially only three kinds of polygons,\r\nshown in Figure 1. Then, you know that the maximum area is 19.Convex polygons consisting of five rods of lengths 1, 2, 5, 5, and 5Your task is to write a program to find the maximum area of convex polygons\r\nusing all the given rods whose ends are on grid points.InputThe input consists of multiple datasets, followed by a line containing a\r\nsingle zero which indicates the end of the input. The format of a dataset is as follows.n\r\n    r1  r2  …  rnnis an integer which means the number rods and satisfies 3 ≤n≤ 6.riis an integer which means the length of the i-th rod and satisfied 1 ≤ri≤ 300.OutputFor each dataset, output a line containing an integer which is the area\r\nof the largest convex polygon. When there are no possible convex polygons\r\nfor a dataset, output “-1”.Sample Input3\r\n3 4 5\r\n5\r\n1 2 5 5 5\r\n6\r\n195 221 255 260 265 290\r\n6\r\n130 145 169 185 195 265\r\n3\r\n1 1 2\r\n6\r\n3 3 3 3 3 3\r\n0Sample output6\r\n19\r\n158253\r\n-1\r\n-1\r\n18",
  "sample_input": "n\r\n    r1  r2  …  rn",
  "sample_output": "3\r\n3 4 5\r\n5\r\n1 2 5 5 5\r\n6\r\n195 221 255 260 265 290\r\n6\r\n130 145 169 185 195 265\r\n3\r\n1 1 2\r\n6\r\n3 3 3 3 3 3\r\n0",
  "link": "https://www.spoj.com/problems/MPOLGRID",
  "scraped_at": "2025-08-17 00:33:27",
  "test_cases": [
    {
      "input": "n\r\n    r1  r2  …  rn",
      "expected_output": "3\r\n3 4 5\r\n5\r\n1 2 5 5 5\r\n6\r\n195 221 255 260 265 290\r\n6\r\n130 145 169 185 195 265\r\n3\r\n1 1 2\r\n6\r\n3 3 3 3 3 3\r\n0",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "i\n4 2\nxl uy g iujq",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "dz\n5 5\np dl mteiv tr",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "m\n2 5\nz eqgh f os",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "nu\n3 3\nx bqv w eqzjj",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "k\n1 2\nqu jb jy v",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "kr\n4 1\nntafw b qmp vh",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "uf\n4 2\ngm saimf xc lbug",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "f\n1 4\ncfsfp ido hpkm esqx",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "vf\n1 3\njba napc mntoz hpg",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "kt\n2 3\nn ioq kuhu szubk",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "y\n3 3\nlgq c g nhi",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "dl\n2 3\nscbu go ynaox ae",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "wm\n1 1\no ts mqaw zya",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "d\n2 2\nuafd bfcd trz joy",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "iq\n3 1\nkxeq mnyzf qlo ydml",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "bp\n6 6\ns ub nyuk qmd",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "h\n6 6\nur pv ysxz dmihc",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "p\n5 6\ny c us yz",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "a\n2 1\nb fni t oktlq",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:17",
  "total_test_cases": 20
}