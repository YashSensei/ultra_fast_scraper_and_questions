{
  "problem_code": "problems",
  "title": "Counting The Way of Bracket Replacement",
  "tags": [],
  "text": "EnglishVietnameseA regular bracket sequence is a string of characters consisting only of\nopening and closing brackets, and satisfying the following conditions:An empty string is a regular bracket sequence.If A is a regular bracket0sequence, then (A), [A] and {A} are also\nregular bracket sequences.If A and B are regular bracket sequences, then AB is also a regular\nbracket sequence.For example, the sequences [({})], [](){} and [{}]()[{}]\nare regular, but the sequences [({{([, []({)} and\n[{}])([{}] are not.Ivica has found a string which looks like it could be a regular bracket\nsequence. Some of the characters have become smudged and illegible, and\ncould have been any character.Write a program that calculates how many ways the illegible characters\nin the string can be replaced by brackets so that the result is a\nregular bracket sequence. This number can be very large, so output only\nits last 5 digits.InputThe first line contains an even integer N (2 ≤ N ≤ 200), the length of\nthe string.The second line contains the string. Illegible characters are represented\nby the '?' character.OutputOutput the number of regular bracket sequences the string could have read.SampleInput:6\n()()()Output:1Input:10\n(?([?)]?}?Output:3Input:16\n???[???????]????Output:92202In the second example, the three matching regular bracket sequences\nare ({([()])}), ()([()]{}) and ([([])]{}).",
  "sample_input": "Input:6\n()()()Output:1",
  "sample_output": "Input:10\n(?([?)]?}?Output:3",
  "link": "https://www.spoj.com/problems/MREPLBRC",
  "scraped_at": "2025-08-17 00:33:44",
  "test_cases": [
    {
      "input": "6\n()()()",
      "expected_output": "1",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "10\n(?([?)]?}?",
      "expected_output": "3",
      "type": "sample_2",
      "description": "Original sample 2 from problem statement"
    },
    {
      "input": "4\n5\n3\n4\n10",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n8\n3\n1",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "4\n3\n9\n4\n6",
      "expected_output": "To be computed",
      "type": "small_case_5",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "16\n85605888\n17063990\n96033722\n10135857\n2124092\n41445787\n57318195\n5885532\n71860493\n85956005\n45020575\n55172665\n26817991\n68752563\n81916235\n74764479",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "8\n20288368\n71351099\n16636468\n12551130\n12709624\n5721183\n57984369\n40328576",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "14\n23212880\n13259732\n25558514\n52263153\n26995727\n5911108\n36508249\n47186267\n62473147\n69918670\n72979960\n2935226\n96391123\n20809753",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "7\n7588673\n88078285\n57699688\n82714225\n71959597\n2793127\n58380267",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "10\n44658574\n66044104\n74913233\n87833781\n32300521\n68291561\n93033453\n74615043\n22523556\n14532373",
      "expected_output": "To be computed",
      "type": "medium_case_10",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "73\n63616\n90193\n50788\n68912\n32153\n71826\n60809\n95691\n96479\n35793\n44374\n19885\n39147\n560\n16348\n36623\n65028\n16892\n64254\n22812\n44509\n73249\n31076\n51450\n85196\n21825\n3595\n81304\n23036\n45152\n44922\n89397\n62344\n38668\n87318\n26236\n52568\n69071\n6241\n91980\n22684\n31841\n27002\n29456\n24995\n68443\n22724\n7108\n21601\n48370\n26667\n57962\n68988\n51692\n92302\n83545\n45967\n66645\n29470\n2509\n74021\n39537\n39779\n44270\n96993\n2095\n27044\n96000\n48924\n69335\n1612\n72296\n50958",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "193\n958\n2488\n77663\n5544\n68096\n40102\n43713\n5776\n84176\n30447\n71750\n39873\n31207\n96197\n1830\n20300\n2401\n15274\n48208\n84918\n28360\n19196\n96112\n29536\n92875\n25677\n54531\n17515\n39400\n99443\n31840\n13381\n55214\n17074\n17987\n77771\n76445\n22226\n34972\n89069\n52614\n68293\n44040\n84828\n50525\n34035\n25507\n26243\n90855\n98988\n14429\n26853\n25262\n97205\n27355\n63113\n366\n29784\n65259\n70059\n80458\n6602\n14607\n19020\n65859\n10307\n73036\n58557\n69646\n16515\n68975\n84157\n98947\n72601\n50889\n69827\n76924\n18016\n35204\n60299\n41970\n14500\n52426\n55730\n76959\n48713\n96894\n1926\n2275\n46692\n22269\n7495\n1079\n21847\n69064\n94057\n68479\n76095\n15531\n15362\n38458\n7821\n11283\n38283\n48643\n84579\n59476\n93872\n45200\n709\n55013\n20248\n20578\n35990\n70463\n79903\n37372\n38620\n56044\n41440\n28168\n31269\n74472\n59131\n64847\n29462\n71374\n29305\n90130\n8368\n99423\n22943\n10275\n5150\n33285\n97109\n49338\n63710\n2278\n52782\n22160\n27772\n39895\n68683\n96742\n43913\n4549\n36747\n91997\n8350\n15549\n75524\n43527\n25699\n19710\n19916\n92472\n68154\n5629\n85129\n59609\n91406\n8279\n39544\n98407\n58564\n37941\n20645\n1339\n7327\n97443\n12257\n83691\n70860\n95659\n35794\n87741\n27225\n49748\n81110\n38303\n68355\n32742\n97741\n57239\n9439\n20997\n42810\n68582\n36588\n59492\n31913\n82176",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "86\n96517\n25730\n36153\n27169\n61021\n51774\n80220\n59749\n81580\n77500\n1032\n56684\n8865\n21425\n3758\n99064\n54402\n480\n3062\n78828\n47985\n96959\n58771\n86717\n98511\n20202\n20706\n69726\n40236\n20153\n92010\n16140\n12440\n9744\n726\n8914\n93148\n37543\n69465\n97234\n5401\n66611\n50018\n33023\n22720\n87970\n59888\n43810\n79193\n77589\n24735\n65093\n19497\n20840\n70753\n70588\n17303\n55804\n29529\n1166\n64656\n25028\n52026\n56827\n29599\n91847\n69265\n48854\n43123\n95171\n31598\n95702\n61382\n8217\n38924\n63921\n53042\n2199\n71866\n85669\n64739\n12150\n64759\n18055\n42900\n42123",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "43\n81746\n61035\n47549\n445\n99377\n90963\n82193\n92\n99799\n20883\n96156\n96967\n45573\n62998\n64772\n88721\n16704\n71648\n47404\n7767\n18252\n15305\n93873\n15562\n54464\n18446\n21585\n63781\n22448\n30366\n14805\n28917\n17482\n58578\n91936\n82723\n97419\n1055\n34827\n40972\n88347\n83324\n80757",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "163\n46975\n48493\n45916\n7985\n58810\n33962\n22874\n73165\n233\n55332\n86365\n33029\n79695\n91172\n83293\n52483\n35193\n22901\n20107\n41874\n53817\n43955\n92638\n55481\n41292\n95150\n24258\n83033\n6453\n54612\n43095\n51395\n27542\n41378\n93697\n79124\n27207\n67566\n60574\n73803\n11460\n53693\n17728\n62869\n76592\n89693\n2869\n84392\n47222\n10436\n51237\n25427\n53390\n97643\n2004\n31057\n5679\n58018\n56719\n44852\n87943\n44769\n93793\n1392\n71148\n93682\n22485\n18098\n45561\n29939\n94721\n36911\n66770\n81497\n53892\n28436\n70715\n35047\n87392\n45925\n71531\n50399\n28020\n80252\n69654\n80153\n79396\n9670\n4673\n15005\n55974\n9384\n16641\n56362\n7741\n76576\n15776\n20921\n35282\n41657\n98310\n21158\n642\n2381\n21980\n71464\n17288\n68382\n43003\n91836\n60984\n70970\n8322\n57029\n83438\n28227\n64662\n88305\n85055\n83741\n68227\n30874\n54645\n8354\n47510\n43286\n29331\n18897\n18193\n17729\n10451\n75916\n87728\n6976\n52871\n60427\n81111\n98475\n55999\n35476\n49325\n68365\n74695\n98667\n74403\n75662\n75926\n57561\n99845\n48757\n53412\n99727\n49453\n4035\n93568\n36430\n47196\n97415\n96965\n7847\n88543\n38247\n76223",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "38\n2196\n79824\n80634\n97000\n89592\n285\n67104\n41326\n27850\n45928\n5767\n54523\n33540\n11434\n77862\n1209\n30585\n75602\n57132\n40541\n2423\n24836\n64044\n3666\n96584\n42740\n7198\n77418\n53684\n93317\n33771\n3978\n24355\n64945\n95386\n29147\n32197\n17753",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "160\n61042\n61477\n13276\n26386\n63946\n1552\n66672\n57297\n89317\n56155\n42208\n89822\n6337\n62241\n98389\n46826\n32574\n80277\n397\n81259\n98084\n75079\n7857\n33166\n2839\n47722\n94785\n39908\n4966\n4479\n6126\n71896\n18433\n4366\n46093\n76541\n74990\n83697\n90810\n55011\n15226\n39864\n1804\n20859\n38501\n20565\n88379\n33473\n51338\n82849\n21546\n99711\n39366\n52341\n12571\n7731\n2499\n55996\n61857\n32506\n33809\n21790\n21643\n86823\n40607\n24810\n55047\n30112\n86893\n98976\n78484\n14214\n92197\n18409\n55464\n21235\n83516\n11593\n91577\n84719\n71554\n84165\n75346\n7690\n69323\n76180\n93569\n87625\n73847\n54248\n30236\n29023\n73657\n45030\n49472\n75164\n58030\n75712\n33024\n63931\n86322\n41840\n67397\n18450\n18634\n31250\n65610\n15274\n9499\n26303\n12339\n9733\n98636\n95032\n34163\n69561\n592\n95284\n11086\n55356\n72665\n89860\n44293\n70680\n36637\n51531\n67470\n27109\n66865\n13437\n98288\n21057\n42833\n35288\n68698\n39102\n29548\n12945\n69863\n76163\n33025\n81329\n78490\n94295\n31594\n74835\n87484\n83077\n961\n82965\n50396\n63040\n16832\n41289\n20530\n88655\n58648\n26609\n34622\n4809",
      "expected_output": "To be computed",
      "type": "large_case_17",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "200\n95572435\n78698780\n30654073\n92214337\n68839548\n52722168\n64543903\n8430027\n37874643\n8577136\n37925483\n5142855\n23119360\n73490075\n70987514\n15288891\n61622374\n43003352\n14851476\n23489902\n20174505\n27058117\n23240645\n45673803\n21654954\n13874385\n48647944\n77812799\n78236311\n22740397\n43729078\n56674096\n45711620\n69849281\n89300787\n38886456\n50674419\n95075186\n80391911\n12993174\n44993743\n92526973\n38381436\n2922868\n93333081\n18262277\n74845921\n84401027\n43779766\n99514526\n3010225\n12513756\n20052208\n63988985\n38726106\n57628070\n83396695\n63679494\n21333245\n61072557\n66991014\n52979698\n55257542\n37392278\n2813785\n39313501\n49138790\n53921453\n92309891\n78947631\n9682064\n47398272\n47083536\n72922324\n45810737\n95482950\n84317058\n65398328\n25887580\n77687316\n44860566\n81417159\n45760327\n77558604\n31806856\n28018336\n30714541\n57363287\n87790275\n64876266\n77630814\n81743981\n95366381\n1538961\n46155876\n80984072\n47724179\n58949226\n83171090\n34623745\n86842369\n40436432\n52938828\n34347027\n62360768\n86582958\n83878565\n27017115\n61656723\n70460683\n49627865\n8692330\n41448767\n66594526\n36399116\n35900305\n70600640\n43164610\n26954144\n44199745\n23209271\n48009641\n98011150\n22302812\n30307503\n20711573\n23824986\n17679496\n17372613\n98362776\n20427053\n24771807\n89917341\n68154360\n28175593\n47041024\n22883671\n73856493\n79918537\n98198201\n18755358\n69491545\n28456191\n54796188\n81649924\n39635268\n11761383\n22608715\n19050241\n52026228\n6924195\n26179190\n94780190\n47949142\n44298090\n82539917\n26035566\n66772446\n68054653\n83552074\n53366574\n10266542\n78286290\n60048883\n75032007\n84801903\n75329450\n59822685\n44671403\n93989781\n87821970\n52831311\n10412092\n34070525\n91946985\n1511561\n20893291\n72806816\n35618220\n41016643\n70287664\n75339907\n34151629\n79137091\n75165411\n38928034\n81635078\n43321076\n90168362\n52881235\n59487637\n11492527\n52910703\n23407567\n8009193\n51692579\n23364660\n71301931\n1757521\n92362317",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Maximum size array (N = 200)"
    },
    {
      "input": "200\n49064734\n7491354\n59782216\n52634455\n91340135\n8617625\n48936550\n30147698\n69595956\n41070485\n80860302\n23621841\n41837684\n19521592\n15798225\n64132216\n7305382\n69545319\n92336977\n84171905\n71986955\n11921091\n64448463\n32875754\n80695776\n86897691\n99560793\n78820757\n71676486\n199924\n87776909\n33281983\n9202256\n40445508\n23740328\n8871833\n22937260\n94864852\n95558958\n29364023\n94870366\n16512059\n84776471\n89280627\n11572083\n5900664\n38157365\n32370901\n42240103\n26923366\n58219981\n8635272\n99902784\n97965480\n31253493\n76876374\n28031906\n9111058\n99858237\n39891564\n76534154\n96935127\n46781578\n75050316\n41357259\n27490598\n13863646\n66241575\n9537044\n78839850\n94694322\n4765291\n85980350\n93534538\n12069237\n25173288\n73239389\n69264258\n54773643\n62625747\n38058523\n26190017\n71550972\n79091730\n54429394\n97462520\n84638620\n69241228\n68617071\n25275801\n50389334\n91090535\n44174115\n11759905\n70896665\n78480205\n14517595\n25829601\n38714458\n33305430\n51027448\n69223615\n21856211\n47504385\n59995035\n81275527\n87085775\n42960733\n52672079\n45314311\n45198618\n99078507\n39242257\n36684452\n91668018\n4371009\n31650794\n39445420\n9616595\n69756286\n97950320\n11805628\n72759796\n27730934\n20800535\n56063230\n83186651\n59706972\n81483225\n1218113\n23476799\n40114246\n47281460\n62849817\n75549014\n88179548\n15892760\n72740119\n36210351\n94048542\n61497725\n74168543\n65875991\n27626880\n71076178\n57890078\n82355631\n80946973\n50497214\n2930650\n95130212\n1079868\n50877657\n6250640\n50760236\n86942351\n55779118\n57109497\n64117342\n13546031\n37324067\n32143409\n57521535\n57253150\n45265306\n22846652\n64052791\n78931829\n56050668\n24673034\n11300797\n41940596\n35264658\n27867777\n91136743\n95500021\n24851611\n26400544\n41563452\n43155602\n20440067\n36583280\n85299367\n37047724\n30788438\n29431456\n13873112\n48347096\n21624021\n87556986\n52696716\n85448139\n75727072\n7745814\n4930133\n6824048\n76418894\n4651667\n97272389\n22404656",
      "expected_output": "To be computed",
      "type": "max_case_19",
      "description": "Maximum size array (N = 200)"
    },
    {
      "input": "2\n1\n100000000",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Edge case array (N = 2)"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:17",
  "total_test_cases": 20
}