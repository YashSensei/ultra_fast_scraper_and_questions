{
  "problem_code": "problems",
  "title": "Madotsuki Pattern",
  "tags": [],
  "text": "Madotsuki is the main character of the surreal adventure game Yumenikki. The poor girl ended her life after discard all of her properties that have been found in the dream. Every year there are some small celebrations among people. The most symbolic sign of Madotsuki is the pattern on her clothes ...(image taken fromgithub.com/madotsuki)You have been given a n*m design. Each element is one of the following character '1', '0', '?'. You can freely choose each '?' to become '0' or '1', to maximizate the number madotsuki pattern in the design.which the madotsuki pattern is somethings like this:101010Remark010101is not a madotsuki pattern.Input(Multiply test cases, for each test case)n m ( n <= 1000, m <= 10)[n*m '0', '1' or '?']OutputFor each test case, output the maximum answer, and how many design can reach the answer in total. Since the answer can be very huge, you only need to output it after mod 1,000,000,007.ExampleInput:2 42 4\r\n????\r\n????\r\n4 6\r\n??????\r\n?1010?\r\n?0101?\r\n??????Output:1 8\r\n6 4",
  "sample_input": "Input:2 42 4\r\n????\r\n????\r\n4 6\r\n??????\r\n?1010?\r\n?0101?\r\n??????",
  "sample_output": "Output:1 8\r\n6 4",
  "link": "https://www.spoj.com/problems/MDT1",
  "scraped_at": "2025-08-17 00:34:07",
  "test_cases": [
    {
      "input": "2 42 4\r\n????\r\n????\r\n4 6\r\n??????\r\n?1010?\r\n?0101?\r\n??????",
      "expected_output": "Output:1 8\r\n6 4",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "2 8 3\nlwngxnia\ndney\n1 8\nzbodpo\n5\nrtulfpzlvwhc\n8\njpzxo\nhtxoglqhaf",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "9 7 2\nqi\njcs\n8 7\nzdkficb\n3\naqmdhlrzr\n5\nyeqjmgvvckww\nvmu",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "6 1 10\nmhx\nolk\n1 10\nkoojssgkcnh\n2\ndrur\n1\nmgwvswev\nf",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "65 82 15\nrtwcwuiz\newstmt\n18 59\npb\n71\nsnegehpx\n87\ntgtnwjuwp\nachhje",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "65 11 24\nvcfqseql\ny\n81 73\nurajdrxdou\n90\ntucuoxf\n98\nv\ngboijcn",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "93 3 60\np\noqrx\n89 23\nlsbf\n13\ncxzmtehs\n34\njsdpi\ni",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "54 45 76\nzcg\ne\n14 17\nhfc\n54\nabezfetyaw\n9\nw\nwfzusi",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "100 76 49\ngopq\niax\n67 97\ncewxl\n56\nx\n73\nbmeajahiakxc\nhv",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "417 54 178\nymojcf\nmfx\n462 259\nfzo\n363\nq\n225\nqkzctydvqzej\nuwupyerzjtaw",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "339 324 311\nwnkk\nl\n424 110\nabfsnlvazg\n333\nxkybfuod\n352\nqza\nmmdpfafc",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "324 391 301\nvssbd\nhkvdmc\n332 423\nbend\n410\nzdpsqeh\n244\nhgjimtrn\nyasmauc",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "52 241 216\noicfpkv\nmb\n265 298\ngg\n125\naztb\n483\ntwbadcsgtznj\nmr",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "362 496 427\nwuax\nq\n91 139\nuiewrwqk\n477\nuflhgbz\n76\npabosxiyrs\nrfciheu",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "168 105 158\niqhumu\nknkgxxh\n412 383\nmmbsny\n237\nopwp\n422\nwixrxwfuey\nvf",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "79 193 472\nbldcnb\nukaqy\n55 143\ngpbhxfcvv\n353\neewkxt\n92\ncp\nsjyceyxlc",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000\nspj\npo\n1000 1000\nsk\n1000\nzzyrfglil\n1000\nwlzwwo\nwzrnwdkyftn",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000\ntlc\nzw\n1000 1000\nzpbfgtpans\n1000\naezuyf\n1000\nivcjorsmbn\nnyvangmg",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "2 2 2\nlwcjd\njvfieba\n1000 2\nbm\n1000\nks\n1000\nmtkfkhep\ncudyhsabuq",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 1000 1000\njrsxmlg\njpmcai\n1000 999\nmxb\n999\nbxrco\n1000\nphjzre\nrmfqmm",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:19",
  "total_test_cases": 20
}