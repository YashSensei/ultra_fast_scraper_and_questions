{
  "problem_code": "problems",
  "title": "KOSARE",
  "tags": [],
  "text": "Mirko found N boxes with various forgotten toys at his attic. There are M different toys, numbered 1 through M, but each of those can appear multiple times across various boxes.Mirko decided that he willchoose some boxesin a way that there isat least one toy of each kindpresent, and throw the rest of the boxes away.Determine the number of ways in which Mirko can do this.InputThe first line of input contains two integers N and M (1 ≤ N ≤ 1 000 000, 1 ≤ M ≤ 20).Each of the following N lines contains an integer Ki(0 ≤ Ki≤ M) followed by Ki distinct integers from interval [1, M], representing the toys in that box.OutputThe first and only line of output should contain the requested number of ways modulo 1 000 000 007.ExampleInput 1:3 3\r\n3 1 2 3\r\n3 1 2 3\r\n3 1 2 3Output 1:7Input 2:3 3\r\n1 1\r\n1 2\r\n1 3Output 2:1Input 3:4 5\r\n2 2 3\r\n2 1 2\r\n4 1 2 3 5\r\n4 1 2 4 5Output 3:6",
  "sample_input": "Input 1:3 3\r\n3 1 2 3\r\n3 1 2 3\r\n3 1 2 3Output 1:7",
  "sample_output": "Input 2:3 3\r\n1 1\r\n1 2\r\n1 3Output 2:1",
  "link": "https://www.spoj.com/problems/KOSARE",
  "scraped_at": "2025-08-17 00:33:53",
  "test_cases": [
    {
      "input": "Input 1:3 3\r\n3 1 2 3\r\n3 1 2 3\r\n3 1 2 3Output 1:7",
      "expected_output": "Input 2:3 3\r\n1 1\r\n1 2\r\n1 3Output 2:1",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "8 10 9\ntnlvw wxy 1\n3 1 1 7\n2 7 4 8\n1 3 7 10 10 10\n5 8 4 curkkbt yrw",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "7 10 3\nxl vjio 5\n5 1 3 6\n5 5 9 3\n4 5 5 6 3 10\n2 3 8 il cfq",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "1 3 6\nfpkws uqd 1\n2 7 1 3\n5 8 5 2\n9 4 1 8 8 2\n9 2 7 ne qyn",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "5 5 96\nzwv obtw 79\n14 38 50 69\n78 75 62 48\n99 49 20 42 39 70\n76 69 90 qw bkqv",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "72 56 91\ng fqsn 80\n61 24 98 24\n41 78 97 21\n82 99 2 46 18 67\n47 1 63 rq sjbgx",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "40 45 54\nptabl j 48\n95 42 98 66\n99 97 16 62\n77 34 51 27 3 57\n21 38 54 fcbeh g",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "76 2 4\nw ki 94\n45 84 56 14\n9 83 95 36\n20 33 64 97 90 53\n84 11 27 tlybt m",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "79 16 73\npc owt 81\n17 66 72 82\n43 68 32 8\n82 22 49 97 40 53\n87 16 56 xt evr",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "383937 290814 146362\nf msdk 346615\n430090 402133 249804 298907\n399316 145907 154174 181753\n256740 124119 87010 396206 392461 310537\n214898 303573 165962 iccvtd i",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "177812 373254 445881\nz rmb 195026\n447348 178923 371023 311843\n283235 475189 81482 470612\n448279 310388 180234 140378 407888 81342\n286590 375411 201939 wnfgdi ps",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "193547 80590 448811\nfva zd 313476\n164977 194439 84833 396653\n414556 424481 448061 63124\n227623 98245 97446 394538 459073 235909\n144978 94363 352926 ftrjlp cnqxg",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "89243 96769 224034\nkpqtf v 498158\n144667 204200 162353 241917\n420442 116983 432298 108734\n207896 203584 151365 236059 368558 194538\n58753 456264 343503 j k",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "130104 233019 431823\ngbu ivwa 102477\n380228 148374 464142 110630\n92787 56795 462548 126307\n51383 319008 485468 127298 472529 220934\n258502 285097 264951 le ghmiv",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "489225 121386 426140\nt di 430725\n189609 489697 83214 316652\n276386 116284 458412 183179\n218127 70296 486891 142175 222983 197803\n118974 255443 184778 xpx hqyrl",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "476208 354748 124130\ne uixmo 118462\n52009 363085 392779 252285\n79428 403785 176311 235837\n212288 333744 341558 57661 142582 463896\n53136 96982 265365 aiphi jwu",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000000 1000000 1000000\ndnh u 1000000\n1000000 1000000 1000000 1000000\n1000000 1000000 1000000 1000000\n1000000 1000000 1000000 1000000 1000000 1000000\n1000000 1000000 1000000 tn dusb",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000000 1000000 1000000\ntzejo ns 1000000\n1000000 1000000 1000000 1000000\n1000000 1000000 1000000 1000000\n1000000 1000000 1000000 1000000 1000000 1000000\n1000000 1000000 1000000 av bag",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1 2 999999\nfqpxe ahnme 2\n1 1 2 1000000\n999999 1 999999 1\n1 999999 1 1000000 1000000 1000000\n2 2 999999 wyno o",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 1 1000000\ns b 2\n2 1 999999 1000000\n1 999999 999999 999999\n1000000 1000000 1 1000000 2 999999\n1 1 1 yxtmdoo rvhqf",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:19",
  "total_test_cases": 20
}