{
  "problem_code": "problems",
  "title": "Hike on a Graph",
  "tags": [],
  "text": "\"Hike on a Graph\" is a game that is played on a board on\r\nwhich an undirected graph is drawn. The graph is complete and has\r\nall loops, i.e. for any two locations there is exactly one arrow\r\nbetween them. The arrows are coloured. There are three players, and\r\neach of them has a piece. At the beginning of the game, the three\r\npieces are in fixed locations on the graph. In turn, the players\r\nmay do a move. A move consists of moving one's own piece along an\r\narrow to a new location on the board. The following constraint is\r\nimposed on this: the piece may only be moved along arrows of the\r\nsame colour as the arrow between the two opponents' pieces.In the sixties (\"make love not war\") a one-person variant\r\nof the game emerged. In this variant one person moves all\r\nthe three pieces, not necessarily one after the other, but\r\nof course only one at a time. Goal of this game is to get\r\nall pieces onto the same location, using as few moves as\r\npossible. Find out the smallest number of moves that is\r\nnecessary to get all three pieces onto the same location,\r\nfor a given board layout and starting positions.InputThe input file contains several test cases. Each test\r\ncase starts with the numbern. Input is terminated\r\nbyn=0. Otherwise,1 ≤ n ≤ 50. Then\r\nfollow three integersp1, p2,\r\np3with1 ≤ pi≤ ndenoting the starting locations of the game pieces. The\r\ncolours of the arrows are given next as an×nmatrixmof whitespace-separated lower-case letters. The\r\nelementmijdenotes the colour of the\r\narrow between the locationsiandj. Since\r\nthe graph is undirected, you can assume the matrix to be\r\nsymmetrical.OutputFor each test case output on a single line the minimum number of moves\r\nrequired to get all three pieces onto the same location, or the word\r\n\"impossible\" if that is not possible for the given board and starting\r\nlocations.ExampleInput:3 1 2 3\r\nr b r\r\nb b b\r\nr b r\r\n2 1 2 2\r\ny g\r\ng y\r\n0Output:2\r\nimpossible",
  "sample_input": "Input:3 1 2 3\r\nr b r\r\nb b b\r\nr b r\r\n2 1 2 2\r\ny g\r\ng y\r\n0Output:2\r\nimpossible",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/HIKE",
  "scraped_at": "2025-08-17 00:34:14",
  "test_cases": [
    {
      "input": "3 1 2 3\r\nr b r\r\nb b b\r\nr b r\r\n2 1 2 2\r\ny g\r\ng y\r\n0",
      "expected_output": "2\r\nimpossible",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "6 7 6 1\nu phip ndtju\nin ha o\nfe e hqt\n6 1 5 8\no zun\nodfm i\n2",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "5 5 10 6\nc vwux h\nfp ixckj med\nlvl fcfzo t\n10 2 7 9\nwh ps\nczo tqmm\n2",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "10 2 1 2\nafnl xuvpp kfhs\ndslbz b c\nh t qgoaf\n5 1 3 4\nxie pf\nhg xulzs\n1",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "6 3 13 29\nzes vuj t\nymbh aajc swov\ntcg gbth ru\n20 28 28 10\ndmda aq\ny smpz\n47",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "36 17 3 24\nw ajocv uzy\nxcd ggywd mrc\nc t lop\n3 39 14 40\nj i\nb to\n27",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "35 30 26 36\nc rtgb aw\nbvpkv ruuaq cczd\nug sor eaq\n20 42 36 35\nr pak\nbdpt webg\n36",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "23 2 5 46\nrtww om zxd\nxvd hvsj g\njaqo xj hfkb\n38 49 22 14\ny bs\ngdse eq\n44",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "31 18 24 1\nbhr poi hbet\npwk oz d\nrvb ok c\n13 16 35 17\nn eb\nkb lqac\n37",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "22 25 16 17\nblmyt te rkjbr\nse zvmu mesg\nloh bpq fgvsw\n2 23 18 16\nwldro x\nuosbx ncxwt\n15",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "25 22 12 20\nqcbo c bqf\ndo qeex ks\nhmwu julnx yavan\n17 11 21 19\nzydhj w\ncf wx\n2",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "13 15 22 4\nhs m rk\nux ivhmy am\nde c knob\n8 7 19 25\nrbefb cp\ndmpah mvha\n8",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "18 22 11 7\nav e qt\nqt oac guow\nutv jluf fym\n13 14 23 17\nfspl ify\nwarhb ksg\n5",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "22 22 21 14\nyny su jxh\no dunt nym\njj o y\n13 12 23 18\nvjkf f\nvu qxap\n11",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "3 16 4 8\ndblup qm mxqq\nbz bxk tyk\nakmwq evnni jrg\n6 16 17 5\nu b\nudh imow\n25",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "4 5 16 21\nmycgd exg ury\nctgz r sxdc\nseo carcw slcto\n3 25 5 4\nyireo emmuh\nvqn pqwi\n5",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "50 50 50 50\nbwo va a\nnrmfz e z\nurf lb oc\n50 50 50 50\nxqshq zqjjn\ncuhe qup\n50",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "50 50 50 50\ngce bdm gjs\nkzdeu t jdujv\nery bda lkyck\n50 50 50 50\nhmpb q\nwars qj\n50",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "2 50 1 1\nyvl ipci mvst\nea vslog q\nda k c\n1 2 2 2\nmdt fp\nube moc\n49",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 50 2 1\nbp mmc uq\ndj wiexd mlmpa\ni o q\n2 1 50 1\nkiyt ijm\nlik wxr\n50",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-19 22:43:22",
  "total_test_cases": 20
}