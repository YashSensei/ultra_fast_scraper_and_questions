{
  "problem_code": "problems",
  "title": "Arranging the Blocks",
  "tags": [],
  "text": "A group of n children are playing with a set of n2flat square blocks. Each block is painted from above with one colour, and \r\nthere are no more than 2 blocks of each colour. The blocks are initially arranged in an n × n square forming some sort of picture.The children have been provided with some other n × n picture and asked to rearrange the blocks to that form. Since this is not really what they enjoy doing most, they intend to solve the task together and spend as little time on it as possible. Thus, every minute each child chooses a single 1 × n row or n × 1 column of blocks to rearrange. This row/column may never intersect with rows/columns chosen by other children in the same minute. A child takes one minute to perform any rearrangement (permutation) of the blocks within its row/column it likes.Determine whether the children can perform their task of converting one block image into the other, and if so – find the minimum possible time in minutes required to achieve this.InputThe input starts with a line containing a single integer t ≤ 200, the number of test cases. t test cases follow. \r\n\r\nEach test case begins with a line containing integer n (1 ≤ n ≤ 500). The next n lines contain n integers Pi,jeach, forming a bitmap matrix representing the colours of the blocks in their initial configuration (1 ≤ Pi,j≤ n2). The following n lines contain n integers Qi,jeach, corresponding to the matrix for the final configuration (1 ≤ Qi,j≤ n2).OutputFor each test case output a line with a single non-negative integer corresponding to the number of minutes required to transform matrix P into matrix Q, or the wordnoif no such transformation is possible.ExampleInput:3\r\n3\r\n1 3 4\r\n2 1 3\r\n2 5 5\r\n3 1 3\r\n2 1 2\r\n4 5 5\r\n3\r\n1 2 3\r\n4 5 6\r\n7 8 9\r\n1 5 6\r\n4 2 9\r\n7 8 3\r\n2\r\n1 2\r\n1 2\r\n1 3\r\n1 2Output:2\r\n1\r\nnoThe actions taken in the first test case are illustrated below.Warning: enormous Input/Output data, be careful with certain languages",
  "sample_input": "Input:3\r\n3\r\n1 3 4\r\n2 1 3\r\n2 5 5\r\n3 1 3\r\n2 1 2\r\n4 5 5\r\n3\r\n1 2 3\r\n4 5 6\r\n7 8 9\r\n1 5 6\r\n4 2 9\r\n7 8 3\r\n2\r\n1 2\r\n1 2\r\n1 3\r\n1 2Output:2\r\n1\r\nno",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/BLOCKS",
  "scraped_at": "2025-08-17 00:33:15"
}