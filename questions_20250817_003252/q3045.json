{
  "problem_code": "problems",
  "title": "Ada and Football",
  "tags": [],
  "text": "Ada the Ladybug has many friends who live on atree. Each of them is fan of a football team. Ada sometimes goes on a trip from one friend to another. If she meets a friend she tells him/her about all previously visited friends who are fans of the same team. The visited friend will gain+1happiness for each friend Ada told him/her about.Ada is wondering (for each trip) what will be the total gained happiness.Also note that sometimes a friend changes his/her mind and start to support different team.InputThe first line two integers1 ≤ N Q ≤     105, the number of friends (N) and the number of queries.The next line will containNintegers0≤ Ai≤     105, the team whichithfriend supports.The nextN-1lines will contain two integers0 ≤ a, b <     N, the friends which will be connected by a branch (edge).The nextQlines will be of two kinds:1 x y(0 ≤ x < N,0 ≤ y ≤ 105),         meaning thatxthfriend will start supporting teamy(instead of the old one).2 a b(0 ≤ a, b < N), meaning that Ada will travel from friendato friendband wants to know the happiness.OutputFor each query of second kind, output the gained happiness.Example Input7 8\r\n0 0 1 2 1 1 2\r\n0 1\r\n1 5\r\n1 2\r\n2 4\r\n2 3\r\n3 6\r\n2 4 5\r\n2 0 6\r\n2 1 3\r\n1 1 2\r\n1 2 2\r\n2 4 5\r\n2 0 6\r\n2 1 3Example Output3\r\n2\r\n0\r\n2\r\n6\r\n3",
  "sample_input": "7 8\r\n0 0 1 2 1 1 2\r\n0 1\r\n1 5\r\n1 2\r\n2 4\r\n2 3\r\n3 6\r\n2 4 5\r\n2 0 6\r\n2 1 3\r\n1 1 2\r\n1 2 2\r\n2 4 5\r\n2 0 6\r\n2 1 3",
  "sample_output": "3\r\n2\r\n0\r\n2\r\n6\r\n3",
  "link": "https://www.spoj.com/problems/ADAFTBLL",
  "scraped_at": "2025-08-17 00:34:13"
}