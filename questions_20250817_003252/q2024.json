{
  "problem_code": "problems",
  "title": "Good Travels",
  "tags": [],
  "text": "It's that time of year again - the best ACM-ICPC team of all time is off to the World Finals! Being the best, they realize that a good performance starts before the contest itself - in order to get into the perfect mindset, they must have as much fun on the trip to the contest site as possible!The Team is interested in a network of N (2 ≤ N ≤ 106) cities (conveniently numbered 1..N), interconnected by M (1 ≤ M ≤ 106) one-way flights (similarly numbered 1..M). Their hometown is city S (1 ≤ S ≤ N), and the contest will take place in city E (1 ≤ E ≤ N, S ≤ E). Flight i goes from city ai (1 ≤ ai ≤ N) to city bi (1 ≤ bi ≤ N, ai ≤ bi), and no two flights connect the same pair of cities in the same direction. In general, no cities are guaranteed to be reachable from other cities by a sequence of flights. However, The Team of course knows that city E is reachable from city S - they're not about to break their streak of triumphant wins!Now, each city i has a fun value, fi (0 ≤ fi ≤ 106), associated with it. Along their trip, The Team will take time to have fun at every city they visit, including the first and last. However, though they can visit a city multiple times (including cities S and E), or even take a certain flight multiple times, surely this gets boring quickly - therefore, any city's fun can only be had up to once.The Team wants to determine the maximal amount of fun they can have on any sequence of flights that starts at city S and ends at city E. Naturally, every member on The Team is so intelligent that they've calculated this value in their heads (and are quite excited about it) - but can you?InputFirst line: 4 integers, N, M, S, and ENext N lines: 1 integer, fi, for i = 1..NNext M lines: 2 integers, ai and bi, for i = 1..MOutput1 integer, the maximal amount of fun The Team can have on their trip.ExampleInput:5 6 1 4\r\n5\r\n4\r\n5\r\n10\r\n2\r\n1 2\r\n1 3\r\n2 4\r\n3 4\r\n4 5\r\n5 4Output:22Explanation of SampleThe network of cities and flights looks like this (the fun values of cities are shown below them):The optimal route that The Team can take goes through cities 1 → 3 → 4 → 5 → 4, yielding a total fun value of 5 + 5 + 10 + 2 + 0 = 22.",
  "sample_input": "Input:5 6 1 4\r\n5\r\n4\r\n5\r\n10\r\n2\r\n1 2\r\n1 3\r\n2 4\r\n3 4\r\n4 5\r\n5 4Output:22",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/GOODA",
  "scraped_at": "2025-08-17 00:33:51"
}