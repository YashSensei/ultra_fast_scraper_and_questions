{
  "problem_code": "problems",
  "title": "Dynamic LCA",
  "tags": [],
  "text": "A forest of rooted trees initially consists of N  (1 ≤ N ≤ 100,000) single-vertex trees. The vertices are numbered from 1 to N.You must process the following queries, where (1 ≤ A, B ≤ N) :linkA B : add an edge from  vertex  A to B, making A a child of B, where initially A is a root vertex, A and B are in different trees.cutA : remove edge from A to its parent, where initially A is a non-root vertex.lcaA B : print the lowest common ancestor of A and B, where A and B are in the same tree.InputThe first line of input contains the number of initial single-vertex trees N and the number of queries M (1 ≤ M ≤ 100,000). The following M lines contain queries.OutputFor eachlcaquery output the lowest common ancestor (vertex number between 1 and N).ExampleInput:5 9lca 1 1link 1 2link 3 2link 4 3lca 1 4lca 3 4cut 4link 5 3lca 1 5Output:1232",
  "sample_input": "Input:5 9lca 1 1link 1 2link 3 2link 4 3lca 1 4lca 3 4cut 4link 5 3lca 1 5Output:1232",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/DYNALCA",
  "scraped_at": "2025-08-17 00:33:15"
}