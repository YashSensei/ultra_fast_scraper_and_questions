{
  "problem_code": "problems",
  "title": "Combat on a tree",
  "tags": [],
  "text": "Alice and Bob are playing a game on a tree of n nodes. Each node is either black or white initially.They take turns to do the following operation:Choose a white node v from the current tree;Color all white nodes on Path(1, v) to black.The player who takes the last turn wins.Now Alice takes the first turn. Help her find out if she can win when they both use optimal strategy.InputThe first line of input contains a integer n representing the number of nodes in the tree. 1 ≤ n ≤ 100000The second line contains n integers c1, c2 ... cn. 0 ≤ ci ≤ 1.ci = 0 means the ith node is white initially and ci = 1 means black.Next n-1 lines describes n-1 edges in the tree. Each line contains two integers u and v, means there is a edge connecting u and v.OutputIf Alice can't win print -1.Otherwise determine all the nodes she can choose in the first turn in order to win. Print them in ascending order.ExampleInput #1:81 1 0 1 0 0 1 01 21 32 63 43 55 77 8Output #1:5Input #2:201 1 1 0 1 1 1 0 1 0 0 0 1 0 1 0 0 0 0 01 22 32 41 51 65 75 82 98 101 111 129 136 1414 157 1611 172 187 1912 20Output #281112",
  "sample_input": "Input #1:81 1 0 1 0 0 1 01 21 32 63 43 55 77 8Output #1:5",
  "sample_output": "Input #2:201 1 1 0 1 1 1 0 1 0 0 0 1 0 1 0 0 0 0 01 22 32 41 51 65 75 82 98 101 111 129 136 1414 157 1611 172 187 1912 20Output #281112",
  "link": "https://www.spoj.com/problems/COT3",
  "scraped_at": "2025-08-17 00:34:06"
}