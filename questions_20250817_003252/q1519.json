{
  "problem_code": "problems",
  "title": "Allowed Factors",
  "tags": [],
  "text": "Chico told his students that from now on, they would be referenced by numerical codes of up to 12 digits in official communications (emails and tasks). Then, he gave each student a card with a unique number written on it. The students quickly assumed this number was their code — but to their surprise (and Levi’s despair), Professor Chico explained that this was not their actual code.A student’s code is the term at the position (indexed from 1) in a special ordered sequenceS, where that position is the number written on their card. The sequenceShas a unique property: each number in it, when decomposed into prime factors, can only include primes from a set ofNnumbers written on the board by the teacher. To make Levi’s life even harder, the set of primes changes every week, so he always has to recalculate his code to avoid missing deadlines.Your task is to help Levi. Given the set of prime numbers written on the board during the week and the number on Levi’s card, determine what his weekly codInputThe input consists of multiple test cases.Each test case begins with a line containing two integersN(1 ≤N≤ 102) andM(1 ≤M≤ 105) representing respectively the number of prime numbers written on the board by Professor Chico and the number on the student's card.The second line containsNdistinct prime numbersP₁,P₂, ...,Pₙ(2 ≤Pi< 106), which form the allowed prime factor set for the week.Input ends when a line withN = 0andM = 0is encountered.OutputThe output consists of a single line for each test case, containing Levi's weekly code.ExampleInput:2 1\r\n2 3\r\n2 10\r\n2 3\r\n3 10\r\n2 3 5\r\n3 10\r\n3 7 13\r\n0 0Output:2\r\n24\r\n15\r\n81",
  "sample_input": "Input:2 1\r\n2 3\r\n2 10\r\n2 3\r\n3 10\r\n2 3 5\r\n3 10\r\n3 7 13\r\n0 0Output:2\r\n24\r\n15\r\n81",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/ALWFACT",
  "scraped_at": "2025-08-17 00:33:52"
}