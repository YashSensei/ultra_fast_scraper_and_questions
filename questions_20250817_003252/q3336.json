{
  "problem_code": "problems",
  "title": "Tree Construction",
  "tags": [],
  "text": "EnglishVietnameseMoles are tidy and hard-working animals. Our mole likes to   keep its underground residence in utmost order, so that everyone living there knows where to find   things.To achieve this, the mole connected rooms with tunnels so   that there is a single unique way to get from one room to any other room. The distance between two rooms   is the number of halls passed on the way from one to the other.Despite all the effort, some of the mole's guests are   complaining that it takes too long to walk between certain pairs of rooms.The mole decided to reconstruct her residence, closing   one tunnel and opening a new one, so that the distance between the farthest two rooms is the smallest   possible, but so that it is still possible to reach every room from every other room.Write a program which determines the distance between   the farthest two rooms after reconstruction, which tunnel to close and which to open.InputThe first line contains an integer N (1 ≤ N ≤ 300 000), the   number of rooms. The rooms are numbered 1 to N.Each of the next N−1 lines contains two integers, the   numbers of rooms a tunnel connects.OutputOutput on separate lines, in order:The distance between the two farthest rooms after reconstruction.A pair of integers representing a previously existing tunnel,   which should be closed.A pair of integers, the rooms between which a new tunnel   should be opened.Note: The solution will not necessarily be unique. Output   any reconstruction plan which achieves the smallest distance between the farthest two rooms.ExampleInput4\n1 2\n2 3\n3 4Output2\n3 4\n4 2Input7\n1 3\n2 3\n2 7\n4 3\n7 5\n3 6Output3\n2 3\n7 3",
  "sample_input": "Input4\n1 2\n2 3\n3 4Output2\n3 4\n4 2",
  "sample_output": "Input7\n1 3\n2 3\n2 7\n4 3\n7 5\n3 6Output3\n2 3\n7 3",
  "link": "https://www.spoj.com/problems/TREECST",
  "scraped_at": "2025-08-17 00:34:20"
}