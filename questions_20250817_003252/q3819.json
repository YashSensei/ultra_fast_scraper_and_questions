{
  "problem_code": "problems",
  "title": "Hypertubes",
  "tags": [],
  "text": "In a galaxy far, far away, the fastest method of transportation is using hypertubes. Each hypertube directly connects K stations with each other. What is the minimum number of stations that we need to pass through in order to get from station 1 to station N?InputThe first line of input contains three positive integers: N (1 ≤ N ≤ 100 000), the number of stations, K (1 ≤ K ≤ 1 000), the number of stations that any single hypertube directly interconnects, and M (1 ≤ M ≤ 1 000), the number of hypertubes.Each of the following M lines contains the description of a single hypertube: K positive integers, the labels of stations connected to that hypertube.OutputThe first and only line of output must contain the required minimum number of stations. If it isn't possible to travel from station 1 to station N, output -1.ExampleInput:9 3 5\r\n1 2 3\r\n1 4 5\r\n3 6 7\r\n5 6 7\r\n6 8 9Output:4Input:15 8 4\r\n11 12 8 14 13 6 10 7\r\n1 5 8 12 13 6 2 4\r\n10 15 4 5 9 8 14 12\r\n11 12 14 3 5 6 1 13Output:3Clarification of the first example: It is possible to travel from station 1 to station 9 using only four stations in the following ways: 1-3-6-9, or 1-5-6-9.",
  "sample_input": "Input:9 3 5\r\n1 2 3\r\n1 4 5\r\n3 6 7\r\n5 6 7\r\n6 8 9Output:4",
  "sample_output": "Input:15 8 4\r\n11 12 8 14 13 6 10 7\r\n1 5 8 12 13 6 2 4\r\n10 15 4 5 9 8 14 12\r\n11 12 14 3 5 6 1 13Output:3",
  "link": "https://www.spoj.com/problems/UCBINTH",
  "scraped_at": "2025-08-17 00:34:36"
}