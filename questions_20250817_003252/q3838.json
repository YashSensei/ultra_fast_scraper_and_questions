{
  "problem_code": "problems",
  "title": "String fertilization",
  "tags": [],
  "text": "Strings are like plants in that they require a lot of loving care to grow. In this problem we will follow the evolution of a garden withNstrings during a period coveringTseasons. The strings in the garden are numbered from1toN, and are all initially empty. Each season we will perform two tasks in our garden:At the beginning of the season, we mayprunethe garden by deleting theCcharacters on the rightmost end of each of theNstrings in the garden.After the pruning is done, wefertilizethe garden so that each of theNstrings grows by appending one character (possibly different for each string) to its rightmost end.At the end of the season, a good string gardener always takes a moment to contemplate his/her work. In order to do this, we take a numberPfrom1toNand then dedicate ourselves to appreciate the beauty of the string that stands at positionPwhen we sort theNstrings in the garden alphabetically from smallest to largest (breaking draws arbitrarily by putting first the strings identified with smaller numbers).These moments of contemplation should be a well-deserved resting time for the gardener, so we don't want to waste time sorting the strings in the garden to identify the one we want to appreciate. Can you help us find it?InputThe first line contains two integer numbersNandT, representing the number of strings in the garden and the number of seasons we follow their evolution, respectively (2 ≤ N≤100and1≤T≤104). The followingTlines describe one season each, in the same order in which they take place.The description of each season consists of a numberC, a stringSand another numberP(1≤P≤N). The numberCis non-negative and represents the number of characters that are deleted during the pruning period at the beginning of the corresponding season (so it can be zero in case that no pruning is performed in that season). The stringScontains exactlyNcharacterss1, s2, ..., sN, being thei-th charactersithe one that should be appended to the rightmost end of the string identified by the numberi(siis a lower-case letter of the English alphabet fori = 1, 2, ..., N). Finally, the numberPrepresents the position of the string we would like to appreciate at the end of the season, when we sort theNstrings in the garden as explained in the problem statement.OutputPrintTlines, one for each season described in the input. Thei-th line should contain the number identifying the string we want to appreciate at the end of thei-th season, fori = 1, 2, ..., T.Example 1Input:2 4\r\n0 aa 1\r\n0 ba 1\r\n1 ba 2\r\n2 aa 2Output:1\r\n2\r\n1\r\n2Example 2Input:26 26\r\n0 abcdefghijklmnopqrstuvwxyz 1\r\n1 bcdefghijklmnopqrstuvwxyza 2\r\n1 cdefghijklmnopqrstuvwxyzab 3\r\n1 defghijklmnopqrstuvwxyzabc 4\r\n1 efghijklmnopqrstuvwxyzabcd 5\r\n1 fghijklmnopqrstuvwxyzabcde 6\r\n1 ghijklmnopqrstuvwxyzabcdef 7\r\n1 hijklmnopqrstuvwxyzabcdefg 8\r\n1 ijklmnopqrstuvwxyzabcdefgh 9\r\n1 jklmnopqrstuvwxyzabcdefghi 10\r\n1 klmnopqrstuvwxyzabcdefghij 11\r\n1 lmnopqrstuvwxyzabcdefghijk 12\r\n1 mnopqrstuvwxyzabcdefghijkl 13\r\n1 nopqrstuvwxyzabcdefghijklm 14\r\n1 opqrstuvwxyzabcdefghijklmn 15\r\n1 pqrstuvwxyzabcdefghijklmno 16\r\n1 qrstuvwxyzabcdefghijklmnop 17\r\n1 rstuvwxyzabcdefghijklmnopq 18\r\n1 stuvwxyzabcdefghijklmnopqr 19\r\n1 tuvwxyzabcdefghijklmnopqrs 20\r\n1 uvwxyzabcdefghijklmnopqrst 21\r\n1 vwxyzabcdefghijklmnopqrstu 22\r\n1 wxyzabcdefghijklmnopqrstuv 23\r\n1 xyzabcdefghijklmnopqrstuvw 24\r\n1 yzabcdefghijklmnopqrstuvwx 25\r\n1 zabcdefghijklmnopqrstuvwxy 26Output:1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1",
  "sample_input": "Input:2 4\r\n0 aa 1\r\n0 ba 1\r\n1 ba 2\r\n2 aa 2Output:1\r\n2\r\n1\r\n2",
  "sample_output": "Input:26 26\r\n0 abcdefghijklmnopqrstuvwxyz 1\r\n1 bcdefghijklmnopqrstuvwxyza 2\r\n1 cdefghijklmnopqrstuvwxyzab 3\r\n1 defghijklmnopqrstuvwxyzabc 4\r\n1 efghijklmnopqrstuvwxyzabcd 5\r\n1 fghijklmnopqrstuvwxyzabcde 6\r\n1 ghijklmnopqrstuvwxyzabcdef 7\r\n1 hijklmnopqrstuvwxyzabcdefg 8\r\n1 ijklmnopqrstuvwxyzabcdefgh 9\r\n1 jklmnopqrstuvwxyzabcdefghi 10\r\n1 klmnopqrstuvwxyzabcdefghij 11\r\n1 lmnopqrstuvwxyzabcdefghijk 12\r\n1 mnopqrstuvwxyzabcdefghijkl 13\r\n1 nopqrstuvwxyzabcdefghijklm 14\r\n1 opqrstuvwxyzabcdefghijklmn 15\r\n1 pqrstuvwxyzabcdefghijklmno 16\r\n1 qrstuvwxyzabcdefghijklmnop 17\r\n1 rstuvwxyzabcdefghijklmnopq 18\r\n1 stuvwxyzabcdefghijklmnopqr 19\r\n1 tuvwxyzabcdefghijklmnopqrs 20\r\n1 uvwxyzabcdefghijklmnopqrst 21\r\n1 vwxyzabcdefghijklmnopqrstu 22\r\n1 wxyzabcdefghijklmnopqrstuv 23\r\n1 xyzabcdefghijklmnopqrstuvw 24\r\n1 yzabcdefghijklmnopqrstuvwx 25\r\n1 zabcdefghijklmnopqrstuvwxy 26Output:1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1",
  "link": "https://www.spoj.com/problems/TAP2014F",
  "scraped_at": "2025-08-17 00:34:36"
}