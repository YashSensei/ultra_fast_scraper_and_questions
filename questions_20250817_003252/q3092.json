{
  "problem_code": "problems",
  "title": "Around the world",
  "tags": [],
  "text": "Over the years, FJ has made a huge number of farmer friends all\r\naround the world. Since he hasn't visited 'Farmer Ted' from England\r\nand 'Boer Harms' from Holland for a while, he'd like to visit them.He knows the longitude of the farm where each of his worldwide\r\nfriends resides. This longitude is an angle (an integer in the\r\nrange 0..359) describing the farm's location on the Earth, which\r\nwe will consider to be a circle instead of the more complex and\r\ntraditional spherical representation. Except for the obvious\r\ndiscontinuity, longitudes increase when traveling clockwise on this\r\ncircle.FJ plans to travel by airplane to visit his N (1 ≤ N ≤ 5,000)\r\nfriends (whose farms are uniquely numbered 1..N). He knows the\r\nschedules for M (1 ≤ M ≤ 25,000) bidirectional flights connecting\r\nthe different farms. Airplanes always travel shortest paths on the\r\nEarth's surface (i.e., on the shortest arc of a circle).There will always be a unique shortest path between two farms that\r\nare directly connected. No pair of antipodal farms (exactly opposite\r\neach other on the circle) is ever directly connected.Each airplane flight can be described as traveling in clockwise or\r\ncounterclockwise direction around the Earth's surface. For example,\r\na flight from longitude 30 to longitude 35 would be clockwise, as\r\nwould be a flight from longitude 350 to longitude 10. However, a\r\nflight from longitude 350 to longitude 200 follows a shortest path\r\ncounterclockwise around the circle.FJ would find it very cool if he could make a trip around the world,\r\nvisiting some of his friends along the way. He'd like to know if\r\nthis is possible and if so, what is the minimum number of flights\r\nhe can take to do so.He wants to start and finish his journey at the location of his\r\nbest friend (the one listed first in the input below). In order\r\nto make sure he actually circles the Earth, he wants to ensure that\r\nthe clockwise distance he travels is different from the counterclockwise\r\ndistance he travels.InputThe first line of the input contains an integer t representing the number of test cases. Then t test cases follow. Each test case has the following form:Line 1: Two space-separated integers: N and M.Lines 2..N+1: Line i+1 contains one integer: the longitude of the\r\ni-th farm. Line 2 contains the location of the farm of his\r\nbest friend.Lines N+2..N+M+1: Line i+N+1 contains two integers giving the\r\nindices of two farms that are connected by a flight.OutputFor each test case, output a single integer specifying the minimum number of flights FJ\r\nneeds to visit to make a trip around the world. Every time FJ\r\nmoves from one farm to another counts as one flight. If it is\r\nimpossible to make such a trip, output the integer -1.ExampleInput:1\r\n3 3\r\n0\r\n120\r\n240\r\n1 2\r\n2 3\r\n1 3Output:3ExplanationFarmer John has three friends at longitudes 0, 120, and 240. There are\r\nthree flights: 0 ↔ 120, 120 ↔ 240, and 0 ↔ 240. The journey must start and\r\nfinish at longitude 0.FJ must visit all 3 friends to make a full trip around the world.",
  "sample_input": "Input:1\r\n3 3\r\n0\r\n120\r\n240\r\n1 2\r\n2 3\r\n1 3Output:3",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/AROUND",
  "scraped_at": "2025-08-17 00:34:09"
}