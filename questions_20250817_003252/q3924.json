{
  "problem_code": "problems",
  "title": "Intersection Query",
  "tags": [],
  "text": "Considering a set of segments. At the beginning, the set is totally empty.There areNoperations: insert or erase avertical(orhorizontal) segment and then you have to compute how many intersections are there.There is no two same type of segments that share a common point in the set.InputThe first line containsN(1≤N≤105) - the number of operations.The followingNlines describe the operations:1 X1Y1X2Y2: insert a segment whose two endpoints are(X1, Y1)and(X2, Y2)to the set. (|X1|, |Y1|, |X2|, |Y2| ≤109)2 K: erase theK-tholdest segment from the set. (1≤K≤ current size of the set)OutputFor each query, print the number of intersections of the line segments in the set after processing the operation in one line.ExampleInput:10\r\n1 -1 0 -2 0\r\n1 2 -2 0 -2\r\n1 1 1 1 -3\r\n2 1\r\n1 6 -2 5 -2\r\n2 3\r\n1 2 -2 2 -6\r\n1 -4 -3 -5 -3\r\n1 3 -4 -1 -4\r\n2 2Output:0\r\n0\r\n1\r\n1\r\n1\r\n1\r\n2\r\n2\r\n3\r\n2UPD(1/30/2015): Increase time limit from 2s to 5s. My C++ solution (unoptimized) runs in about 7 seconds.",
  "sample_input": "Input:10\r\n1 -1 0 -2 0\r\n1 2 -2 0 -2\r\n1 1 1 1 -3\r\n2 1\r\n1 6 -2 5 -2\r\n2 3\r\n1 2 -2 2 -6\r\n1 -4 -3 -5 -3\r\n1 3 -4 -1 -4\r\n2 2Output:0\r\n0\r\n1\r\n1\r\n1\r\n1\r\n2\r\n2\r\n3\r\n2",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/ZQUERY2",
  "scraped_at": "2025-08-17 00:34:30"
}