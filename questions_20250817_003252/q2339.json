{
  "problem_code": "problems",
  "title": "Pyramid Sums 2",
  "tags": [],
  "text": "This is a harder version ofPYRSUMTommy is stacking square blocks in columns labelled from 1 to 1000000 (106).  Since it can be quite boring writing out the locations of every block  he instead specifies a set of 2D pyramids that when built on top of each  other will make the shape he wants. Pyramids always have height  H=(W+1)/2 and take up N=H2blocks so it is quite easy for him to work out how many blocks he will need in total from this description.What is not so easy is working out how many blocks he will need to  build in the space that occurs in the range between two columns  (inclusive!). Given a set of instructions consisting of either“build [centre] [w]” (build another pyramid, width [w] with its midpoint at [centre]) or“count [left] [right]” (count the number of blocks added so far within the range of these columns inclusive)you must try to answer the queries as quickly as possible.Input(1<=N<=200000), the number of operations to perform.N lines, each containing one operation (as detailed above).OutputAnswer each count query on its own line, putting an additional blank line after each test case.Please use 64-bit counters as the result may overflow a 32-bit container!ExampleInput:3\r\nbuild 5 3\r\nbuild 6 5\r\ncount 4 7Output:12Visualisation of example test case:----BB---\r\n----BB---\r\n---BABB--\r\n---AAABB-\r\n   ^  ^",
  "sample_input": "Input:3\r\nbuild 5 3\r\nbuild 6 5\r\ncount 4 7Output:12",
  "sample_output": "----BB---\r\n----BB---\r\n---BABB--\r\n---AAABB-\r\n   ^  ^",
  "link": "https://www.spoj.com/problems/PYRSUM2",
  "scraped_at": "2025-08-17 00:34:05"
}