{
  "problem_code": "problems",
  "title": "Counting pairs",
  "tags": [],
  "text": "You're given a sequence A of N non-negative integers. Answer Q queries, where each query consists of three integers: v, a, b. The answer is number of pairs of integers i and j that satisfy these conditions:1 ≤ i ≤ j ≤ Na ≤ j-i+1 ≤ bA[k] ≥ v for every integer k between i and j, inclusiveConstraints1 ≤ N ≤ 100 0001 ≤ Q ≤ 100 0000 ≤ A[k] ≤ 1000, for every integer k between 1 and N, inclusive0 ≤ v ≤ 10001 ≤ a ≤ 100 0001 ≤ b ≤ 100 000InputThe first line of input contains two integers, N and Q. The second line contains the sequence A, consisting of N integers. Each of the next Q lines contains three numbers, v, a and b, defining a query.OutputIn the i-th line output only one integer denoting the answer to the i-th query.ExampleInput:5 3\r\n5 3 2 7 4\r\n3 2 3\r\n2 2 5\r\n4 1 1Output:2\r\n10\r\n3",
  "sample_input": "Input:5 3\r\n5 3 2 7 4\r\n3 2 3\r\n2 2 5\r\n4 1 1Output:2\r\n10\r\n3",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/CPAIR",
  "scraped_at": "2025-08-17 00:33:56"
}