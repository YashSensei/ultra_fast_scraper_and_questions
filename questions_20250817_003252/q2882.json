{
  "problem_code": "problems",
  "title": "Drawing Lines",
  "tags": [],
  "text": "John is a bit upset now. Today was his chemistry central viva and it did not go very well. So to cheer up he bought a notebook, a pencil and an eraser.In the note book there are N points drawn in a row. The points are numbered from 1 to N serially.Now, John decided to do a strange thing with those points.At each moment, John puts his pencil or eraser at a point A and drags it to point B. As a result, some line segments may be created.And then, sometimes he stops and thinks of a point C and tries to find out if point C is on a line segment or not.You have to solve a similar problem.InputFirst line of the input will contain two integers N (1 ≤ n ≤ 109) and M (1 ≤ M ≤ 105) where N denotes number of points and M denotes number of queries.Then M line follows. Each line contains a query.Each query will be one of the following forms:0 A B: which means an eraser has been dragged from point A to point B.1 A B:which means a pencil has been dragged from point A to point B.2 C:which means you are asked to answer the state of point C. There will be at least one query of this type.(It is guaranteed that A ≤ B and 1 ≤ A, B, C ≤ N)OutputFor each query of the form \"2 C\", print a single line. If point C isNOTon any line segment then print -1.Otherwise, print the start and end point of the segment.See sample and explanation for details.Sample>Input25 14\r\n2 10\r\n1 20 25\r\n1 9 13\r\n2 12\r\n2 7\r\n1 11 21\r\n2 15\r\n0 17 20\r\n0 22 25\r\n2 21\r\n2 5\r\n1 1 8\r\n2 12\r\n2 4Output-1\r\n9 13\r\n-1\r\n9 25\r\n21 21\r\n-1\r\n9 16\r\n1 8ExplanationIn the 1stquery, there are no line segments. So point 10 is not on any segment.After 2ndquery, there is 1 line segment: [20, 25].After 3rd query, there are 2 line segments:  [9, 13], [20, 25].In the 4thquery, point 12 is on [9, 13] segment.In the 5thquery, point 7 is not on any segment.After 6thquery, there is 1 line segment [9, 25]. ([9, 13], [11, 21] and [20, 25] segments will merge into only 1 segment).In the 7thquery, point 15 is on [9, 25] segment.After 9thquery there are 2 segments: [9, 16] and [21, 21].In the 10thquery, point 21 is on [21, 21] segment.In the 11thquery, point 5 is not on any segment.After 12thquery there are 3 segments: [1,8],[9, 16] and [21, 21].In the 13thquery, point 13 is on [9, 16] segment.In the 14thquery, point 4 is on [1, 8] segment.",
  "sample_input": "Input25 14\r\n2 10\r\n1 20 25\r\n1 9 13\r\n2 12\r\n2 7\r\n1 11 21\r\n2 15\r\n0 17 20\r\n0 22 25\r\n2 21\r\n2 5\r\n1 1 8\r\n2 12\r\n2 4Output-1\r\n9 13\r\n-1\r\n9 25\r\n21 21\r\n-1\r\n9 16\r\n1 8",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/DRWLNS",
  "scraped_at": "2025-08-17 00:34:25"
}