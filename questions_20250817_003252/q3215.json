{
  "problem_code": "problems",
  "title": "Dynamic Assignment Problem",
  "tags": [],
  "text": "DescriptionYou‘ve been given a N×N matrix {W_ij} containing the cost of a weighted bipartite graph, on this graph, you need to implement the following operations:C i j w : Change Wij to w.X i x0 x1 ... xn-1 : Change all Wij to xj.Y i y0 y1 ... yn-1 : Change all Wji to yj.A : Add a new pair of node to the current bipartite graph, then increase N by 1. The weight of those 2n+1 new edges will be set to 0 by default.Q : Query the current maximum weighted matching.InputN(... following the N×N matrix ...)M(... following the M operation ......)Output...(for each query, simply print the result.)ExampleInput 1:21 00 13QC 0 1 9QOutput 1:29Input 2:1076 98 80 30 87 84 78 75 53 2685 7 83 15 21 91 47 84 82 7836 39 49 64 71 14 53 2 82 2183 31 32 30 78 19 46 95 50 5550 76 63 54 99 55 50 16 29 2658 74 77 32 3 91 90 18 34 356 23 2 78 84 83 71 41 32 5453 75 39 29 61 25 42 79 58 219 13 65 94 9 33 61 5 1 7034 56 45 37 72 98 47 40 80 7920QY 3 62 90 89 41 58 56 34 55 53 53X 0 7 30 30 76 2 48 8 18 89 88QC 2 0 3C 3 0 0C 8 0 2C 1 0 3C 1 0 6C 5 0 9QAX 10 93 8 56 40 4 56 30 32 59 11 52Y 10 84 62 26 13 66 21 53 23 54 81 52QY 9 13 38 99 50 20 25 59 7 6 77 82C 4 0 8C 6 0 6C 10 0 8QOutput 2:870849844\r\n947\r\n899RestrictionWe guarantee the N will never be more than 100 even during the running time.The total operation M will less than 10000, and among them the Query Operation will be less than 1000.",
  "sample_input": "Input 1:21 00 13QC 0 1 9QOutput 1:29",
  "sample_output": "Input 2:1076 98 80 30 87 84 78 75 53 2685 7 83 15 21 91 47 84 82 7836 39 49 64 71 14 53 2 82 2183 31 32 30 78 19 46 95 50 5550 76 63 54 99 55 50 16 29 2658 74 77 32 3 91 90 18 34 356 23 2 78 84 83 71 41 32 5453 75 39 29 61 25 42 79 58 219 13 65 94 9 33 61 5 1 7034 56 45 37 72 98 47 40 80 7920QY 3 62 90 89 41 58 56 34 55 53 53X 0 7 30 30 76 2 48 8 18 89 88QC 2 0 3C 3 0 0C 8 0 2C 1 0 3C 1 0 6C 5 0 9QAX 10 93 8 56 40 4 56 30 32 59 11 52Y 10 84 62 26 13 66 21 53 23 54 81 52QY 9 13 38 99 50 20 25 59 7 6 77 82C 4 0 8C 6 0 6C 10 0 8QOutput 2:870849844\r\n947\r\n899",
  "link": "https://www.spoj.com/problems/DAP",
  "scraped_at": "2025-08-17 00:34:16"
}