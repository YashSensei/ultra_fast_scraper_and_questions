{
  "problem_code": "problems",
  "title": "Cut on a tree",
  "tags": [],
  "text": "A path of rooted tree is a \"straight-chain\" iff for each node pair (u, v) on the path, either u is the ancestor of v, or v is the the ancestor of u.Given a rooted tree with weighted nodes, decompose it into several \"straight-chain\", so that the quadratic sum of all \"straight-chain\" is minimum. The weight of a \"straight-chain\" is the sum of the weights of all the nodes on this chain.InputThe first line contains an integer N (N â‰¤ 1200000), the number of nodes.The second line contains n integers w1, w2, ... wn. wi represents ith-node's weight.The following n-1 lines, each line describes an edge of the tree.The nodes are numbered from 1 to n, and 1 is the root.OutputAn integer, the minimum quadratic sum. It is guaranteed that the answer will not exceed 1014.ExampleInput:7\r\n-4 -10 5 4 1 -1 -5\r\n1 2\r\n2 3\r\n1 4\r\n2 5\r\n5 6\r\n5 7Output:42",
  "sample_input": "Input:7\r\n-4 -10 5 4 1 -1 -5\r\n1 2\r\n2 3\r\n1 4\r\n2 5\r\n5 6\r\n5 7Output:42",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/COT6",
  "scraped_at": "2025-08-17 00:33:49"
}