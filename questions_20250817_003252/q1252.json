{
  "problem_code": "problems",
  "title": "Potions Class",
  "tags": [],
  "text": "It's time for the Potions class. Harry absolutely HATES potions because he has to face mockery by the potions teacher Snape every time he has a potions class. Snape never leaves any chance of insulting him in front of everyone.Snape is not in a good mood today, which is not good for Harry. Snape challenges Harry to answer his question. If Harry fails to answer, he will have to spend the whole week in detention!.He gives Harry n numbers (a1, a2, a3 ... an) and q queries. Each query will consist of four integersw, x, y, z. The result of a query is given by the following equation:Help Harry or else he'll miss his Quidditch match against Slytherin because of his detention!!InputThe first line of the input containsT, the number of test cases.Ttest cases follow.The first line of each test case containsnandq.The second line of each test case containsnintegers(a1, a2, a3 ... an)Each of the nextqlines containw, x, y, z.OutputFor each test case output the result as given by the equation.The answer may be very large, so output itmodulo 109+7.Constraints1 ≤ T ≤ 101 ≤ n, q ≤ 1051 ≤ x+i ≤ n (for all y ≤ i ≤ z )0 ≤ ai ≤ 109(for all 1 ≤ i ≤ n)1 ≤ w ≤ 1060 ≤ y ≤ zExampleInput:1\r\n5 2\r\n2 1 4 7 2\r\n1 1 0 2\r\n1 5 0 0Output:16\r\n2",
  "sample_input": "Input:1\r\n5 2\r\n2 1 4 7 2\r\n1 1 0 2\r\n1 5 0 0Output:16\r\n2",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/POTIONS",
  "scraped_at": "2025-08-17 00:33:25"
}