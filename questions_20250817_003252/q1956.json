{
  "problem_code": "problems",
  "title": "Commando",
  "tags": [],
  "text": "You are the commander of a troop of n soldiers, numbered from 1 to n. For the battle ahead, you plan to divide these n soldiers into several commando units. To promote unity and boost morale, each unit will consist of a contiguous sequence of soldiers of the form (i, i+1 ... i+k).Each soldier i has a battle effectiveness rating xi. Originally, the battle effectiveness x of a commando unit (i, i+1 ... i+k) was computed by adding up the individual battle effectiveness of the soldiers in the unit. In other words, x = xi+ xi+1+ ··· + xi+k.However, years of glorious victories have led you to conclude that the battle effectiveness of a unit should be adjusted as follows: the adjusted effectiveness x is computed by using the equation x = ax2+ bx + c, where a, b, c are known coefficients (a < 0), x is the original effectiveness of the unit.Your task as commander is to divide your soldiers into commando units in order to maximize the sum of the adjusted effectiveness of all the units.For instance, suppose you have 4 soldiers, x1= 2, x2= 2, x3= 3, x4= 4. Further, let the coefficients for the equation to adjust the battle effectiveness of a unit be a = −1, b = 10, c = −20. In this case, the best solution is to divide the soldiers into three commando units: The first unit contains soldiers 1 and 2, the second unit contains soldier 3, and the third unit contains soldier 4. The battle effectiveness of the three units are 4, 3, 4 respectively, and the adjusted effectiveness are 4, 1, 4 respectively. The total adjusted effectiveness for this grouping is 9 and it can be checked that no better solution is possible.InputFirst Line of input consistsnumber of cases T.Each case consists of three lines. The first line contains a positive integer n, the total number of soldiers. The second line contains 3 integers a, b, and c, the coefficients for the equation to adjust the battle effectiveness of a commando unit. The last line contains n integers x1, x2 ... xn, separated by spaces, representing the battle effectiveness of soldiers 1, 2 ... n, respectively.ConstraintsT ≤ 3n ≤ 1, 000, 000−5 ≤ a ≤ −1|b| ≤ 10, 000, 000|c| ≤ 10, 000, 0001 ≤ xi ≤ 100OutputOutput each answer in a single line.SampleInput:3\r\n4\r\n-1 10 -20\r\n2 2 3 4\r\n5\r\n-1 10 -20\r\n1 2 3 4 5\r\n8\r\n-2 4 3\r\n100 12 3 4 5 2 4 2Output:9\r\n13\r\n-19884(Official dataset of APIO was NOT used in this problem.)",
  "sample_input": "Input:3\r\n4\r\n-1 10 -20\r\n2 2 3 4\r\n5\r\n-1 10 -20\r\n1 2 3 4 5\r\n8\r\n-2 4 3\r\n100 12 3 4 5 2 4 2Output:9\r\n13\r\n-19884",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/APIO10A",
  "scraped_at": "2025-08-17 00:33:53"
}