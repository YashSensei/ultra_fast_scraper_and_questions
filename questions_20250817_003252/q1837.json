{
  "problem_code": "problems",
  "title": "Relations",
  "tags": [],
  "text": "You are given a directed graph, whose edges are labeled with relational symbols \r\n\t'<', '>' and '='. For a nonnegative integer k, a k-correct \r\n\tG-labeling is a mapping from vertices of G into integers from interval \r\n\t[0,k] such that numbers at the ends of each edge satisfy the relation described \r\n\tby the label of the edge. We assume that an element on the left side of the \r\n\trelational symbol is a number assigned to the initial vertex. Compute the \r\n\tsmallest k for which k-correct G-labeling exists or verify that such \r\n\tlabeling doesn't exist for any k.IllustrationFor the graph in the figure the smallest k = 2.TaskWrite a program that for each data set from a sequence of several data sets:reads a description of a graph G from the input file,verifies whether there exist an integer k for which it is possible to label G \r\n\t\tk-correctly and, if the answer is positive, computes the smallest such k,writes the result to the output file.InputThe first line of the input file contains one positive integer d not larger \r\n\tthan 10. This is the number of data sets. The data sets follow. Each data set \r\n\tis described in two consecutive lines of the input file. In the first line \r\n\tthere are two integers n and m separated by a single space. The number n is the \r\n\tnumber of vertices of G and m is the number of edges of G. Numbers n and m \r\n\tsatisfy the inequalities: 1 <= n <= 1000, 0 <= m <= 10000. The \r\n\tvertices are numbered with integers from 1 to n and are identified by these \r\n\tnumbers. There are no parallel edges and self-loops in the graph. (Two \r\n\tdifferent edges u1-> v1and u2-> v2are parallel iff u1= u2and v1= v2.) \r\n\tThere are 3m integers separated by single spaces in the second line. The \r\n\tnumbers at positions 3i-2 and 3i-1, 1 <= i <= m, are the ends of the i-th \r\n\tedge, the beginning and the end, respectively, whereas the number at position \r\n\t3i is a number from the set {-1,0,1} and it is the label of the i-th edge: -1 \r\n\trepresents '<', 0 represents '=' and 1 represents '>'.OutputFor the i-th data set, 1 <= i <= d, your program should write one \r\n\tword NO in the i-th line of the output file if a k-correct labeling doesn't \r\n\texist for any k, or the smallest integer k for which such a labeling exists.ExampleSample input:\r\n4 \r\n4 4 \r\n1 2 -1 2 3 0 2 4 -1 3 4 -1 \r\n2 2 \r\n1 2 -1 2 1 -1 \r\n2 2 \r\n1 2 -1 2 1 1 \r\n3 3 \r\n1 2 0 3 2 0 3 1 0 \r\n\r\nSample output:\r\n2 \r\nNO \r\n1 \r\n0",
  "sample_input": "Sample input:\r\n4 \r\n4 4 \r\n1 2 -1 2 3 0 2 4 -1 3 4 -1 \r\n2 2 \r\n1 2 -1 2 1 -1 \r\n2 2 \r\n1 2 -1 2 1 1 \r\n3 3 \r\n1 2 0 3 2 0 3 1 0 \r\n\r\nSample output:\r\n2 \r\nNO \r\n1 \r\n0",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/RELATS1",
  "scraped_at": "2025-08-17 00:33:44"
}