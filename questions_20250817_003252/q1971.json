{
  "problem_code": "problems",
  "title": "Find the Treasure",
  "tags": [],
  "text": "A psychic lock-lover called Digo likes playing games with Locks and Keys and also has very good logic.One day he buys a set ofNboxes, each of them has an index between {1, N} (inclusive) and no two boxes have same index. There is a key inside every box except theNthbox which has great treasure. He eventually finds out that due to a defect in the manufacturing of the keys, most of them could open more than one box.The rule is that you are allowed to open only one box with any key. Each box except the first is locked. Now as Digo couldn’t wait long to acquire that great treasure he requests you to find a method to open the last box starting with the key in the first box with minimum number of steps.InputIn first line,Tnumber of test cases.For every test case:In first line, there is an integerN: (number of locks)In nextN-1lines, on thei’thline there is an integerMithe number of boxes which the key present in thei’thbox can open. It is followed by theMiintegers (the indices of those boxes that can be opened by the key present ini’thbox).OutputFor every test case:one integerq, minimum number of boxes opened.In the next line :  the indices of the boxes opened in order separated by space. If there are many solutions print the one which is lexicographically smallest.If there is no way to reach the last box print “-1”.Each test case is to be followed by a blank line.Constraints1 ≤T≤ 102 ≤N≤ 1000001 ≤Mi≤ 10ExampleInput:2\r\n3\r\n1 2\r\n1 3\r\n4\r\n2 2 3\r\n1 1\r\n2 2 4Output:2\r\n1 2\r\n \r\n2\r\n1 3",
  "sample_input": "Input:2\r\n3\r\n1 2\r\n1 3\r\n4\r\n2 2 3\r\n1 1\r\n2 2 4Output:2\r\n1 2\r\n \r\n2\r\n1 3",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/DIGOKEYS",
  "scraped_at": "2025-08-17 00:33:43"
}