{
  "problem_code": "problems",
  "title": "Tablica",
  "tags": [],
  "text": "EnglishVietnameseIvo has an N×N table. The table has the integers 1 through N2inscribed in row-major order. The following operations can be done on the table:1. Rotate a row – all cells in a single row are rotated right, so that the number in the last column moves to the first.2. Rotate a column – all cells in a single column are rotated down, so that the number in the last\r\nrow moves to the first.Ivo occasionally feels the urge to move a number X to cell (R, C) and proceeds as follows:While X is not in column C, rotate the row it is in.While X is not in row R, rotate the column it is in.Ivo wants to move K numbers one after another. Write a program that calculates the number of\r\nrotations needed.InputThe first line contains two integers N (2 ≤ N ≤ 10 000) and K (1 ≤ K ≤ 1000), the table dimension and\r\nthe number of moves.Each of the following K lines contains three integers X (1 ≤ X ≤ N2), R and C (1 ≤ R, C ≤ N), the\r\ndescription of one move Ivo wants to make. Ivo does the moves in the order in which they are given.OutputOutput K lines; for each move, output the number of rotations needed.ExampleInput\r\n4 1\r\n6 3 4\r\n\r\nOutput\r\n3Input\r\n4 2\r\n6 3 4\r\n6 2 2\r\n\r\nOutput\r\n3\r\n5Input\r\n5 3\r\n1 2 2\r\n2 2 2\r\n12 5 5\r\n\r\nOutput\r\n2\r\n5\r\n3",
  "sample_input": "Input\r\n4 1\r\n6 3 4\r\n\r\nOutput\r\n3",
  "sample_output": "Input\r\n4 2\r\n6 3 4\r\n6 2 2\r\n\r\nOutput\r\n3\r\n5",
  "link": "https://www.spoj.com/problems/TABLIC",
  "scraped_at": "2025-08-17 00:33:11"
}