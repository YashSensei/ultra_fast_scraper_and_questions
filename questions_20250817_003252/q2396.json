{
  "problem_code": "problems",
  "title": "Wandering Queen",
  "tags": [],
  "text": "There is a checkmates board withnrows andmcolumns. Some of the cells of the board are occupied. There is a queen standing on a certain cell. It wants to move to another cell of this board. Help it do this making the least possible moves. The queen can go any number of cells in any of eight directions in a single move, but it can't pass through or stand on the occupied cells and leave the board.InputThe first line of the input contains numbert– the amount of tests. Thenttest descriptions follow. The first line of each test consists of two numbersnandmseparated with a space. Thennlines follow each containingmcharacters describing the board. Character ‘.’ means a free cell, character ‘X’ – an occupied cell, character ‘S’ – the starting cell of the queen, character ‘F’ – the cell where the queen wants to go. It is guaranteed that there will be exactly one character ‘S’ and one character ‘F’ on each board.Constraints1 ≤t≤ 302 ≤n,m≤ 1000OutputFor each test case print the minimum number of moves the queen has to do to reach the desired cell. Print ‘-1’ if the queen can’t reach the cell.ExampleInput:3\r\n3 3\r\nS..\r\n...\r\n..F\r\n3 3\r\nS..\r\nXX.\r\nF..\r\n3 3\r\nS..\r\nXXX\r\n..FOutput:1\r\n3\r\n-1",
  "sample_input": "Input:3\r\n3 3\r\nS..\r\n...\r\n..F\r\n3 3\r\nS..\r\nXX.\r\nF..\r\n3 3\r\nS..\r\nXXX\r\n..FOutput:1\r\n3\r\n-1",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/QUEEN",
  "scraped_at": "2025-08-17 00:33:59"
}