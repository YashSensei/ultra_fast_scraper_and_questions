{
  "problem_code": "problems",
  "title": "Queens on a Board",
  "tags": [],
  "text": "You have an N × M chessboard on which some squares are blocked out. In how many ways can you place one or more queens on the board such that no two queens attack each other? Two queens attack each other if one can reach the other by moving horizontally, vertically or diagonally without passing over any blocked square. At most one queen can be placed on a square. A queen cannot be placed on a blocked square.InputThe first line contains the number of test cases T. T test cases follow. Each test case contains integers N and M on the first line. The following N lines contain M characters each representing the board. A '#' represents a blocked square and a '.' represents an unblocked square.OutputOutput T lines containing the required answer for each test case. As the answers can be really large, output them modulo 1000000007.Constraints1 ≤ T ≤ 1001 ≤ N ≤ 501 ≤ M ≤ 5ExaampleInput:4\r\n3 3\r\n...\r\n...\r\n...\r\n3 3\r\n.#.\r\n.#.\r\n...\r\n2 4\r\n.#..\r\n....\r\n1 1\r\n#Output:17\r\n18\r\n14\r\n0",
  "sample_input": "Input:4\r\n3 3\r\n...\r\n...\r\n...\r\n3 3\r\n.#.\r\n.#.\r\n...\r\n2 4\r\n.#..\r\n....\r\n1 1\r\n#Output:17\r\n18\r\n14\r\n0",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/CODESPTD",
  "scraped_at": "2025-08-17 00:34:33"
}