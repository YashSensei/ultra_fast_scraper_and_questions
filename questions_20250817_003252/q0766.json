{
  "problem_code": "problems",
  "title": "Trapezoid",
  "tags": [],
  "text": "Consider two arbitrarily chosen horizontal lines. A trapezoid Ti between these lines has two vertices situated on the upper line and the other two vertices on the lower line (see figure below). We will denote by ai, bi, ci and di the upper left, upper right, lower left and respectively lower right vertices of the trapezoid Ti. A subset S of trapezoids is called independent if no two trapezoids from S intersect.TaskDetermine the cardinality of the largest independent set of trapezoids (the largest set means the set with most elements). Also find the count of different independent sets with maximum cardinality. Find this count modulo 30013.InputThe first line of input contains one integer N – the number of trapezoids. Each of the next N lines contains four integers ai, bi, ci and di. No two trapezoids have a common vertex (corner).OutputThe only line of output should contain two numbers separated by space: firstly, the cardinality of the largest independent set; secondly, the count of different independent sets with maximum cardinality modulo 30013.Constraints1 ≤ N ≤ 100 0001 ≤ ai, bi, ci, di ≤ 1 000 000 000ExampleThe picture below is NOT an accurate representation. The trapezoids' top and bottom have been shifted up and down for visibility.Input:7\r\n1 3 1 9\r\n4 7 2 8\r\n11 15 4 12\r\n10 12 15 19\r\n16 23 16 22\r\n20 22 13 25\r\n30 31 30 31Output:3 8",
  "sample_input": "Input:7\r\n1 3 1 9\r\n4 7 2 8\r\n11 15 4 12\r\n10 12 15 19\r\n16 23 16 22\r\n20 22 13 25\r\n30 31 30 31Output:3 8",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/TRAPEZBO",
  "scraped_at": "2025-08-17 00:33:12"
}