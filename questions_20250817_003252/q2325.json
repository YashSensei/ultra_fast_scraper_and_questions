{
  "problem_code": "problems",
  "title": "Long Common Subsequence",
  "tags": [],
  "text": "Given a main sequence of N (1 ≤ N ≤ 1000000) numbers range from 0 to 10000 and several other sequence of M (0 ≤ M ≤ 5) numbers, you have to compute the Longest Common Subsequence of this sequence with the main sequence.InputFirst line of the input will be N the number of elements of the main sequence. After that line there will be N numbers in one or more lines. Each of this number will be between 0 to 10000 (inclusive). Then there will be Q (1 ≤ Q ≤ 5000) the number of query. Then following Q lines will be queries. In each query, start with a number M (0 ≤ M ≤ 5), followed by M numbers also between 0 to 10000 (inclusive).OutputFor each query first print the number of elements in the longest common subsequence of the main and query sequences. Then print the subsequence. If there is more then one then print the lexicographically smallest.ExampleInput:10\r\n5 1 4 3 2 6 5 5 0 7\r\n5\r\n1 5\r\n1 10\r\n4 5 0 4 7\r\n5 4 1 2 3 5\r\n5 2 6 5 0 7Output:1 5\r\n0\r\n3 5 0 7\r\n3 1 2 5\r\n5 2 6 5 0 7Huge Test Case (almost 5MB)",
  "sample_input": "Input:10\r\n5 1 4 3 2 6 5 5 0 7\r\n5\r\n1 5\r\n1 10\r\n4 5 0 4 7\r\n5 4 1 2 3 5\r\n5 2 6 5 0 7Output:1 5\r\n0\r\n3 5 0 7\r\n3 1 2 5\r\n5 2 6 5 0 7",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/LCS3",
  "scraped_at": "2025-08-17 00:33:55"
}