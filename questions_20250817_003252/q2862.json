{
  "problem_code": "problems",
  "title": "Ada and List",
  "tags": [],
  "text": "Ada the Ladybug has a TODO-list (containing only numbers - for simplicity). She is still doing something, so she sometimes eraseskthnumber, sometimes she inserts something onkthposition and sometime she asks forkthnumber.Sadly, she is now searching for a work at positionkso she doesn't have time to do this herself. Can you help her?InputThe first line will contain0 < N ≤ 105,0 < Q <             5*105, the number of elements in TODO-list and         number of queries.Then a line withNnumbers follows. Each number0 ≤ Ak≤ 109meanskthnumber in her TODO-list.Afterward,Qlines follow, each beginning with number1 ≤ a     ≤ 31k xmeans that you will add numberxto positionk2kmeans that you will erase number from positionk3kmeans that you will print number from positionkFor all queries, it is true that1 ≤ k ≤ #SizeOfList,0     ≤ x ≤ 109(for query1, it can be also put to position#SizeOfList + 1)You will never get query of type2or3if the list is emptyOutputFor each query of type3, printkthnumbersExample Input6 10\r\n1 2 4 8 16 32\r\n3 4\r\n1 1 7\r\n3 2\r\n2 2\r\n2 2\r\n3 2\r\n1 6 666\r\n3 6\r\n2 1\r\n3 1Example Output8\r\n1\r\n4\r\n666\r\n4Queries explanations1 2 4816 32\r\n7 1 2 4 8 16 32\r\n712 4 8 16 32\r\n7 2 4 8 16 32\r\n7 4 8 16 32\r\n748 16 32\r\n7 4 8 16 32 666\r\n7 4 8 16 326664 8 16 32 66648 16 32 666",
  "sample_input": "6 10\r\n1 2 4 8 16 32\r\n3 4\r\n1 1 7\r\n3 2\r\n2 2\r\n2 2\r\n3 2\r\n1 6 666\r\n3 6\r\n2 1\r\n3 1",
  "sample_output": "8\r\n1\r\n4\r\n666\r\n4",
  "link": "https://www.spoj.com/problems/ADALIST",
  "scraped_at": "2025-08-17 00:34:10"
}