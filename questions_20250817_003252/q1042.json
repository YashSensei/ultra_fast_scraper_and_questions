{
  "problem_code": "problems",
  "title": "Shuffles",
  "tags": [],
  "text": "The most common technique for shuffling a deck of cards is called the Riffle or Dovetail shuffle. The deck is split into two stacks, which are then interleaved with each other. The deck can be split anywhere, and the two stacks can be interleaved in any way.For example, consider a deck with 10 unique cards:1 2 3 4 5 6 7 8 9 10Split them somewhere:1 2 3 4 5 6              7 8 9 10And interleave them in some way:1 2 7 3 8 9 4 5 10 6Do it again. Split them somewhere:1 2 7          3 8 9 4 5 10 6And interleave them in some way:3 8 1 9 4 5 2 7 10 6This is one possible ordering after 2 shuffles. Suppose there arenunique cards, and that they start out perfectly ordered: 1, 2, 3 ...n. Given an ordering of the deck, what is the smallest number of shuffles that could possibly put the deck in that order?InputEach input will consist of a single test case. Note that your program may be run multiple times on different inputs. Each test case will begin with a single integern(1 ≤n≤ 1,000,000) indicating the number of cards in the deck. On the next line will benunique integersc(1 ≤c≤n), with a single space between them, indicating an ordering of thencards. The valuescare guaranteed to be a permutation of the numbers 1..n.OutputOutput a single line with a single integer indicating the minimum number of shuffles that could possibly put the deck in the given order. Output no spaces.ExampleInput:101 2 7 3 8 9 4 5 10 6Output:1Input:82 1 4 3 6 5 8 7Output:3Input:103 8 1 9 4 5 2 7 10 6Output:2",
  "sample_input": "Input:101 2 7 3 8 9 4 5 10 6Output:1",
  "sample_output": "Input:82 1 4 3 6 5 8 7Output:3",
  "link": "https://www.spoj.com/problems/SHUFFLES",
  "scraped_at": "2025-08-17 00:33:23"
}