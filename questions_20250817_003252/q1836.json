{
  "problem_code": "problems",
  "title": "Moulds",
  "tags": [],
  "text": "In a factory, moulds for casting metal objects are produced by a special\r\n\tcutting device. The device is equipped with cuboid-shaped blade of size 1 mm x\r\n\t1 mm x 30 mm (its height) which operates with each of its sides thus producing\r\n\tthe mould from cuboid of size 250 mm x 250 mm x 30 mm (its height). The end of\r\n\tthe blade newer lowers below the bottom surface of the cuboid. In any moment\r\n\tthe distance between initial and current position doesn't exceed 1000.The machine understands special command language which has the following\r\n\tgrammar:<command block> ::= [ <command> ; {<command> ; } ]\r\n<command>       ::= <lift> | <shift> | <command block>\r\n<lift>          ::= ^ <distance>\r\n<shift>         ::= @ <direction> <distance>\r\n<direction>     ::= N | S | W | E\r\n<distance>      ::= <sign> <number> | <number>\r\n<number>        ::= <digit> {<digit>}\r\n<sign>          ::= - | +\r\n<digit>         ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9where {exp} means zero or more exps.The command <lift> causes moving the blade downwards when the distance is\r\n\ta positive number and upwards otherwise. The command <shift> moves the\r\n\tblade in the appropriate direction (N--north, S--south, W--west, E--east).TaskWrite a program which for each data set from a sequence of several data sets:reads a command block from input,computes the volume of hollows made by the machine commanded by a given command\r\n\t\tblock (assuming that before the execution the blade is located 1 mm above the\r\n\t\tnorth-west corner of the virgin cuboid),writes the result to output.InputThe first line of the input file contains one integer d, 1 <= d <= 10,\r\n\twhich is the number of data sets. The data sets follow. Each data set occupies\r\n\tone line of the input file and is a word derived from <command block> of\r\n\tthe above grammar of length not exceeding 10000 characters.OutputThe i-th line of the output file should contain one integer -- the volume (in\r\n\tcubic mm) of the hollows made by the machine controlled by the command block\r\n\tgiven in the i-th data set.ExampleSample input:1\r\n[^2;@S2;]Sample output:3",
  "sample_input": "<command block> ::= [ <command> ; {<command> ; } ]\r\n<command>       ::= <lift> | <shift> | <command block>\r\n<lift>          ::= ^ <distance>\r\n<shift>         ::= @ <direction> <distance>\r\n<direction>     ::= N | S | W | E\r\n<distance>      ::= <sign> <number> | <number>\r\n<number>        ::= <digit> {<digit>}\r\n<sign>          ::= - | +\r\n<digit>         ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9",
  "sample_output": "Sample input:1\r\n[^2;@S2;]Sample output:3",
  "link": "https://www.spoj.com/problems/MOULDS",
  "scraped_at": "2025-08-17 00:33:42"
}