{
  "problem_code": "problems",
  "title": "Avoiding SOS Grids",
  "tags": [],
  "text": "You are given a grid having N rows and M columns. Some squares are contain letters 'S' or 'O', whereas the other squares are unfilled. A filled grid is called \"Avoiding SOS\" if there is no occurrence of the string \"SOS\" in the grid either vertically or horizontally. In how many ways can the grid be completed by filling the unfilled squares with either 'S' or 'O' such that the resultant grid is \"Avoiding SOS\"?InputThe first line contains T the number of test cases. T test cases follow.The first line for each test case contains N and M, the number of rows and columns in the grid respectively.N lines follow, each containing M characters. The jth character in the ith line is a '.' if the corresponding square in the grid is unfilled, otherwise it contains either the letter 'S' or the letter 'O'. A blank line separates two test cases.OutputOutput T lines, one for each test case, containing the desired answer for the corresponding test case. Output each result modulo 1000000007.ExampleInput:5\r\n2 3\r\n...\r\n...\r\n\r\n1 4\r\n....\r\n\r\n3 3\r\n.O.\r\nS.S\r\n.O.\r\n\r\n1 3\r\nSOS\r\n\r\n1 3\r\nSOOOutput49\r\n12\r\n9\r\n0\r\n1Constraints1 ≤ T ≤ 1001 ≤ N, M ≤ 8",
  "sample_input": "Input:5\r\n2 3\r\n...\r\n...\r\n\r\n1 4\r\n....\r\n\r\n3 3\r\n.O.\r\nS.S\r\n.O.\r\n\r\n1 3\r\nSOS\r\n\r\n1 3\r\nSOOOutput49\r\n12\r\n9\r\n0\r\n1",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/AVOIDSOS",
  "scraped_at": "2025-08-17 00:33:04"
}