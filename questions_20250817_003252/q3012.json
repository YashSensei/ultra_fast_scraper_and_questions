{
  "problem_code": "problems",
  "title": "Sanvi and Magical Numbers",
  "tags": [],
  "text": "Let us define aMagical numberas a positive integer number which meets the following criteria on its representation:It does not contain any zeros.Each digit may appears at most twice in it.The absolute differences between summation of count of non-prime digits and count of prime-digits do not exceed K.Sanvi likes numbers which are not prime. So,she wants to allow at most M non-prime digits to violate the rule number-2. Sanvi also uses following algorithm in rule number-3 to calculate count of each digitdin a number:count(d) = min(total occurrences of d in number, 2)You are given an integer numberN. Your task is to find the total Magical numbers in the range from1toNfollowing Sanvi's command. Since the answer could be very large, print it modulo109+7.InputInput contains several test cases up toEOF(End Of File), which contains three space separated integersN (1 ≤ N ≤ 1018), K (0 ≤ K ≤ 18) and M (0 ≤ M ≤ 5)as described in the problem statement. Total test cases will not exceed5.OutputOutput a single integer denoting the total Magical numbers from1 to N following Sanvi's command. Since the answer could be very large print it modulo109+7.ExampleInput:10 1 0\r\n5 3 2\r\n\r\nOutput:\r\n9\r\n5",
  "sample_input": "count(d) = min(total occurrences of d in number, 2)",
  "sample_output": "Input:10 1 0\r\n5 3 2\r\n\r\nOutput:\r\n9\r\n5",
  "link": "https://www.spoj.com/problems/SANVI",
  "scraped_at": "2025-08-17 00:34:08"
}