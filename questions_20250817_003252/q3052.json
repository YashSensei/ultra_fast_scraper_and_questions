{
  "problem_code": "problems",
  "title": "Factorial Modulo Prime",
  "tags": [],
  "text": "Find $N!$modulo$P$.InputThe first line contains $T$ ($1 \\le T \\le 100,000$), the number of test cases.Each of the next $T$ lines contains two integers $N$ ($0 \\le N \\le 10^{11}$) and $P$ ($2 \\le P \\le 10^{11}$), where $P$ is a prime.OutputFor each $N$ and $P$, output $N!$modulo$P$.ConstraintsFor each input file, It is guaranteed that (the sum of $\\sqrt{P}) \\le 320000$.ExampleInput3\r\n1000 9907\r\n1000000 9999907\r\n10000000000 99999999907Output4494\r\n3354924\r\n40583077821NoteProbably, $O(P)$ solutions will not pass.Intended solutions have a complexity of about $O(\\sqrt{P} \\log{P})$My solution runs in 0.5 seconds for each input file.",
  "sample_input": "3\r\n1000 9907\r\n1000000 9999907\r\n10000000000 99999999907",
  "sample_output": "4494\r\n3354924\r\n40583077821",
  "link": "https://www.spoj.com/problems/FACTMODP",
  "scraped_at": "2025-08-17 00:34:08"
}