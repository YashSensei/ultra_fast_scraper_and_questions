{
  "problem_code": "problems",
  "title": "Count on a trie",
  "tags": [],
  "text": "Maintain two sets of stringsSandT. Initially, each set contains an empty string with id 1.Your program are to perform the following four operations:Add a charcto the end of an existed stringSiinS, then insert the new string intoS. Since there has beennstrings inSalready, the new string will hold the idn+1.Add a charcto the beginning or to the end of an existed stringTiinT, then insert the new string intoT.Choose two existed stringsTiandTjfromT, next combine them into a new oneTiTj, then insert the new string intoT.Print the time that an existed stringTiinTappears in an stringSiinS. Your program should print0ifTiis an empty string.InputIn the first line, there is an integerQ, which means the number of operations to perform.In the nextQlines,thei-th line describes thei-th operation containing some integers. Such a line may look like this:1 Si c2 0 Ti c=> addcto the beginning ofTi2 1 Ti c=> addcto the end ofTi3 Ti Tj4 Ti SiQ≤ 300000, 'a' ≤c≤ 'z'The number of the first operation will not exceed 100000.The number of the third operation will not exceed 30000.The number of fourth operation will not exceed 100000.OutputFor each\"4 Ti Si\"operation, print its result.ExampleInput:18\r\n1 1 a\r\n1 2 a\r\n1 3 b\r\n1 2 b\r\n1 5 a\r\n1 5 b\r\n2 1 1 a\r\n3 2 2\r\n2 0 3 b\r\n2 1 2 b\r\n3 2 5\r\n3 5 2\r\n4 7 6\r\n4 5 6\r\n4 3 4\r\n4 2 4\r\n4 2 7\r\n4 2 6Output:1\r\n1\r\n1\r\n2\r\n1\r\n2",
  "sample_input": "Input:18\r\n1 1 a\r\n1 2 a\r\n1 3 b\r\n1 2 b\r\n1 5 a\r\n1 5 b\r\n2 1 1 a\r\n3 2 2\r\n2 0 3 b\r\n2 1 2 b\r\n3 2 5\r\n3 5 2\r\n4 7 6\r\n4 5 6\r\n4 3 4\r\n4 2 4\r\n4 2 7\r\n4 2 6Output:1\r\n1\r\n1\r\n2\r\n1\r\n2",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/COT4",
  "scraped_at": "2025-08-17 00:33:52"
}