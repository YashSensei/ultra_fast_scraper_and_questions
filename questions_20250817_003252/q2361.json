{
  "problem_code": "problems",
  "title": "To Add or to Multiply",
  "tags": [],
  "text": "The Industrial Computer Processor Company offers very fast, special purpose processing units tailored to customer needs. Processors of the a-C-m family (such as the 1-C-2 and the 5-C-3) have an instruction set with only two different operations:A add aM multiply by mThe processor receives an integer, executes a sequence of A and M operations (the program) that modiﬁes the input, and outputs the result. For example, the 1-C-2 processor executing the programAAAMwith the input 2 yields the output 10 (the computation is 2 → 3 → 4 → 5 → 10), while the 5-C-3 processor yields 51 with the same program and input (2→ 7 → 12 → 17 → 51).You are ana-C-mprogrammer assigned to a top secret project. This means that you have not been told the precise computation your program should perform. But you are given particular valuesp,q,r, andsand the following conditions:1. The input is guaranteed to be a number betweenpandq.2. The output must be some number betweenrands.Given ana-C-mprocessor and the numbersp,q,r, ands, your job is to construct the shortesta-C-mprogram which, for every inputxsuch thatp≤x≤q, yields some outputysuch thatr≤y≤s. If there is more than one program of minimum length, choose the one that come ﬁrst lexicographically, treating each program as a string ofAsandMs.InputThe input contains several test cases. Each test case is given by a line with the six integersa,m,p,q,r, andsas described above (1 ≤a, m, p, q, r, s≤ 109,p≤qandr≤s).The last test case is followed by a line with six zeros.OutputFor each test case, display its case number followed by the best program as described above. Display the word “empty” if the best program uses no operations. Display the word “impossible” if there is no program meeting the speciﬁcations.Display the program as a sequence of space-separated strings, alternating between strings of the form “nA” and strings of the form “nM”, wheren> 0. Strings of the former type indicatenconsecutiveAoperations, and strings of the latter type indicatenconsecutiveMoperations.Follow the format of the sample output.ExampleInput:1 2 2 3 10 201 3 2 3 22 333 2 2 3 4 55 3 2 3 2 30 0 0 0 0 0Output:Case 1: 1A 2MCase 2: 1M 2A 1MCase 3: impossibleCase 4: empty",
  "sample_input": "Input:1 2 2 3 10 201 3 2 3 22 333 2 2 3 4 55 3 2 3 2 30 0 0 0 0 0Output:Case 1: 1A 2MCase 2: 1M 2A 1MCase 3: impossibleCase 4: empty",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/ADDMUL",
  "scraped_at": "2025-08-17 00:33:48"
}