{
  "problem_code": "problems",
  "title": "Another Sequence Problem",
  "tags": [],
  "text": "You are to write a program to perform some operations on a given sequence. These operations are listed below:+-------------+----------------+------------------------------------------------------------+\r\n| Name        | Input format   |              function                                      |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Modify      | MAKE-SAME i t c| Modify all the t numbers from the ith number (included) to |\r\n|             |                | number c.                                                  |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Insert      | INSERT i t s   | Insert t numbers after the ith number. s is a sequence of  |\r\n|             |                | s numbers which should be inserted one-to-one. If i=0, you |\r\n|             |                | should insert s in the first of the sequence.              |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Delete      | DELETE i t     | Delete t numbers after the ith number (included).          |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Reverse     | REVERSE i t    | Reverse t numbers after the ith number (included).         |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Get sum     | GET-SUM i t    | Output the sum of t numbers after the ith number(included).|\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Get maximum | MAX-SUM        | Output the maximum partial sum in the sequence now.        |\r\n| partial sum |                |                                                            |\r\n+-------------+----------------+------------------------------------------------------------+See the example.InputThe very first line contains a single integer T (T ≤ 4), the number of test cases. T blocks follow.For each test case:The first line contains two integers n and m (m ≤ 20000), the number of numbers in the sequence in the beginning and the number of operations.The second line contains n integers separated by spaces, the sequence in the beginning.Next m lines, each contains an operation listed above.You can assume that for each test case:No invalid operation is in the input.Number of numbers in the sequence is no more than 500000 and not less than 1 at any time.All the numbers in the sequence is in range [-1000, 1000] at any time.The total number of numbers inserted will be not more than 4,000,000. The input is no more than 20MB.OutputFor each Get sum and Get maximum partial sum operation, you should write the answer to the output, one per line.ExampleInput:1\r\n9 8\r\n2 -6 3 5 1 -5 -3 6 3\r\nGET-SUM 5 4\r\nMAX-SUM\r\nINSERT 8 3 -5 7 2\r\nDELETE 12 1\r\nMAKE-SAME 3 3 2\r\nREVERSE 3 6\r\nGET-SUM 5 4\r\nMAX-SUMOutput:-1\r\n10\r\n1\r\n10HintsAfter the 3rd op., the sequence is:\r\n2 -6 3 5 1 -5 -3 6 -5 7 2 3After the 4th op., the sequence is:\r\n2 -6 3 5 1 -5 -3 6 -5 7 2After the 5th op., the sequence is:\r\n2 -6 2 2 2 -5 -3 6 -5 7 2After the 6th op., the sequence is:\r\n2 -6 6 -3 -5 2 2 2 -5 7 2Warning: enormous Input/Output data, be careful with certain languages",
  "sample_input": "+-------------+----------------+------------------------------------------------------------+\r\n| Name        | Input format   |              function                                      |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Modify      | MAKE-SAME i t c| Modify all the t numbers from the ith number (included) to |\r\n|             |                | number c.                                                  |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Insert      | INSERT i t s   | Insert t numbers after the ith number. s is a sequence of  |\r\n|             |                | s numbers which should be inserted one-to-one. If i=0, you |\r\n|             |                | should insert s in the first of the sequence.              |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Delete      | DELETE i t     | Delete t numbers after the ith number (included).          |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Reverse     | REVERSE i t    | Reverse t numbers after the ith number (included).         |\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Get sum     | GET-SUM i t    | Output the sum of t numbers after the ith number(included).|\r\n+-------------+----------------+------------------------------------------------------------+\r\n| Get maximum | MAX-SUM        | Output the maximum partial sum in the sequence now.        |\r\n| partial sum |                |                                                            |\r\n+-------------+----------------+------------------------------------------------------------+",
  "sample_output": "Input:1\r\n9 8\r\n2 -6 3 5 1 -5 -3 6 3\r\nGET-SUM 5 4\r\nMAX-SUM\r\nINSERT 8 3 -5 7 2\r\nDELETE 12 1\r\nMAKE-SAME 3 3 2\r\nREVERSE 3 6\r\nGET-SUM 5 4\r\nMAX-SUMOutput:-1\r\n10\r\n1\r\n10",
  "link": "https://www.spoj.com/problems/SEQ2",
  "scraped_at": "2025-08-17 00:33:24"
}