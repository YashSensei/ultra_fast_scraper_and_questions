{
  "problem_code": "problems",
  "title": "Dynamically",
  "tags": [],
  "text": "You are given a rooted tree with N nodes, numbered from 1 to N. Initially node 1 is the root. Each node i has a weight W[i]. You have to perform two types of operations:\"S a\"- Find the sum of weights of nodea's sub-tree nodes (including nodea).\"R a\"- Change root of the tree toa.InputLine 1:N (1 <= N <= 105), number of nodes.Line 2:N space-separated integers, weights of nodes from 1 to N.i'th integer is W[i] (1 <= W[i] <= 109).Line 3:N-1 space-separated integers,i'th integer is the parent of nodei+1.Line 4:Q, the number of operations (1 <= Q <= 105).Lines 5 .. 5+Q-1:Every line contains a space separated character and an integer. Character describes the type of the operation, and integer is the node number.OutputFor each operation of type 'S', output the operations result in a separate line.ExampleInput:5\r\n2 1 1 1 2\r\n1 1 2 2\r\n3\r\nS 2\r\nR 2\r\nS 1Output:4\r\n3",
  "sample_input": "Input:5\r\n2 1 1 1 2\r\n1 1 2 2\r\n3\r\nS 2\r\nR 2\r\nS 1Output:4\r\n3",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/DRTREE",
  "scraped_at": "2025-08-17 00:33:45"
}