{
  "problem_code": "problems",
  "title": "Stable Marriage Problem",
  "tags": [],
  "text": "There are givennmen andnwomen. Each woman ranks all men in order of her preference (her first choice, her second choice, and so on). Similarly, each man sorts all women according to his preference. The goal is to arrangenmarriages in such a way that if a manmprefers some womanwmore than his wife, thenwlikes her husband more thanm. In this way, no one leaves his partner to marry\r\nsomebody else. This problem always has a solution and your task is to find one.InputThe first line contains a positive integert≤ 100 indicating the number of test cases. Each test case is an instance of the stable marriage problem defined above.\r\nThe first line of each test case is a positive integern≤ 500 (the number of marriages to find).\r\nThe nextnlines are thewoman's preferences:ith line contains the numberi(which means that this is the list given by theith woman) and the numbers of men (the first choice ofith woman, the second choice...). Then, themen's preferences follow in the same format.OutputFor each test case printnlines, where each line contains two numbersmandw, which means that themannumbermand thewomannumberwshould get married.ExampleInput:2\r\n4\r\n1 4 3 1 2\r\n2 2 1 3 4\r\n3 1 3 4 2\r\n4 4 3 1 2\r\n1 3 2 4 1\r\n2 2 3 1 4\r\n3 3 1 2 4\r\n4 3 2 4 1\r\n7\r\n1 3 4 2 1 6 7 5\r\n2 6 4 2 3 5 1 7\r\n3 6 3 5 7 2 4 1\r\n4 1 6 3 2 4 7 5\r\n5 1 6 5 3 4 7 2\r\n6 1 7 3 4 5 6 2\r\n7 5 6 2 4 3 7 1\r\n1 4 5 3 7 2 6 1\r\n2 5 6 4 7 3 2 1\r\n3 1 6 5 4 3 7 2\r\n4 3 5 6 7 2 4 1\r\n5 1 7 6 4 3 5 2\r\n6 6 3 7 5 2 4 1\r\n7 1 7 4 2 6 5 3Output:1 3\r\n2 2\r\n3 1\r\n4 4\r\n1 4\r\n2 5\r\n3 1\r\n4 3\r\n5 7\r\n6 6\r\n7 2Warning: large Input/Output data, be careful with certain languages",
  "sample_input": "Input:2\r\n4\r\n1 4 3 1 2\r\n2 2 1 3 4\r\n3 1 3 4 2\r\n4 4 3 1 2\r\n1 3 2 4 1\r\n2 2 3 1 4\r\n3 3 1 2 4\r\n4 3 2 4 1\r\n7\r\n1 3 4 2 1 6 7 5\r\n2 6 4 2 3 5 1 7\r\n3 6 3 5 7 2 4 1\r\n4 1 6 3 2 4 7 5\r\n5 1 6 5 3 4 7 2\r\n6 1 7 3 4 5 6 2\r\n7 5 6 2 4 3 7 1\r\n1 4 5 3 7 2 6 1\r\n2 5 6 4 7 3 2 1\r\n3 1 6 5 4 3 7 2\r\n4 3 5 6 7 2 4 1\r\n5 1 7 6 4 3 5 2\r\n6 6 3 7 5 2 4 1\r\n7 1 7 4 2 6 5 3Output:1 3\r\n2 2\r\n3 1\r\n4 4\r\n1 4\r\n2 5\r\n3 1\r\n4 3\r\n5 7\r\n6 6\r\n7 2",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/STABLEMP",
  "scraped_at": "2025-08-17 00:33:18"
}