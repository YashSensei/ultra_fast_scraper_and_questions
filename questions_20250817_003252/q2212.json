{
  "problem_code": "problems",
  "title": "Special Graph",
  "tags": [],
  "text": "You are given a directed graph with N vertices. The special thing about the graph is that each vertex has at most one outgoing edge. Your task is to answer the following two types of queries:1 adelete the only edge outgoing from vertex a. It is guaranteed that the edge exists. 1 ≤ a ≤ N.2 a boutput the length of the shortest path from vertex a to vertex b, if the path exists. Otherwise output \"-1\" without quotes. 1 ≤ a, b ≤ N.InputFirst line of input contains a natural number N ≤ 105the number of vertices in the graph.The following line contains N integer numbers, i-th number is next[i] (0 ≤ next[i] ≤ N), meaning that there is an edge from vertex i to vertex next[i]. If next[i] = 0, assume that there is no outgoing edge from vertex i.Third line contains a natural number M ≤ 105the number of queries.The following M lines contain a query each. Queries are given in the manner described above.OutputOn the i-th line output the answer for the i-th query of type 2 a b.ExampleInput:6\r\n3 3 4 5 6 4\r\n6\r\n2 1 6\r\n2 1 4\r\n2 1 2\r\n1 3\r\n2 1 6\r\n2 1 4Output:4\r\n2\r\n-1\r\n-1\r\n-1",
  "sample_input": "Input:6\r\n3 3 4 5 6 4\r\n6\r\n2 1 6\r\n2 1 4\r\n2 1 2\r\n1 3\r\n2 1 6\r\n2 1 4Output:4\r\n2\r\n-1\r\n-1\r\n-1",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/SPECIALG",
  "scraped_at": "2025-08-17 00:33:48"
}