{
  "problem_code": "problems",
  "title": "Ada and Tomato",
  "tags": [],
  "text": "Ada the Ladybug grows tomatoes. She has a very long furrow full of them. At\r\nthe day of harvest, she picks all tomatoes,sortsthem by size, index them\r\n(from 1) and sell them for price of \"size × index\". How much money will she make, if she sells all of them?As the nature is very beautiful (and Ada is great mathematician), she found\r\nthe pattern for sizes of tomatoes. The pattern works in (hopefully well known)\r\nway: Let us have tomato of sizeXi, thenXi+1will be counted asXi+1=Xi*a+b\r\n    mod M.M(modulo) is equal to109+7(1000000007).InputThe first line contains1 ≤ T ≤ 200, the number of test-cases.Each test-case contains four numbersN, a, b, X1:1 ≤ N ≤ 2*107, the number of tomatoes.0 ≤ a, b, X1< 109+7- described above\r\n(X1is the size of first tomato).Sum ofNover all test-cases will not exceed5*107.OutputFor each test-case output the sum of all prices modulo109+7.Example Input5 \r\n2 2 3 1\r\n3 1 1 1\r\n5 1 2 1\r\n4 1 0 1\r\n20 5 6 7Example Output11\r\n14\r\n95\r\n10\r\n150690584Sizes of tomatoes for each input1 5\r\n1 2 3\r\n1 3 5 7 9\r\n1 1 1 1\r\n7 41 211 1061 5311 26561 132811 664061 3320311 16601561 75195297 83007811 375976491 399412248 415039061 632654193 879882454 926530843 985306173 997061239",
  "sample_input": "5 \r\n2 2 3 1\r\n3 1 1 1\r\n5 1 2 1\r\n4 1 0 1\r\n20 5 6 7",
  "sample_output": "11\r\n14\r\n95\r\n10\r\n150690584",
  "link": "https://www.spoj.com/problems/ADATOMAT",
  "scraped_at": "2025-08-17 00:33:13"
}