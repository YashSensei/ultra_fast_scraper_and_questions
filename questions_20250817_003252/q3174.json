{
  "problem_code": "problems",
  "title": "Cantor",
  "tags": [],
  "text": "The mathematician Georg Cantor was a lover of both sets and infinity, but he didn't get along too well with his colleagues. One morning he woke up with the idea of defining a set so strange that, when made public, would make the rest of the mathematicians lose their sleep for several days. And he was successful.The set he defined is called the Cantor set, and it is formed by all the real numbers in the interval[0, 1]whose decimal expression in base3uses exclusively the digits0and2. This set has amazing properties, which we will not mention here so that you can sleep tonight. Moreover, and luckily for everyone involved, in this problem we will not be working with the Cantor set, but with a generalization of this set to the integer numbers.We will say that an integer number is of Cantor type, or acantigerfor short, if its expression in a given baseBuses solely the digits in a given setCcontained in{0, 1, ... B-1}. Thus, the fact that a given number is a cantiger depends on how we chooseBandC.Your task is to count cantiger numbers, in order to prevent the mathematicians of the entire world from loosing their sleep. More precisely, given two integersDandH, along withBandC, you have to count the number of cantigers with respect toBandCfromDtoHinclusive.InputEach test case is described using a single line. This line contains three integers,D,HandB, and a stringL. The values ofDandHindicate the endpoints of the closed interval[D, H]we are interested in (1 ≤ D≤H≤1016). The value ofBis the base mentioned in the problem statement (2≤B≤10). The stringL = L0L1... LB-1has exactlyBcharacters, and describes the setCalso mentioned in the problem statement. The characterLiis the uppercase letter 'S' ifiis inC, and the uppercase letter 'N' otherwise (i = 0, 1, ... B-1). The setCis non-empty, so that there is at least one 'S' character inL. The end of the input is signalled by a line containing three times the number-1and a single '*' character.OutputFor each test case, you should print a single line containing an integer number, representing the number of cantigers (with respect toBandC) that are greater or equal toDand lower or equal toH.ExampleInput:1 10 3 SNS\r\n99 999 5 NSSNS\r\n1110 1111 10 NSNNNNNNNN\r\n1 10000000000000000 10 NNNNNSNNNN\r\n1 10000000000000000 7 SSSSSSS\r\n-1 -1 -1 *Output:3\r\n144\r\n1\r\n16\r\n10000000000000000",
  "sample_input": "Input:1 10 3 SNS\r\n99 999 5 NSSNS\r\n1110 1111 10 NSNNNNNNNN\r\n1 10000000000000000 10 NNNNNSNNNN\r\n1 10000000000000000 7 SSSSSSS\r\n-1 -1 -1 *Output:3\r\n144\r\n1\r\n16\r\n10000000000000000",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/TAP2012C",
  "scraped_at": "2025-08-17 00:34:13"
}