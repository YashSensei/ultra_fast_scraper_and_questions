{
  "problem_code": "problems",
  "title": "Ballroom Lights",
  "tags": [],
  "text": "The ICPC world finals will be held in a luxurious hotel with a big ballroom. A buffet meal will\r\nbe served in this ballroom, and organizers decided to decorate its walls with pictures of past\r\nchampion teams.In order to avoid criticism about favouring some of those teams over others, the organizing\r\ncommitee wants to make sure that all pictures are appropiately illuminated. The only direct\r\nway theyâ€™ve found for doing this is ensuring each picture has at least one lightbulb that directly\r\nilluminates it.In this way, the perimeter of the ballroom wall can be divided into illuminated parts (in which\r\npictures may be placed) and dark parts (which are not suitable for placing the pictures).The ballroom has the shape of a box and contains several lightbulbs. Each lightbulb emits\r\nlight in all directions, but this light can be blocked by columns. All columns in the ballroom\r\nhave cylindrical shape and go from the floor to the ceiling, so light cannot pass over or above\r\nthem. Columns are of course placed so that its circular section is parallel to the ballroom floor.\r\nAny given point p on the perimeter wall is said to be illuminated if there exists a line segment\r\n(a light ray) which starts on a lightbulb, ends in p and does not touch or pass through any\r\ncolumn.Your task as a helper of the ICPC organization is to examine the blueprints of the ballroom\r\nand determine the total length of illuminated sections of the perimeter wall. The blueprint\r\nconsist of a rectangle indicating a top view of the ballroom, with the lightbulbs and columns\r\nmarked in it.InputEach test case will consist on several lines. The first line will contain four integers: L, the\r\nnumber of lightbulbs, C, the number of columns, X, the size of the ballroom on the x coordinate\r\nand Y , the size of the ballroom on the y coordinate. The lower-left corner of the ballroom is\r\nat (0, 0) while the upper-right corner is at (X, Y ).The next L lines will contain two integers each representing the x and y coordinate of each\r\nlightbulb. The last C lines of the test case will contain three integers each, representing the x\r\nand y coordinates of the center of a column and its radius, in that order. You can assume that\r\n1 <= L,C <= 103and 4 <= X, Y <= 106. Also, for all pairs of coordinates (x,y), 0 < x < X and\r\n0 < y < Y , both for lightbulbs and column center locations. All radii of the columns will be\r\npositive. Finally, no two columns will overlap, although they may touch, and no column will\r\ntouch or intersect with the border of the ballroom. No lightbulb will be inside a column or in\r\nits boundary and no two lightbulbs will be in the same place.\r\nInput is terminated with L = C = X = Y = 0.OutputFor each test case, output a single line with the total length of the illuminated parts of the\r\nperimeter wall. The result must be printed as a real number with exactly four decimal figures,\r\nwith the lowest-order decimal figure rounded up.ExampleInput:2 1 8 8\r\n6 6\r\n2 6\r\n4 4 2\r\n1 4 7 7\r\n3 3\r\n2 4 1\r\n4 2 1\r\n2 2 1\r\n4 4 1\r\n2 2 9 7\r\n1 2\r\n5 5\r\n3 3 2\r\n7 5 1\r\n0 0 0 0Output:28.0000\r\n0.0000\r\n25.8214",
  "sample_input": "Input:2 1 8 8\r\n6 6\r\n2 6\r\n4 4 2\r\n1 4 7 7\r\n3 3\r\n2 4 1\r\n4 2 1\r\n2 2 1\r\n4 4 1\r\n2 2 9 7\r\n1 2\r\n5 5\r\n3 3 2\r\n7 5 1\r\n0 0 0 0Output:28.0000\r\n0.0000\r\n25.8214",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/BALLIGHT",
  "scraped_at": "2025-08-17 00:33:03"
}