{
  "problem_code": "problems",
  "title": "Ada and Salesman",
  "tags": [],
  "text": "Ada the Ladybug lives in Bugladesh. It is a very specific country - there are some cities, but since the government doesn't \"waste\" money, they all lie on one simple path.Ada is working as Traveling Salesman. She travels between cities, buying and selling products. A product has some varying price in each city (same for buy/sale - described later). Ada travels with bike (to avoid payments for travels) so she can carry at mostKitems at time in her backpack.She is currently in the first city, and she wants to linearly go to last city. She wants to buy/sell items in a way to maximize her profit. Can you help her?The system is following: Ada has a bag which can carry at mostKitems. She travels cities linearly (from citycto cityc+1). Ss she is in a cityc, she can either immediately move to next cityorbuy a licence to trade forLcmoney. For each city it is also given magical constantPc. The buying/selling system is pretty weird. Buying an item in citycwhile actually havingi-1items in backpack costsPc*i*c%MOD. Similarly selling of an item in citycwhile actually havingiitems in backpack is forPc*i*c%MOD. You can buy any number of items in a city and you can also sell any number of items in city. Anyway note that the number of items can't exceedK(and obviously can't be negative).InputThe first line of input will contain three integers1 ≤ N, K ≤     3000and1     ≤ MOD ≤  104.The next line will containNintegers0 < Li≤     1000, the cost of licence for each city.The next line will containNintegers0 < Pi≤     1000, the magical constant for each city.Cities are numbered from 1.OutputOutput the maximal number of money Ada can gain.Example Input5 1 3\r\n1 1 1 1 1\r\n1 1 1 1 1Example Output0Example Input5 5 6\r\n1 1 1 1 1\r\n1 1 1 1 1Example Output9Example Input6 10 11\r\n1 2 3 3 2 1\r\n1 3 2 5 1 7Example Output19Example Input9 2 20\r\n6 6 6 6 6 6 6 6 6\r\n2 4 6 8 2 4 6 8 5Example Output16Example Input10 2 20\r\n5 9 3 4 7 5 2 4 7 2\r\n2 1 4 5 4 5 6 3 2 5Example Output25",
  "sample_input": "5 1 3\r\n1 1 1 1 1\r\n1 1 1 1 1",
  "sample_output": "0",
  "link": "https://www.spoj.com/problems/ADASALE",
  "scraped_at": "2025-08-17 00:34:08"
}