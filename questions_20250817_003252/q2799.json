{
  "problem_code": "problems",
  "title": "2D arrays with XOR property",
  "tags": [],
  "text": "We consider 2D arrays $A$, (0,0)-indexed, shape $N \\times M$. \r\n With $ 0 \\le i < N $   and  $ 0 \\le j < M $, we have $ 0< A_{i,j} \\le N \\times M $.\r\n\r\n\r\nOur interest will be to count those arrays that have the two properties :Arrays $A$ are composed withallnumbers from $1$ to $N \\times M$.\r\ni.e. we have $ (i,j) \\neq (k,l) \\implies A_{i,j} \\neq A_{k,l} $$(i\\oplus j) > (k\\oplus l) \\implies A_{i,j} > A_{k,l} $, where $ \\oplus $ denotes bitwise XOR.InputThe first line contains $T$, the number of test cases, and $P$ a prime number.Each of the next $T$ lines contains $N$ and $M$, the shape of the arrays $A$.OutputFor each test case, print the number of arrays $A$ with the given properties.\r\nAs the result may be large, the answermodulo$P$ is required.ExampleInput:2 1000000007\r\n2 2\r\n997 799Output:4\r\n828630475For the first case, the 4 possible 2x2 arrays are : \r\n$ \\binom{1\\; 3}{4\\; 2}$, $\\binom{1\\; 4}{3\\; 2}$, $\\binom{2\\; 3}{4\\; 1}$, and $\\binom{2\\; 4}{3\\; 1}$.Constraints$1 \\le T \\le 10^4$, \r\n$10^9 < P < 2\\times 10^9$, a prime number, \r\n$1 \\le N \\le 10^9$, \r\n$1 \\le M \\le 10^5$.Constraints allow a small kB of unoptimized PY3.4 code to get AC in the third of the TL.Have fun.",
  "sample_input": "Input:2 1000000007\r\n2 2\r\n997 799Output:4\r\n828630475",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/XORRAY",
  "scraped_at": "2025-08-17 00:34:32"
}