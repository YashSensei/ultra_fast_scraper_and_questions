{
  "problem_code": "problems",
  "title": "Barn Allocation",
  "tags": [],
  "text": "Farmer John recently opened up a new barn and is now accepting stall\r\nallocation requests from the cows since some of the stalls have a\r\nbetter view of the pastures.The barn comprises N (1 ≤ N ≤ 100,000) stalls conveniently numbered\r\n1..N; stall i has capacity Cicows (1 ≤ Ci≤ 100,000). Cow i\r\nmay request a contiguous interval of stalls (Ai, Bi) in which to\r\nroam (1 ≤ Ai≤ N; Ai≤ Bi≤ N), i.e., the cow would like to\r\nwander among all the stalls in the range Ai..Bi(and the stalls\r\nmust always have the capacity for her to wander).Given M (1 ≤ M ≤ 100,000) stall requests, determine the maximum\r\nnumber of them that can be satisfied without exceeding stall\r\ncapacities.Consider both a barn with 5 stalls that have the capacities shown\r\nand a set cow requests:Stall id:    1   2   3   4   5\r\n           +---+---+---+---+---+\r\nCapacity:  | 1 | 3 | 2 | 1 | 3 |\r\n           +---+---+---+---+---+\r\nCow 1       XXXXXXXXXXX             (1, 3)\r\nCow 2           XXXXXXXXXXXXXXX     (2, 5)\r\nCow 3           XXXXXXX             (2, 3)\r\nCow 4                   XXXXXXX     (4, 5)FJ can't satisfy all four cows, since there are too many requests\r\nfor stalls 3 and 4.Noting that Cow 2 requests an interval that includes stalls 3 and\r\n4, we test the hypothesis that cows 1, 3, and 4 can have their\r\nrequested stalls. No capacity is exceeded, so the answer for this\r\nset of data is 3 – three cows (1, 3, and 4) can have their requests\r\nsatisfied.InputLine 1: Two space-separated integers: N and MLines 2..N+1: Line i+1 contains a single integer: CiLines N+2..N+M+1: Line i+N+1 contains two integers: Aiand BiOutputLine 1: The maximum number of requests that can be satisfiedExampleInput:5 4\r\n1\r\n3\r\n2\r\n1\r\n3\r\n1 3\r\n2 5\r\n2 3\r\n4 5Output:3",
  "sample_input": "Stall id:    1   2   3   4   5\r\n           +---+---+---+---+---+\r\nCapacity:  | 1 | 3 | 2 | 1 | 3 |\r\n           +---+---+---+---+---+\r\nCow 1       XXXXXXXXXXX             (1, 3)\r\nCow 2           XXXXXXXXXXXXXXX     (2, 5)\r\nCow 3           XXXXXXX             (2, 3)\r\nCow 4                   XXXXXXX     (4, 5)",
  "sample_output": "Input:5 4\r\n1\r\n3\r\n2\r\n1\r\n3\r\n1 3\r\n2 5\r\n2 3\r\n4 5Output:3",
  "link": "https://www.spoj.com/problems/BARN",
  "scraped_at": "2025-08-17 00:33:03"
}