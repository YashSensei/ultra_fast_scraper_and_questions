{
  "problem_code": "problems",
  "title": "Counting The Way of Bracket Replacement",
  "tags": [],
  "text": "EnglishVietnameseA regular bracket sequence is a string of characters consisting only of\nopening and closing brackets, and satisfying the following conditions:An empty string is a regular bracket sequence.If A is a regular bracket0sequence, then (A), [A] and {A} are also\nregular bracket sequences.If A and B are regular bracket sequences, then AB is also a regular\nbracket sequence.For example, the sequences [({})], [](){} and [{}]()[{}]\nare regular, but the sequences [({{([, []({)} and\n[{}])([{}] are not.Ivica has found a string which looks like it could be a regular bracket\nsequence. Some of the characters have become smudged and illegible, and\ncould have been any character.Write a program that calculates how many ways the illegible characters\nin the string can be replaced by brackets so that the result is a\nregular bracket sequence. This number can be very large, so output only\nits last 5 digits.InputThe first line contains an even integer N (2 ≤ N ≤ 200), the length of\nthe string.The second line contains the string. Illegible characters are represented\nby the '?' character.OutputOutput the number of regular bracket sequences the string could have read.SampleInput:6\n()()()Output:1Input:10\n(?([?)]?}?Output:3Input:16\n???[???????]????Output:92202In the second example, the three matching regular bracket sequences\nare ({([()])}), ()([()]{}) and ([([])]{}).",
  "sample_input": "Input:6\n()()()Output:1",
  "sample_output": "Input:10\n(?([?)]?}?Output:3",
  "link": "https://www.spoj.com/problems/MREPLBRC",
  "scraped_at": "2025-08-17 00:33:44"
}