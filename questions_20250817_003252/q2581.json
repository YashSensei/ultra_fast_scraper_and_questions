{
  "problem_code": "problems",
  "title": "Captain Selection",
  "tags": [],
  "text": "There are N people and M teams. Each team is a subset of N people.For each team, we need to pick a captain.No people could be a captain of more than one team.A personais said to be a subordinate of a personbif there is some team including both a and b in which b is the captain.A captain selection process is said to be valid if we could not find a sequence of more than 2 people a1, a2, ..., aksuch that ai is a subordinate of ai+1(i < k) and akis a subordinate of a1.For example, if we have 4 people and 3 teams:Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}The captain selection process:Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4is not valid since 1 is a subordinate of 4, 4 is a subordinate of 2 and 2 is a subordinate of 1.Your job is to determine a valid captain selection process.InputThe first line contains a number t (about 10), which is the number of test cases. Then t test cases\r\nfollow. Each test case has the following form.The first line contains two numbers N and M (1 ≤ N, M ≤ 50).Each of the M teams is described in the next 2 lines. \r\nThe first line contains the number of people in the team.Each team has either 2 or 3 people.The second line contains the indexes (1-based) of the people in that team.There is a blank line after each test case's input.OutputFor each test case, print a number -1 if there is no valid captain selection process.Otherwise, print M lines, each line contains the index of the captain of the corresponding team.Print a blank line after each test case's output.ExampleInput:2\r\n4 3\r\n3\r\n1 2 3\r\n3\r\n2 3 4\r\n3\r\n3 4 1\r\n\r\n4 3\r\n3\r\n1 2 3\r\n2\r\n2 4\r\n3\r\n3 4 2Output:-1\r\n\r\n1\r\n2\r\n3",
  "sample_input": "Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}",
  "sample_output": "Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4",
  "link": "https://www.spoj.com/problems/CAPTAIN",
  "scraped_at": "2025-08-17 00:33:53"
}