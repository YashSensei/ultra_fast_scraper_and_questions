{
  "problem_code": "problems",
  "title": "BLOCK_D SOLVER",
  "tags": [],
  "text": "You are given a board of order m×n full of coloured blocks.At each move, you have to select a block of any colour which has at least one of its immediate neighbours of same colour. If you select a block, all the connected blocks (not just the immediate neighbours) of same colour gets destroyed. A block is connected to all the blocks that share an edge with it. Any block will fall directly down if there is no block immediately below it. If a complete column becomes empty, you must either push all the columns to its left once in the right side or push all the columns to its right once in the left side. (These pushes are not considered as a moves. At each move, you will destroy more than one block).You will win the game if the remaining number of blocks becomes zero after making  the moves. Find the minimum number of moves to win the game. If it is impossible to win the game, print -1.For better understanding of gameplay you may have a look at thisvideo. (optional)InputThe first line consists of an integer t, the number of test cases. For each test case the first line consists of two integers m, n the number of rows and columns respectively followed by the matrix representing the coloured blocks. Colour[i][j] contains any character between 'a' and 'e' inclusive.OutputFor each test case print the minimum number of moves to win the game. If it is impossible to win, print -1.Constraints1 ≤ t ≤ 101 ≤ m, n ≤ 8'a' ≤ Colour[i][j] ≤ 'e'ExampleInput:2\r\n5 5\r\naaaba\r\naaaba\r\naaaba\r\naaaba\r\naaaba\r\n5 5\r\nbbbbb\r\nbaabb\r\nbbbab\r\nbbbaa\r\naababOutput:2\r\n3",
  "sample_input": "Input:2\r\n5 5\r\naaaba\r\naaaba\r\naaaba\r\naaaba\r\naaaba\r\n5 5\r\nbbbbb\r\nbaabb\r\nbbbab\r\nbbbaa\r\naababOutput:2\r\n3",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/BLOCK_D",
  "scraped_at": "2025-08-17 00:34:00"
}