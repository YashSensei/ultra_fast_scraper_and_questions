{
  "problem_code": "problems",
  "title": "Easy Password",
  "tags": [],
  "text": "This is the year 2100. Pranjali ma’am due to her intelligence survived this far, by her “Secret Potion” to freeze her age. She keeps her lotion in a very secret vault which is electronic password protected. This is a very special system designed by our great Sameer sir, which don’t take any specific string as a password. Rather than it takes a “Tree”, yes you heard that right a “Tree” of numbers as a password. Your password should be exact to the tree both in structure and value to unlock the vault. Its high time and many hackers are trying to hack the system. So Pranjali ma’am was bit worried and wanted to change the password. Some of the new passwords are very vulnerable so Sameer sir told not to use them. You have to make thenew password treefor Pranjali ma’am to keep her “Secret Potion” safe. You are givenold password tree, and the onerestricted password treeprovided by Sameer sir. The structure and value of both might not be same as Sameer sir don’t know the exact password, he only know the current hacking pattern of the hackers.You have to make anew password treewith same structure asold password tree, with the nodes ofold password treepermuted in some order and any new node should not be exactly equal in position and value torestricted password tree. The position of a node is defined by the sequence of moves (Left / Right) required to go down from the root to that node.If there are multiple answers, print the one whose difference is minimum from theold password tree.Calculating difference between trees:Diff = |sum((old[node[i]] - new[node[i]]) × 10i)| where i is n-1 to 0. The ordering of nodes is based on level order traversal of trees. i.e. i will be n-1 for root node and so on.InputFirst line contains t, number of test cases. In each test case first line contain n and m, n is the number of nodes ofold password treeand m is the number of nodes ofrestricted password tree. Next line contains n space separated numbers(value of nodes ofold password tree). Next n lines contains expression like A B, in ith line A and B is the left and right child of node with index i(0 based). If there is no right or left child of a node -1 will be provided in place of any index.Next line contains m space separated numbers (value of nodes ofrestricted password tree). Then this tree is also described as the tree above.OutputOne integer. Minimum diff as per the above formula betweenold treeandnew treeOR -1 if no such tree is possible.Constraints1 ≤ T ≤ 500 ≤ node_value ≤ 91 ≤ n ≤ 18Note:New tree can be same as old tree.If no such tree is possible print -1.All trees in the problem are Binary Trees.ExampleInput:1\r\n3 3\r\n5 4 8\r\n1 2\r\n-1 -1\r\n-1 -1\r\n5 1 8\r\n1 2\r\n-1 -1\r\n-1 -1Output:63Explanation:According to the rule specified above the most feasible tree is rooted at node with value 4 and its left child being 8 and right child being 5. So the minimum diff is 63.",
  "sample_input": "Input:1\r\n3 3\r\n5 4 8\r\n1 2\r\n-1 -1\r\n-1 -1\r\n5 1 8\r\n1 2\r\n-1 -1\r\n-1 -1Output:63",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/DCEPC11E",
  "scraped_at": "2025-08-17 00:33:34"
}