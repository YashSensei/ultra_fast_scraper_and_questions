{
  "problem_code": "problems",
  "title": "Village Unity",
  "tags": [],
  "text": "Duck plays the role of God in a game. In the game world, there areNvillages, each occupying an axis-aligned rectangular piece of land. He wants to unite the people, and one of the ways to do so is by connecting all the villages with roads so that everyone can meet. A road is a straight line segment of arbitrary length.To maintain the consistency of the landscape, the roads must also be axis-aligned, be perpendicular to a village's border, and be connected to any point on the border except its vertices at the two ends. Note that if two villages overlap, the people there can already meet. Two villages that touch each other by sharing a border or a vertex are not considered to \"overlap\".Find the minimum number of roads required to connect all the villages.InputThe first line is the number of test casesT. (1 ≤ T ≤ 30)For each test case, it starts with one integerN. (1 ≤ N ≤ 5000)Following N lines, each consisting of four integersX1Y1X2Y2representing the lower-left coordinates and the upper-right coordinates of the i-th village's border. (0 ≤ X1, Y1, X2, Y2≤ 109and X1< X2and Y1< Y2)OutputOutput an integer indicating the minimum number of roads required to connect all the villages.ExampleInput:2\r\n9\r\n6 9 8 10\r\n8 10 9 11\r\n9 10 10 11\r\n4 5 6 7\r\n9 3 10 4\r\n8 3 9 4\r\n4 7 6 9\r\n6 4 8 5\r\n0 6 5 8\r\n\r\n10\r\n6 0 11 1\r\n9 1 11 6\r\n1 9 3 10\r\n0 6 2 8\r\n2 1 6 6\r\n2 3 4 6\r\n3 2 8 4\r\n7 5 10 8\r\n5 7 11 8\r\n11 8 12 9Output:8\r\n6ExplanationCase 1Case 2",
  "sample_input": "Input:2\r\n9\r\n6 9 8 10\r\n8 10 9 11\r\n9 10 10 11\r\n4 5 6 7\r\n9 3 10 4\r\n8 3 9 4\r\n4 7 6 9\r\n6 4 8 5\r\n0 6 5 8\r\n\r\n10\r\n6 0 11 1\r\n9 1 11 6\r\n1 9 3 10\r\n0 6 2 8\r\n2 1 6 6\r\n2 3 4 6\r\n3 2 8 4\r\n7 5 10 8\r\n5 7 11 8\r\n11 8 12 9Output:8\r\n6",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/VILUNIT",
  "scraped_at": "2025-08-17 00:33:17"
}