{
  "problem_code": "problems",
  "title": "Galou is back!",
  "tags": [],
  "text": "The famous witch is back. After killing an incredible amount of monsters in order to find a\r\nhidden treasure, Zak Galou decided to buy vineyards in Burgundy and retired. Everything was\r\ncalm in his new life, until the day that his farm tractor stopped working.His tractor’s engine works based on a mechanism of gears. The engine can be represented by\r\na bidimensional grid. At most one gear can be attached to each position of the grid. All the\r\ngears are identical and can mesh with adjacent gears. In this grid, a gear can have up to six\r\nother adjacent gears, see figure below:Under normal utilization, when the tractor is started, some of the gears are initially activated\r\nand try to turn clockwise. When a gear tries to turn in one direction, all the adjacent gears try\r\nto turn in the opposite direction.When Zak Galou opened his engine he noticed that it had been sabotaged (probably by a\r\njealous treasure hunter who was not able to find the treasure). Some of the gears were removed\r\nfrom the engine and others have been added to it. As a consequence, some of the gears were\r\nimmobile. A gear can be immobile either if it is free or if it is blocked. A gear is free when it is\r\nnot an initially activated gear and no adjacent gear is trying to turn. A gear is blocked when it\r\nis trying to turn in both directions at the same time. For example, consider that there are three\r\ngears in the engine as shown in the figure below. If any of the gears is initially activated when\r\nthe tractor is started, all of them will be blocked. If none of the gears are initially activated,\r\nall of them will be free.As a part of the work of fixing his tractor, Zak Galou asks for your help to solve the following\r\nproblem. Given the description of the engine and the gears that are initially activated in the\r\nclockwise direction, he wants to know for each gear, what is its state when the tractor is started:\r\nturn clockwise, turn counter-clockwise, free or blocked.InputThe input contains several test cases. The first line of a test case contains two integers R and\r\nC, separated by a single space, representing respectively the number of rows and columns of the\r\nengine grid (1 <= R,C <= 100). The next R lines describe the engine. The i-th line represents\r\nthe i-th row of the engine and contains C characters. The character “.” indicates that there\r\nis no gear in the corresponding position, the character “*” indicates that there is a gear thatis notinitially activated when the engine is started and an “I” indicates that there is a gear\r\nthatisinitially activated when the engine is started. Notice that, for simplicity reasons, the\r\nparallelogram representing the engine grid is described in the input as if it was a rectangle with\r\neach row left aligned. The end of input is indicated by R = C = 0OutputFor each test case, your program must output R + 1 lines. The first line must be empty; each\r\nof the following R lines must have C characters. The characters printed must represent the\r\nstate of each position of the grid when the engine is started. Print a “.” if there is no gear in\r\nthe position; a “(” if there is a gear turning in the clockwise direction; a “)” if there is a gear\r\nturning in the counter-clockwise direction, an uppercase “F” if there is a gear that is free and\r\nan uppercase “B” if there is a blocked gear.ExampleInput:4 3\r\n...\r\n.*.\r\n.I.\r\n...\r\n4 4\r\n....\r\n.**.\r\n.I..\r\n..*.\r\n0 0Output:...\r\n.).\r\n.(.\r\n...\r\n\r\n....\r\n.BB.\r\n.B..\r\n..F.",
  "sample_input": "Input:4 3\r\n...\r\n.*.\r\n.I.\r\n...\r\n4 4\r\n....\r\n.**.\r\n.I..\r\n..*.\r\n0 0Output:...\r\n.).\r\n.(.\r\n...\r\n\r\n....\r\n.BB.\r\n.B..\r\n..F.",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/GALOU",
  "scraped_at": "2025-08-17 00:33:12",
  "test_cases": [
    {
      "input": "4 3\r\n...\r\n.*.\r\n.I.\r\n...\r\n4 4\r\n....\r\n.**.\r\n.I..\r\n..*.\r\n0 0",
      "expected_output": "...\r\n.).\r\n.(.\r\n...\r\n\r\n....\r\n.BB.\r\n.B..\r\n..F.",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "8 2\nlgz\nbahul\njlb\nl\n7 1\nu\nmn\ntube\nufjgvwj\n3 6",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "2 2\nn\nw\nxq\nkl\n7 7\nau\nho\nye\nytbpbn\n5 1",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "8 2\nwkcxl\nhjqji\nkrfxf\nmb\n7 4\nvfhhqhg\ngm\ntone\ndzzlvjqu\n7 5",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "1 61\nn\nspicyg\nhqh\ncqtqeq\n25 24\ngdjiqk\nopfj\niu\noiti\n34 75",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "5 9\nzury\nby\ncvyd\nwyzb\n62 28\ne\nkmrparmi\nau\nsci\n100 15",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "3 91\nv\nrmjsd\nwgv\nbgkz\n50 20\nfu\nwrf\nyalj\nffv\n49 88",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "41 88\nz\nfvt\nyyg\np\n59 12\nyezldrj\nysodcf\nuk\nfayua\n92 77",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "47 67\nzcu\nnbz\nr\nf\n57 51\nmiajcfe\ntnywnnc\nagzzbo\nyadger\n75 81",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "447 415\nahgf\nu\np\nacmwdc\n400 192\npd\nwudlc\nebrvvjv\np\n346 73",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "319 84\ndeqol\neuv\nao\ntikxln\n264 447\nyoqgf\nakj\nzjmenfcf\nto\n409 167",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "188 340\np\nejoze\ngi\ndx\n225 145\nt\nz\nskv\nkb\n423 78",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "269 111\nusj\nbvs\nyijr\ni\n474 143\ncwjxeho\nz\nv\ngfynvd\n254 261",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "284 136\nupf\nnm\nk\nbtxklm\n445 238\nbian\nfpuothy\nmcq\nkyrlozpu\n376 229",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "77 127\nc\npktbt\nem\nb\n257 434\nkiqxjnuv\nxsbm\nxalwyfqg\nlswvaw\n176 440",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "162 137\nkca\nff\nvyt\nyuqtwb\n374 493\nia\njo\nj\npnmz\n87 465",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\nrfjol\ngfb\nywp\nxuryy\n1000 1000\nbqgi\np\njwv\nrorrcw\n1000 1000",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\nz\nxjt\ne\nr\n1000 1000\nggewxqlr\no\nbu\nptp\n1000 1000",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "999 2\nvryqqz\nfteubt\ntm\newcyu\n1000 999\ntetwy\npr\ngsnxnen\nwmcup\n1 2",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "999 999\nph\nitoh\npsbgmi\nz\n2 999\njstqioeh\nbpddnfzg\nsq\nahjmgnx\n999 999",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:46",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:36:27"
}