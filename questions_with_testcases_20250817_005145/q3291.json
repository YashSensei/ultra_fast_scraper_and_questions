{
  "problem_code": "problems",
  "title": "The Warehouse",
  "tags": [],
  "text": "Secret Agent OmeGa-7 has found the secret weapon warehouse of the mad scientist Dr. Matroid. The warehouse is full of large boxes (possibly with deadly weapons inside the boxes). While inspecting the warehouse, OmeGa-7 accidentally triggered the alarm system. The warehouse has a very effective protection against intruders: if the alarm is triggered, then the floor is filled with deadly acid. Therefore, the only way OmeGa-7 can escape is to climb onto the boxes and somehow reach the exit on top of them. The exit is a hole in the ceiling,if OmeGa-7 can climb through this hole then he can escape using the helicopter parked on the roof. There is a ladder and a box below the hole, thus the goal is to reach this box.The floor of the warehouse can be divided into a grid containing n * n cells, the size of each cell is 1 meter * 1 meter. Each cell is either fully occupied by one box or unoccupied. Each box is rectangular: the size of the base is 1 meter * 1 meter, and the height is either 2, 3, or 4 meters. In figure (a), you can see an example warehouse, where the numbers show the height of the boxes, E shows the exit, and the circle shows that Secret Agent OmeGa-7 is currently on the top of that box.OmeGa-7 can do two things:If he is standing on top of a box, and in an adjacent cell there is another box, then he can move to the top of this other box. For example, in the situation depicted in figure (a), he can move either to north or east, but not to west or south. Note that only these four directions are allowed, diagonal moves are not possible. The height difference between the two boxes does not matter.The second thing OmeGa-7 can do is that he can topple the box he is standing on in one of the four directions. The effect of toppling is best shown by an example: in the situation shown in figure (b), he can topple the box west (figure (c)) or north (figure (d)). If a box of height h is toppled north (west, south, etc.) then it will occupy h consecutive cells to the north (west, south, etc.) of its original position. The original position will be unoccupied (but can be later occupied again by toppling another box). A box can only be toppled if the cells where it will fall are unoccupied. For example, in figure (a), the box where OmeGa-7 is standing cannot be toppled in any of the four directions.By toppling a box, OmeGa-7 jumps one step in the direction that the box is toppled (see figures (c) and(d)). If a box is toppled, then it cannot be toppled again later. Recall that there is a box below the exit (at the cell marked with E in the figure), thus it is not possible to topple a box over this cell. The alarm system will soon release mutant poisonous biting bats, so OmeGa-7 has to leave the warehouse as quickly as possible. You have to help him by writing a program that will determine the minimum number of steps required to reach the exit. Moving to an adjacent box, or toppling a box is counted as one step.InputThe input contains several blocks of test cases. The first line of each block contains three integers: the size 1 <= n <= 8 of the warehouse, and two integers i , j that describe the starting position of the secret agent. These numbers are between 1 and n ; the row number is given by i , the column number is given by j . The next n lines describe the warehouse. Each line contains a string of n characters. Each character corresponds to a cell of the warehouse. If the character is '.', then the cell is unoccupied. The characters '2', '3' and '4' correspond to boxes of height 2, 3 and 4, respectively. Finally, the character 'E' shows the location of the exit.The input is terminated by a block with n = i = j = 0.OutputFor each test case, you have to output a single line containing an integer: the minimum number of steps required to reach the exit. If it is not possible to reach the exit, then output the text 'Impossible.'(without quotes).ExampleInput:5 5 3\r\n.2..E\r\n...2.\r\n4....\r\n....4\r\n..2..\r\n0 0 0Output:18",
  "sample_input": "Input:5 5 3\r\n.2..E\r\n...2.\r\n4....\r\n....4\r\n..2..\r\n0 0 0Output:18",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/WARE",
  "scraped_at": "2025-08-17 00:34:09",
  "test_cases": [
    {
      "input": "5 5 3\r\n.2..E\r\n...2.\r\n4....\r\n....4\r\n..2..\r\n0 0 0",
      "expected_output": "18",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "1 1 2\n6\ndv\n8\n1\n2\n5\n10 4 9",
      "expected_output": "0\n6\n0\n8\n1\n2\n5\n0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "9 5 1\n8\nurndge\n9\n2\n4\n2\n9 2 2",
      "expected_output": "0\n8\n0\n9\n2\n4\n2\n0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "5 1 1\n3\ndhdyobqr\n5\n10\n9\n5\n5 7 4",
      "expected_output": "0\n3\n0\n5\n10\n9\n5\n0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "4 96 82\n71\noh\n25\n62\n70\n37\n11 80 96",
      "expected_output": "0\n71\n0\n25\n62\n70\n37\n0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "89 26 14\n64\noc\n38\n57\n89\n24\n10 23 80",
      "expected_output": "0\n64\n0\n38\n57\n89\n24\n0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "21 3 25\n4\nmr\n29\n48\n84\n89\n43 84 94",
      "expected_output": "0\n4\n0\n29\n48\n84\n89\n0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "16 16 52\n69\no\n55\n58\n99\n26\n94 15 71",
      "expected_output": "0\n69\n0\n55\n58\n99\n26\n0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "4 94 75\n38\npxzs\n89\n83\n20\n83\n95 19 36",
      "expected_output": "0\n38\n0\n89\n83\n20\n83\n0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "76 75 139\n117\nm\n72\n319\n244\n370\n462 291 302",
      "expected_output": "0\n117\n0\n72\n319\n244\n370\n0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "390 214 56\n61\nqbyhpiamzx\n138\n489\n485\n162\n385 111 106",
      "expected_output": "0\n61\n0\n138\n489\n485\n162\n0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "64 364 98\n487\nhiulx\n100\n60\n88\n277\n75 453 280",
      "expected_output": "0\n487\n0\n100\n60\n88\n277\n0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "188 429 224\n244\nauitw\n117\n211\n54\n365\n390 436 378",
      "expected_output": "0\n244\n0\n117\n211\n54\n365\n0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "138 265 395\n422\nxifahfgm\n243\n181\n459\n250\n149 126 427",
      "expected_output": "0\n422\n0\n243\n181\n459\n250\n0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "153 464 342\n264\naxm\n350\n160\n97\n360\n356 230 448",
      "expected_output": "0\n264\n0\n350\n160\n97\n360\n0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "394 151 241\n287\nsfntr\n485\n111\n78\n202\n131 237 333",
      "expected_output": "0\n287\n0\n485\n111\n78\n202\n0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000\n1000\nybsj\n1000\n1000\n1000\n1000\n1000 1000 1000",
      "expected_output": "0\n1000\n0\n1000\n1000\n1000\n1000\n0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000\n1000\ndxtnftk\n1000\n1000\n1000\n1000\n1000 1000 1000",
      "expected_output": "0\n1000\n0\n1000\n1000\n1000\n1000\n0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1 2 999\n999\niotkt\n1000\n2\n1000\n999\n1 2 1",
      "expected_output": "0\n999\n0\n1000\n2\n1000\n999\n0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 1 1\n1000\nymn\n1\n1000\n1000\n2\n1000 1 999",
      "expected_output": "0\n1000\n0\n1\n1000\n1000\n2\n0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:56",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:38:02"
}