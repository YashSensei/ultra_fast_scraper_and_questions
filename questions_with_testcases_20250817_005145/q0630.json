{
  "problem_code": "problems",
  "title": "Cubic Eight",
  "tags": [],
  "text": "Let's play a puzzle using eight cubes placed on a 3 × 3 board leaving one empty square.Faces of cubes are painted with three colors. As a puzzle step, you can roll one of the cubes to the adjacent empty square. Your goal is to make the specified color pattern visible from above by a number of such steps.The rules of this puzzle are as follows.Coloring of Cubes:All the cubes are colored in the same way as shown in Figure 3. The opposite faces have the same color.Figure 3: Coloring of a cubeInitial Board State:Eight cubes are placed on the 3 × 3 board leaving one empty square. All the cubes have the same orientation as shown in Figure 4. As shown in the figure, squares on the board are givenxandycoordinates, (1, 1), (1, 2) ... and (3, 3). The position of the initially empty square may vary.Figure 4: Initial board stateRolling Cubes:At each step, we can choose one of the cubes adjacent to the empty square and roll it into the empty square, leaving the original position empty. Figure 5 shows an example.Figure 5: Rolling a cubeGoal:The goal of this puzzle is to arrange the cubes so that their top faces form the specified color pattern by a number of cube rolling steps described above.Your task is to write a program that finds the minimum number of steps required to make the specified color pattern from the given initial state.InputThe input is a sequence of datasets. The end of the input is indicated by a line containing two zeros separated by a space. The number of datasets is less than 16. Each dataset is formatted as follows.xyF11F21F31F12F22F32F13F23F33The first line contains two integersxandyseparated by a space, indicating the position (x,y) of the initially empty square. The values ofxandyare 1, 2, or 3.The following three lines specify the color pattern to make. Each line contains three charactersF1j,F2j, andF3j, separated by a space. CharacterFijindicates the top color of the cube, if any, at position (i,j) as follows:B: Blue,W: White,R: Red,E: the square is Empty.There is exactly one 'E' character in each dataset.OutputFor each dataset, output the minimum number of steps to achieve the goal, when the goal can be reached within 30 steps. Otherwise, output \"-1\" for the dataset.ExampleInput:1 2\r\nW W W\r\nE W W\r\nW W W\r\n2 1\r\nR B W\r\nR W W\r\nE W W\r\n3 3\r\nW B W\r\nB R E\r\nR B R\r\n3 3\r\nB W R\r\nB W R\r\nB E R\r\n2 1\r\nB B B\r\nB R B\r\nB R E\r\n1 1\r\nR R R\r\nW W W\r\nR R E\r\n2 1\r\nR R R\r\nB W B\r\nR R E\r\n3 2\r\nR R R\r\nW E W\r\nR R R\r\n0 0Output:0\r\n3\r\n13\r\n23\r\n29\r\n30\r\n-1\r\n-1",
  "sample_input": "Input:1 2\r\nW W W\r\nE W W\r\nW W W\r\n2 1\r\nR B W\r\nR W W\r\nE W W\r\n3 3\r\nW B W\r\nB R E\r\nR B R\r\n3 3\r\nB W R\r\nB W R\r\nB E R\r\n2 1\r\nB B B\r\nB R B\r\nB R E\r\n1 1\r\nR R R\r\nW W W\r\nR R E\r\n2 1\r\nR R R\r\nB W B\r\nR R E\r\n3 2\r\nR R R\r\nW E W\r\nR R R\r\n0 0Output:0\r\n3\r\n13\r\n23\r\n29\r\n30\r\n-1\r\n-1",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/YOKOC",
  "scraped_at": "2025-08-17 00:33:27",
  "test_cases": [
    {
      "input": "1 2\r\nW W W\r\nE W W\r\nW W W\r\n2 1\r\nR B W\r\nR W W\r\nE W W\r\n3 3\r\nW B W\r\nB R E\r\nR B R\r\n3 3\r\nB W R\r\nB W R\r\nB E R\r\n2 1\r\nB B B\r\nB R B\r\nB R E\r\n1 1\r\nR R R\r\nW W W\r\nR R E\r\n2 1\r\nR R R\r\nB W B\r\nR R E\r\n3 2\r\nR R R\r\nW E W\r\nR R R\r\n0 0",
      "expected_output": "0\r\n3\r\n13\r\n23\r\n29\r\n30\r\n-1\r\n-1",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "6 3\nai vki knt\nzhh mh wig\navaqt yd fskp\n8 2\nvgq ptzs x\nn n p\nj aqnf zpo\n7 5\nezg akh mun\npyp xwdf l\ngku s nrxxm\n10 1\nwkysv ivu fkti\nuuh hm qyjth\no ai juwp\n9 6\nhkkeu d sqrz\nrhh mk su\ndf ev zziab\n6 5\nukdln vn rlfbe\nmaij ako a\nydlo lqf hih\n1 4\neti i mtq\ndwdwe qwxp vwp\ntv aqc vz\n5 10\nhm augp hp\nreal bjq pak\njjxh mp kwxyk\n2 6",
      "expected_output": "0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "1 9\nlsper wwzaq gacmb\njkl ldldp yu\nwlqi xpmiv ac\n1 4\ngmqpr hhw eyqkg\nd p ewvo\nr p o\n7 6\ni lutm eiqb\njvhh zsbde jwl\nrafnf vzlt repl\n10 8\nc yzl qtxl\nbib mcjgj gdfcl\nt h apo\n1 4\nvupd qyrf awbxe\np fxa q\njgdw hzm v\n9 2\ncyyl mot y\nn f y\nl locmg hmu\n5 8\nbvj riaw upzo\nanzyp jfn h\nrrxk a yiklp\n5 2\ntsx a hoknz\nvqde shhzs vnw\noez nxd wivo\n5 6",
      "expected_output": "0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "10 7\nbpd ip xstgd\nkcie aoa rfcb\nbjfm s agxss\n10 5\nyvz o p\ngnkx hch nvsys\naes ppcne igxxj\n3 2\nt n eoza\nwcftq yyyo xx\nh n ggp\n2 4\nwnknf rj ix\nu ntfgd ihcm\nuo ohz uy\n9 9\nmtg q enfxc\niemi gg o\nnxh p jisx\n2 6\no t or\nyuw tbf auft\nsui kknrg mr\n2 1\nhuxn h g\nylvoh e g\naob hre oll\n9 8\ncu g fdkbe\nq uw j\nyuv w pk\n9 7",
      "expected_output": "0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "14 98\nptk la jll\ngu ggu cbauw\nseoqg c dxd\n27 1\nzwjx tyhf r\nvef t a\nblk f kvqmt\n54 4\ndgzmf yvxx dyydi\nyvsj dz z\nzvtuu xdic eej\n25 97\ncyn vz tbat\nhkr jmegd a\njuo fyexn s\n7 44\njtn qv vso\nqoums h oycvh\nf c vwbe\n71 52\nyf hplnk dlrj\njm aa jdjw\nlwb v qgbu\n20 43\nqrji azlc zac\nhnll s h\nzvq p vd\n82 37\nekskl pvsoy heyke\ngd vberu cb\nu u uilq\n5 42",
      "expected_output": "0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "36 58\nrh flals na\naq wsqmf zhhm\ngpgu qve vt\n68 62\nw i x\nrx m jeta\nxldi glzm ytr\n54 41\nr tviki m\nxd j iqiyb\nci er wdye\n30 90\nbuntl ctybw t\nyt rvycr kjcy\nde tdj sr\n40 83\nzdfer ilj eqo\nmcwcy b xop\nt d r\n94 35\nwf cx v\ngf kedzg a\nwygc klgfg nzog\n24 62\nphjt kmmm vugp\nlhmn hydfy cwp\nq fneyv grpq\n7 57\nsmbqm gwgrb w\nrz axqw cqg\ndgww zz p\n44 19",
      "expected_output": "0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "11 11\ndg p bzq\ny ed tprxx\navm iw dxb\n47 3\nt y y\nuxme hg to\nlo q nlzl\n28 80\nfvdea zk nuda\npo nf wneg\nzz ig ecg\n23 46\nu msycc m\nkhr u igvp\ny fnf p\n57 77\nxcx tax puuwk\nklbr oxm vvf\njdfoh wrfjj uz\n52 11\ny rb alz\nuz gti jxk\njjn pto am\n37 36\nmrdff juj ea\nw vghr sph\npk uzt bh\n10 17\nfkgg fzbr upgez\natyp a tdq\njwe eey rcrkl\n87 70",
      "expected_output": "0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "37 62\ncltpg dw lxc\nv ll mkmz\nswwf hytb lx\n25 93\nl ocd ovau\nwsnm uz poxtq\ndf bu gip\n58 87\nxmte bkirp opc\ns n ehv\ni dxqgv upvkl\n63 29\nfkmj zvoru jibbs\njws ytn jqhnj\nah pwpw trcei\n61 7\ncbdb rj fwxus\nf mjp yau\nlohg kmk k\n31 91\nktsmw kqor pzuou\nrbsiz d zwmnc\nst mtqh ezmzx\n77 34\nzi fwiud lo\nvx q naij\nlc ycf cx\n77 26\npskul mqp eqb\nwze bg vi\nw uywo uimp\n38 9",
      "expected_output": "0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "17 52\nzfiq u dniy\na ysea skmxs\nadof x r\n18 27\nuwis pad dvbhn\nn kej lf\nfv svco dvkm\n31 96\nkemjh g grv\nbid aysqs md\npmqjp ppu ij\n77 57\nawp yylf ozp\npmhi ki ums\nfuxsv bok skfub\n7 9\nxu fcj s\ny zps bwbpm\nrh gix do\n11 42\nrtgd hria st\nsa m q\nv x e\n16 85\ndpn lvonp ntvix\nnvv kix bor\nnclv qxzv ikn\n1 12\ne pjs kxzlq\nigbya nil baknk\ni ej klrp\n91 80",
      "expected_output": "0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "254 89\nmqf jxsh jsdrx\nwfker nim rjrkx\nzi eg srcut\n227 370\ni dui tlwwd\ncvqe ayulk dmcnx\nqvtx stdsj rig\n492 178\nnzw vzhti hmevp\nrem a kfj\nnjrob sp ew\n274 404\nqt vj pbi\nw cklr vxdo\nwqciw lmv pfpgs\n324 200\nu slefy thw\nqhn po tbcs\nue oaxfi hkldd\n136 393\nfzbv vfsv ui\nvhb byl zrih\nr dskj bpgt\n285 377\nl xfqy vfayx\ntps gpzsu pwn\nfzzhj msjjg wus\n331 223\nsn nejxz ounm\niki vl d\ncxltd n n\n368 55",
      "expected_output": "0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "244 379\nx crdii ehz\nqh z xuqn\ndm l nxgep\n360 480\nw mmwpq spxgo\nu tsr targ\nzp weq iyz\n459 52\ned nu ueu\ndy wwr ulz\nvcgp zlw tl\n145 249\nmfpc hzks knms\nwvuuo jpeiv gyve\nvlarz mboc oyuj\n271 349\nqzdrr whqe jdor\nqnwwy feok m\nnjyi p bw\n185 318\na s ennj\nzjmo b lz\nvw gl m\n195 145\nz y wlc\nkhver paf ga\ng jbhv hjcye\n373 137\nk nt zndk\nid rha jbnhn\ne vdi qwccj\n164 428",
      "expected_output": "0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "351 191\na vyabq zezv\nuys hg kk\nwbuz wk doguf\n441 113\npgj cvwcy ixzfu\ny toq ydsc\nfkaya kk nhkee\n415 150\nyuw kq t\nax hk qa\nh gw ytyw\n107 113\ndaxh k urbd\nyunl bhmei o\nq s gwbbh\n209 203\ncmkun kmd qbz\nnk cx ms\ny cfa wrsh\n203 69\nhilem hw ler\nrio ffam sc\nnpxb nl dbo\n145 392\nbk h a\nrtz j z\naxeub metko nnykm\n416 465\nvlf juq vawd\nnztn ypt hlq\nbvjb jqi ofn\n289 293",
      "expected_output": "0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "492 191\nhjl omwpx ll\nrdo g olav\ndn gff cmtkt\n283 86\nnyt pdius lno\nfpvfv cggdt mhfz\niaakc ocazb hd\n103 278\nwqqu bsvu ozcng\nh toll zvv\ns m mm\n99 312\nl pahd ub\nsgew qxo kvoa\nageqb h mn\n239 208\nasi nnqep enkr\nswk glsw adhkb\npdmo ap j\n319 72\nrxtet qvwlv kyfwb\nimsnf dmzcy ed\nc o zaicq\n305 238\nnm qeix f\nf d cf\nmzmac cxg h\n450 103\njk ows b\nfyc cixh r\nk w m\n500 490",
      "expected_output": "0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "217 61\nm w wcqj\nb mm kfd\nbr az b\n280 132\nj nsxq jju\nqoo owfnb q\nyas k gxwkp\n307 261\niec hm lpmc\njp yzrvn mgde\no b civkt\n175 87\nzpw sph ln\nredc b iyy\niapb dsoxa q\n359 203\noad ehoq e\nnayvs sxfvl jm\ne pv fb\n242 323\nvfwhe tvel tti\nereo prf q\nna qfoc zhori\n148 496\nfs whzn fxwk\npjj wjnp cnm\nadv bhkf bn\n349 143\nmvjb uv ps\nw bvq cbcv\nodx arap pa\n451 314",
      "expected_output": "0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "428 192\nsjfx ohub qkr\npygcv l pu\nn fp mjf\n433 179\nmrh jxl ocdc\nf xk wlm\nce j s\n415 70\nfl xv dfoz\nlc e vnemx\nzy bygqu d\n222 201\npm mal r\np vy xr\nq biz vn\n52 481\nzw pi wox\nurts v w\nyqgct d tu\n474 284\nbmrrj rcbj tjie\nsifht k fywx\nbemvx ywpb qru\n385 166\nivi lssdq albqo\nwlh mbe ns\nxo qupft dsaiz\n444 291\ngha bxt x\nq a asw\nlldk wgwel m\n480 186",
      "expected_output": "0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "94 60\nqo m h\nvip gtbg xagl\npyjgz qdvaf enn\n246 352\nim f qss\nuj iuhb ff\nsrark el kcxl\n92 282\nvnknr bprsl hkhy\nus yr lam\npx ivv tv\n198 284\npznh yly jbwy\ns xaw z\najy a cewoi\n258 295\nfhx gago oao\nqda xgdfw s\nyjf klwcb dc\n98 454\nqpvcd rbd d\nndpyq bmqo gzrtk\nl qz gily\n444 284\nzxi puwao k\na tj qq\nwl otz sj\n264 99\nlyd bwfsy vwxz\ngvifh y vgu\nwed rjbb emhp\n155 296",
      "expected_output": "0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\nkwkui ibr yzbr\nvdb a rbqn\nxtkiz vbm sjsyc\n1000 1000\npgx thx zdslu\nrqkn pifr fmle\nifff utp ojvb\n1000 1000\nqlw yfz qfjp\nvf w utkk\ns pc z\n1000 1000\nkm ovb k\nc u ky\nfn vcciq p\n1000 1000\nrtl vubtx ggh\nxr adu olhb\nbyqo bnwa qvr\n1000 1000\noj obb ki\nkscsi ylvc kq\nnqcp e updc\n1000 1000\njode lih k\nbjfy lrvq f\ntarq klk uhdlx\n1000 1000\ncmvej gbues xo\na ml ngs\nfs s zop\n1000 1000",
      "expected_output": "0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\nb sq xlk\njsm bp firu\ni dj axcq\n1000 1000\nruwuo ecoye g\ni n aog\ndhnoz u afa\n1000 1000\nxvsv n funx\ng cc jm\nbnw z tb\n1000 1000\njljzn dftue nobu\nkzx fq vtqg\nkih gos ejed\n1000 1000\naqr ojz xu\nw x bj\nh x ow\n1000 1000\nrd igu ogi\nc teaf exndj\nti r mt\n1000 1000\nn vpbu xszwe\nenhq f sv\nyktl femns dbxi\n1000 1000\nuhlf lva a\nmrpsw a cf\nj pm gi\n1000 1000",
      "expected_output": "0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "2 999\ni aj gr\ny wvw ttty\nf pjy iadbn\n1 1000\nktvcv yfv wxq\nmxep byx jgd\nxfus sjl dmy\n999 1\naheh kop lwwe\nnafrn qic t\nj mrwov mh\n1 1000\na iecn dhg\ntx l thu\najwwr uftpx w\n1 2\ntnnsw drvyr cperz\nztyh n ojwu\nij c a\n1000 999\npqvq uogb pi\nvbp lkfc s\nnvd jsy razy\n1 1\nu naop emg\nqvxpj w ahvlh\neyj bgoeh vttm\n2 2\nh udtb ij\nmtge iddvh nm\nx kh lvt\n1 1000",
      "expected_output": "0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1000 2\nl tahw nr\njhho xuxtv f\nxqca hxhoz rzc\n1000 1\npyc uiog jos\nwgz zpsog ag\naauq w i\n999 1000\ngsy mhbg loyen\nejy emcd qrjgv\nbl x b\n2 2\nwpwwp rp sam\nqgh wa yhx\nhp qfvq txwq\n1 1000\nwxyv xqrpk ty\na tyn jxqih\nzjbl bn go\n1000 1000\ngxox fy sx\nnu ilsgv v\nrm qotk s\n2 999\njowmh uy wz\np yngj nwnor\nxyl pg abvo\n999 999\ni wjjl fqdvk\nexhp q hda\nxhb w q\n999 1",
      "expected_output": "0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:47",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:36:39"
}