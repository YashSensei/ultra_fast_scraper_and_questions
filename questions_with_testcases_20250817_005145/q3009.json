{
  "problem_code": "problems",
  "title": "KNIGHTS level testing",
  "tags": [],
  "text": "The image above is an example of a level in Arzola's videogame 'KNIGHTS'. The rules are very simple. The player is given a chess board, where each square is either empty, contains a wall, or contains a knight of one of three colours. Some squares are also marked with a colour - the player beats the level if all marked squares contain a knight of their respective colour at the same time. To accomplish this, the player can select any knight and place him on an empty square using the classic chess knight move (2 squares in one direction, 1 square in a direction perpendicular to the first).You will help test a few new level designs for this game. Given a starting configuration and several goal configurations (depicting which squares contain which knight), find the minimum number of moves required to get to those goal configurations.InputThe first line contains two integers1 ≤ r,c < 24.The followingrlines containccharacters each, describing the starting configuration of the level. The characters in the grid will be '#'for wall, '.'for an empty square, and 'R', 'B' and 'Y' for a red, blue and yellow knight, respectively.The number of squares that are not walls will be at most 12.A blank line follows, followed by a line with an integer1 ≤ q ≤ 75,000- the number of suggested goal configurations for this level. You may assume thatq*r*c ≤ 106.qdescriptions of goal configurations follow, separated by blank lines. Each description will berrows consisting ofccharacters, from the same set as the starting configuration. You may assume that the walls are at the same places as in the starting configuration, and that the number of knights of each colour is the same as the number of knights of that colour in the starting configuration.OutputFor each suggested goal configuration, if it is not reachable from the starting configuration in any number of moves, output-1.Otherwise, output the minimum number of moves required to reach that goal configuration from the starting configuration.ExampleInput:3 4\r\n#BYY\r\n..R#\r\n.BYR\r\n\r\n4\r\n#BYY\r\n..R#\r\n.BYR\r\n\r\n#.YY\r\n..R#\r\nBBYR\r\n\r\n#Y.Y\r\nB.R#\r\n.YRB\r\n\r\n#..R\r\nYYB#\r\nYBR.Output:0\r\n1\r\n19\r\n-1",
  "sample_input": "Input:3 4\r\n#BYY\r\n..R#\r\n.BYR\r\n\r\n4\r\n#BYY\r\n..R#\r\n.BYR\r\n\r\n#.YY\r\n..R#\r\nBBYR\r\n\r\n#Y.Y\r\nB.R#\r\n.YRB\r\n\r\n#..R\r\nYYB#\r\nYBR.Output:0\r\n1\r\n19\r\n-1",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/KNIGHTSG",
  "scraped_at": "2025-08-17 00:34:23",
  "test_cases": [
    {
      "input": "3 4\r\n#BYY\r\n..R#\r\n.BYR\r\n\r\n4\r\n#BYY\r\n..R#\r\n.BYR\r\n\r\n#.YY\r\n..R#\r\nBBYR\r\n\r\n#Y.Y\r\nB.R#\r\n.YRB\r\n\r\n#..R\r\nYYB#\r\nYBR.",
      "expected_output": "0\r\n1\r\n19\r\n-1",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "5 4\nwmvbkscs\ntznow\ntesazdnx\n9\nnulazolp\nkfkps\nm\npjixnd\njgciob\ncuqum\nehwsfa\na\neywbtms\nsv\nwqobn\nyhom",
      "expected_output": "0\n0\n0\n0\n9\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "3 2\nuyygrzws\neiyia\nmjxeit\n3\nduff\nkswnxnf\ngzmxvu\nso\nnevpdcmm\niowpq\nptdrp\ntvuejmxq\nassv\nhnaunu\nwsqi\nfccpsbwd",
      "expected_output": "0\n0\n0\n0\n3\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "8 5\ntfdryp\nsfpg\nlavyhnld\n4\nzmzjoc\njbagrhn\nkcdkr\nwnqtxvra\nkgpzz\nebt\nlj\nb\npbvaf\ntu\nur\nsrljqxdb",
      "expected_output": "0\n0\n0\n0\n4\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "88 3\nopykgh\nu\nzdodw\n32\nyhlx\nxyl\nanehovt\neubds\nzae\ntonjg\nnt\nywlf\ndtuflanb\ngywaekwz\nbhav\nytzjqqr",
      "expected_output": "0\n0\n0\n0\n32\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "23 47\ndhorai\ngpff\ngjcmt\n77\ni\ng\nn\nwuejmc\nyluznedh\nwyd\ndhgpgsw\nfqmls\novhp\nfvnrw\neutwk\nyilalq",
      "expected_output": "0\n0\n0\n0\n77\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "56 16\nmcdb\nqcbds\netyp\n44\nbfqcvprx\navgzcbw\niyp\nlfcf\ng\nda\nsxczexr\nbw\nd\nss\ndgesj\naccewp",
      "expected_output": "0\n0\n0\n0\n44\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "20 66\nwly\ncvptvbni\nv\n10\nom\nnr\nnmigkh\nzi\nnp\nvg\nmag\ni\nrnb\nnnd\nidi\nicolizze",
      "expected_output": "0\n0\n0\n0\n10\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "71 82\nwya\ny\nszlzrqs\n36\nspxsf\njx\njlh\nccpc\npmpyxf\nfqylwz\nk\nqjleye\npugamjs\nyvtftye\nt\negxrpyb",
      "expected_output": "0\n0\n0\n0\n36\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "152 61\noi\nifrvly\nbefq\n368\nfugmseg\ndecjmq\njqpvf\naivr\npntkmcai\nxtrikxxi\nkcvlohoe\njuqfkzsr\nxkvbl\ncw\nqaziutla\niupkjgkv",
      "expected_output": "0\n0\n0\n0\n368\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "339 89\nibylb\nuo\nr\n172\nil\ntkpsz\nondiie\nj\nyjw\nhtzh\nqyhprer\ntc\nk\naur\ncppzkvi\ncwuzyovt",
      "expected_output": "0\n0\n0\n0\n172\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "240 422\nshw\ncmokx\nwfb\n65\ne\niqbfdc\nj\nftzxcunp\nrywjjuv\nqtdjq\nw\nzjgbd\naeedu\nglax\nobpu\nqowv",
      "expected_output": "0\n0\n0\n0\n65\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "173 443\nos\nqpcp\nsiyh\n218\nolu\nobozvne\nwmhc\npnj\npabtj\nxdh\nl\nensua\nhcitlowr\nwb\nfthlspg\nv",
      "expected_output": "0\n0\n0\n0\n218\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "249 261\naen\nywjmyn\nhjfzuke\n432\nvph\nl\ntkjxdr\ngrtqawra\nrkg\nwtty\nthkoj\ncvevib\ntzs\nrzsxge\nqjraeri\npl",
      "expected_output": "0\n0\n0\n0\n432\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "322 274\navwukvsd\nxs\nmjhy\n483\ntwfn\ngssiuob\nl\naziphi\ndyx\nywxfudn\nziql\ncue\nxzsb\nrcffie\nry\nlgujvh",
      "expected_output": "0\n0\n0\n0\n483\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "86 277\njnovvqy\no\nxzzwc\n262\nzlpe\niqgidf\np\npchxvikh\ny\nyx\nwqpppmmw\nud\nzqes\nraswcu\nxr\ni",
      "expected_output": "0\n0\n0\n0\n262\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\nuqp\nxjxmido\nukd\n1000\ncp\niibzctni\nzqnxkje\nxgtkji\nosvx\nmcjtez\na\nqs\nnigsee\nwtu\ntfd\ngpjwoq",
      "expected_output": "0\n0\n0\n0\n1000\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\nzsypa\nlc\nvwstiom\n1000\nrrl\nylgkukxw\npqaomx\nnku\nn\nwgageccs\nh\nhu\nor\nbullcpb\nvg\nj",
      "expected_output": "0\n0\n0\n0\n1000\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "2 999\njjuk\nd\nznpsn\n2\nsxzjfjzw\nkprg\nffppjqb\nuatgx\nwqtsllnf\nzm\nwhratq\nkmc\nl\njl\nl\nzbps",
      "expected_output": "0\n0\n0\n0\n2\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 2\nowaht\nco\nniskpzo\n1\nawxsgfd\ngw\nsbq\nqxpqmkud\naiw\nvx\napt\nmtallfr\nqfr\nbjhshd\nji\ny",
      "expected_output": "0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:55",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:53"
}