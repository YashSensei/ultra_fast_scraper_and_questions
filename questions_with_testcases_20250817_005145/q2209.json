{
  "problem_code": "problems",
  "title": "Madotsuki Pattern",
  "tags": [],
  "text": "Madotsuki is the main character of the surreal adventure game Yumenikki. The poor girl ended her life after discard all of her properties that have been found in the dream. Every year there are some small celebrations among people. The most symbolic sign of Madotsuki is the pattern on her clothes ...(image taken fromgithub.com/madotsuki)You have been given a n*m design. Each element is one of the following character '1', '0', '?'. You can freely choose each '?' to become '0' or '1', to maximizate the number madotsuki pattern in the design.which the madotsuki pattern is somethings like this:101010Remark010101is not a madotsuki pattern.Input(Multiply test cases, for each test case)n m ( n <= 1000, m <= 10)[n*m '0', '1' or '?']OutputFor each test case, output the maximum answer, and how many design can reach the answer in total. Since the answer can be very huge, you only need to output it after mod 1,000,000,007.ExampleInput:2 42 4\r\n????\r\n????\r\n4 6\r\n??????\r\n?1010?\r\n?0101?\r\n??????Output:1 8\r\n6 4",
  "sample_input": "Input:2 42 4\r\n????\r\n????\r\n4 6\r\n??????\r\n?1010?\r\n?0101?\r\n??????",
  "sample_output": "Output:1 8\r\n6 4",
  "link": "https://www.spoj.com/problems/MDT1",
  "scraped_at": "2025-08-17 00:34:07",
  "test_cases": [
    {
      "input": "2 42 4\r\n????\r\n????\r\n4 6\r\n??????\r\n?1010?\r\n?0101?\r\n??????",
      "expected_output": "Output:1 8\r\n6 4",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "4 10 9\nswe\nhtlee\n5 7\npn\n6\nmewicsjt\n2\nujclbin\nexun",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "9 3 6\nerpvdmst\nubufnf\n10 7\negg\n10\niqinisji\n10\nqym\nyxnuqhygyvfv",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "3 8 2\nkok\nlzksu\n5 5\nqz\n4\nz\n3\nx\niethaddojgpo",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "37 12 71\nfmte\nrayhob\n62 87\nfyqcuqgy\n77\nhjrrw\n55\njcwhsibm\npv",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "32 5 32\nnehu\ndvjurchk\n26 72\npwgyar\n12\nnwcig\n46\noghyo\nrkkmnfkwfdy",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "77 70 95\nhlyi\nuemjsfe\n24 53\nos\n37\nuelmpbauo\n2\nnrqg\nlf",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "66 83 37\nijmvm\nfqxabsep\n4 1\njjzm\n8\nhdpgrk\n82\nyx\nngxdqzln",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "63 76 92\nofwynyyb\nvj\n5 28\nykjnpnz\n7\nwhjcxueppnzx\n63\ncw\npuqokkxroh",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "318 477 232\nw\ngayooosa\n244 259\nzt\n91\nuijua\n309\njfhf\nqyqnx",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "335 116 487\nrlyu\nf\n222 490\njlftsvashj\n193\nku\n71\ngtmyaexdqqyi\ntcvlzwakm",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "283 64 51\nfas\nlc\n315 156\nf\n309\nn\n295\ntwvealbia\njthajzppj",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "349 430 332\nadchgdi\nvvitarg\n394 227\nxajhvc\n455\naibozazaowa\n178\nxtzrva\nalpqnhpcszt",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "393 203 53\nqoka\nfarlep\n136 186\nuxcc\n258\nnzcufgo\n479\ngejz\nyzhxofkdip",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "206 298 171\nrpbijnpm\nluqol\n425 66\nzk\n193\nn\n237\npyiu\nt",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "377 457 165\nvmp\naqh\n442 335\nci\n392\ntq\n84\ntfjbexc\njorzpnq",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000\nwdgk\nriwb\n1000 1000\nw\n1000\nqsqzide\n1000\nbwu\ntfzeoxivj",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000\nvoj\nixhvzj\n1000 1000\nn\n1000\nhvcdyross\n1000\nemtqonrhn\nsy",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "999 999 1\nlyo\nwmzs\n999 1\nehbfnf\n999\nlv\n2\nnuogucz\nye",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1 1000 2\nfnjpkl\nqbxkelzw\n999 2\nrgs\n2\nsly\n1\nzxqo\nwskkcudh",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:52",
  "total_test_cases": 20
}