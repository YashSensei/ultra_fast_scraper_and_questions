{
  "problem_code": "problems",
  "title": "Captain Selection",
  "tags": [],
  "text": "There are N people and M teams. Each team is a subset of N people.For each team, we need to pick a captain.No people could be a captain of more than one team.A personais said to be a subordinate of a personbif there is some team including both a and b in which b is the captain.A captain selection process is said to be valid if we could not find a sequence of more than 2 people a1, a2, ..., aksuch that ai is a subordinate of ai+1(i < k) and akis a subordinate of a1.For example, if we have 4 people and 3 teams:Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}The captain selection process:Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4is not valid since 1 is a subordinate of 4, 4 is a subordinate of 2 and 2 is a subordinate of 1.Your job is to determine a valid captain selection process.InputThe first line contains a number t (about 10), which is the number of test cases. Then t test cases\r\nfollow. Each test case has the following form.The first line contains two numbers N and M (1 ≤ N, M ≤ 50).Each of the M teams is described in the next 2 lines. \r\nThe first line contains the number of people in the team.Each team has either 2 or 3 people.The second line contains the indexes (1-based) of the people in that team.There is a blank line after each test case's input.OutputFor each test case, print a number -1 if there is no valid captain selection process.Otherwise, print M lines, each line contains the index of the captain of the corresponding team.Print a blank line after each test case's output.ExampleInput:2\r\n4 3\r\n3\r\n1 2 3\r\n3\r\n2 3 4\r\n3\r\n3 4 1\r\n\r\n4 3\r\n3\r\n1 2 3\r\n2\r\n2 4\r\n3\r\n3 4 2Output:-1\r\n\r\n1\r\n2\r\n3",
  "sample_input": "Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}",
  "sample_output": "Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4",
  "link": "https://www.spoj.com/problems/CAPTAIN",
  "scraped_at": "2025-08-17 00:33:53",
  "test_cases": [
    {
      "input": "Team 1: {1, 2, 3}\r\nTeam 2: {2, 3, 4}\r\nTeam 3: {3, 4, 1}",
      "expected_output": "Captain 1: 1\r\nCaptain 2: 2\r\nCaptain 3: 4",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "8 3 2 5\nw bv hg pvra swr\n2 10 3 2\nvp b ppi vltsw fptw\n7 7 9 2\nxu kb bzro uxhez di",
      "expected_output": "0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "7 8 1 8\nf gsr db a asm\n2 8 5 7\nfvcld r u xexi ywa\n2 2 5 5\nb iylg qri vask odgxz",
      "expected_output": "0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "5 9 8 2\nzlt aphh r rg wr\n7 1 9 6\nlwvx iap xobf st sqnr\n2 6 8 4\nabab dvrjf ttp fg chcok",
      "expected_output": "0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "10 66 77 96\nf cyti dddxx v y\n22 89 45 74\nipw ws rvt kc x\n65 87 42 6\no fuonp dr iwowg hid",
      "expected_output": "0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "23 94 63 75\nqoxir rh v jvs dhn\n54 25 68 67\nuot ds fnyjq urll f\n10 9 80 57\ntd bull nxs ln pfsi",
      "expected_output": "0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "86 93 70 46\ne kupv vb fid kqrpo\n47 14 12 32\ny tcxrf fl jd a\n59 51 30 18\ndi jp uqqoq kxqc jynwj",
      "expected_output": "0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "8 86 49 85\npfhb afzhu ephd ydwd srr\n83 42 73 9\nlbcdo sk r jjqqe zcsj\n89 99 56 52\nherzp f z ag cjip",
      "expected_output": "0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "91 71 74 94\nahksn surr crzc swtef bbl\n16 61 95 77\nfkoz wqz k zphm ky\n28 24 96 51\nwnhfd ua ufk adufo aone",
      "expected_output": "0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "72 458 334 334\nbaex kreo qz kt ijwd\n52 397 310 202\ni ki ie sil gctr\n383 383 394 159\nhtzvb g ikkzs lvniy xmav",
      "expected_output": "0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "208 121 331 135\npeee mds ja wudae iubp\n297 358 319 251\nrep qgot ac qujs mpdj\n109 367 161 238\ntplfo lvyxz lvuq hmky mdco",
      "expected_output": "0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "116 89 91 86\nyp ee od vgdws dayf\n441 426 161 355\nkd dpmhw hfn nvbe xgw\n158 287 156 188\nx nlgq o gbxrj hstpn",
      "expected_output": "0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "388 91 266 229\njnx sx pmbr l dzc\n181 308 128 465\nifbg wjbxe vf nnox wkaq\n315 180 487 180\njnzfp lxyel s pejpa uxp",
      "expected_output": "0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "480 321 273 175\nwvh jdbds iozvk mxj aob\n361 497 133 233\nbpilp s mwa is jkafp\n442 421 319 54\nr tvt y e gkljp",
      "expected_output": "0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "366 165 482 140\nltyp jz zuz kd jch\n173 248 418 65\nvrel xnnl jgiql gx u\n245 63 444 435\np dxoob ihtj ya pmmfa",
      "expected_output": "0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "256 471 477 368\nsp vwru h ll zmkt\n283 469 115 324\npv zoe hcr gsiuu glpke\n59 134 99 102\nuwve pfh lgzb rdzk at",
      "expected_output": "0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000 1000\nbv xakjw ff nr gio\n1000 1000 1000 1000\nhqkq bgq en s f\n1000 1000 1000 1000\nolcnd vyilx k wt fi",
      "expected_output": "0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000 1000\nwvnb pefzq pkd nm s\n1000 1000 1000 1000\nzxdhh eutnw v aw gjdb\n1000 1000 1000 1000\ngcn awf q jn vnv",
      "expected_output": "0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1 999 999 1000\nlody xu cof fr b\n1 1 1 1\nt v iq apa td\n1000 1 999 999\nnydf nuke iniqj sxe r",
      "expected_output": "0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1000 999 1 1000\niueko x jcyji yseuh nd\n2 1000 1000 1000\nz nhuin vnl zzotb t\n1 1 1000 1000\ngn vogje dxv apd wzcd",
      "expected_output": "0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:53",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:40"
}