{
  "problem_code": "problems",
  "title": "Continuous Fractions Again",
  "tags": [],
  "text": "A simple continuous fraction has the form:where the ai’s are integer numbers.The previous continuous fraction could be noted as [a1, a2, ..., an]. It is not difficult to show that any rational number p / q, with integers p > q > 0, can be represented in a unique way by a simple continuous fraction with n terms, such that p / q = [a1, a2, ..., an−1, 1], where n and the ai’s are positive natural numbers.Now given a simple continuous fraction, your task is to calculate a rational number which the continuous fraction most corresponds to it.InputInput for each case will consist of several lines. The first line is two integer m and n, which describe a char matrix, then followed m lines, each line cantain n chars.\r\nThe char matrix describe a continuous fraction The continuous fraction is described by the following rules:Horizontal bars are formed by sequences of dashes '-'.The width of each horizontal bar is exactly equal to the width of the denominator under it.Blank characters should be printed using periods '.'The number on a fraction numerator must be printed center justified. That is, the number of spaces at either side must be same, if possible; in other case, one more space must be added at the right side.The end of the input is indicated by a line containing 0 0.OutputOutput will consist of a series of cases, each one in a line corresponding to the input case. A line describing a case contains p and q, two integer numbers separated by a space, and you can assume that 10^20 > p > q > 0.ExampleInput:9 17\r\n..........1......\r\n2.+.-------------\r\n............1....\r\n....4.+.---------\r\n..............1..\r\n........1.+.-----\r\n................1\r\n............5.+.-\r\n................1\r\n5 10\r\n......1...\r\n1.+.------\r\n.........1\r\n....11.+.-\r\n.........1\r\n0 0Output:75 34\r\n13 12",
  "sample_input": "Input:9 17\r\n..........1......\r\n2.+.-------------\r\n............1....\r\n....4.+.---------\r\n..............1..\r\n........1.+.-----\r\n................1\r\n............5.+.-\r\n................1\r\n5 10\r\n......1...\r\n1.+.------\r\n.........1\r\n....11.+.-\r\n.........1\r\n0 0Output:75 34\r\n13 12",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/CFRAC2",
  "scraped_at": "2025-08-17 00:33:04",
  "test_cases": [
    {
      "input": "9 17\r\n..........1......\r\n2.+.-------------\r\n............1....\r\n....4.+.---------\r\n..............1..\r\n........1.+.-----\r\n................1\r\n............5.+.-\r\n................1\r\n5 10\r\n......1...\r\n1.+.------\r\n.........1\r\n....11.+.-\r\n.........1\r\n0 0",
      "expected_output": "75 34\r\n13 12",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "4 4\n9\n3\npwidwislnsvokaqfic\n5\n1\npfwkfwtgj\n7\n5\nuibca\n8\n5\nyqiaogr\n8\n8 4\n9\n2\nsrgnamkvaispdcxfygll\n10\n2\nfi\n5\n1 1",
      "expected_output": "0\n9\n3\n0\n5\n1\n0\n7\n5\n0\n8\n5\n0\n8\n0\n9\n2\n0\n10\n2\n0\n5\n0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "9 8\n10\n8\nqev\n3\n5\nqmrdoontvikdhioz\n5\n2\nbgykvhxqgdysoirp\n6\n5\ndmyjyngj\n4\n4 9\n1\n9\nafacjwbymldjyrofsj\n3\n6\njvqjvisiuboih\n8\n6 4",
      "expected_output": "0\n10\n8\n0\n3\n5\n0\n5\n2\n0\n6\n5\n0\n4\n0\n1\n9\n0\n3\n6\n0\n8\n0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "5 2\n9\n7\ntnbvijyviv\n3\n8\nve\n1\n10\nkgjprasqewworilowq\n4\n4\nfswnzwgipwrww\n10\n10 10\n6\n6\nvmbjuifvesmbbp\n9\n3\nlpdamqd\n8\n3 5",
      "expected_output": "0\n9\n7\n0\n3\n8\n0\n1\n10\n0\n4\n4\n0\n10\n0\n6\n6\n0\n9\n3\n0\n8\n0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "30 41\n8\n12\nkbsnhniiwswiv\n15\n10\nolhmemvejlzrgycsn\n71\n62\nixrmivzcif\n7\n61\nbcsbsj\n74\n1 22\n15\n98\nfiigwibr\n32\n21\ndrso\n6\n29 3",
      "expected_output": "0\n8\n12\n0\n15\n10\n0\n71\n62\n0\n7\n61\n0\n74\n0\n15\n98\n0\n32\n21\n0\n6\n0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "26 50\n83\n33\nvnllbg\n43\n17\nsbumjebkenmn\n54\n31\ncusuwgwgnrmau\n68\n83\ncskcxfyrofqmurfpdbi\n88\n5 88\n83\n14\nlgjjvuliswwojaequro\n46\n10\nbzgtryrtmv\n64\n32 87",
      "expected_output": "0\n83\n33\n0\n43\n17\n0\n54\n31\n0\n68\n83\n0\n88\n0\n83\n14\n0\n46\n10\n0\n64\n0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "11 62\n1\n72\nekhfyjmzricwegevzi\n84\n81\nymehhnmgqanordmi\n22\n67\nyyrqezzgbu\n70\n26\nywwvc\n95\n4 68\n8\n83\ntbribfvuikrycwhsx\n16\n88\naenxji\n65\n75 8",
      "expected_output": "0\n1\n72\n0\n84\n81\n0\n22\n67\n0\n70\n26\n0\n95\n0\n8\n83\n0\n16\n88\n0\n65\n0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "6 62\n39\n77\neosfswwhbb\n61\n38\nojtomd\n86\n74\ncu\n19\n15\nmjjlvxlv\n86\n53 3\n59\n69\nbuyop\n39\n83\nalbtgtpi\n4\n68 18",
      "expected_output": "0\n39\n77\n0\n61\n38\n0\n86\n74\n0\n19\n15\n0\n86\n0\n59\n69\n0\n39\n83\n0\n4\n0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "44 18\n43\n85\nqkl\n91\n73\nrkbolsbtrwfuistnbay\n86\n47\needjmgyjefhijiegijm\n46\n31\nojenvuhf\n9\n79 19\n42\n14\nqswg\n20\n39\numhtqxybry\n55\n46 43",
      "expected_output": "0\n43\n85\n0\n91\n73\n0\n86\n47\n0\n46\n31\n0\n9\n0\n42\n14\n0\n20\n39\n0\n55\n0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "92 363\n118\n246\nrvufcdxpyhkrwctbejku\n160\n481\nlvexekshnofehdxwmsew\n434\n134\nxhdwctouudgiejkyyc\n104\n140\nxqscfgto\n370\n194 472\n244\n67\nmaedijydyufoazojraw\n83\n161\nkyici\n76\n460 194",
      "expected_output": "0\n118\n246\n0\n160\n481\n0\n434\n134\n0\n104\n140\n0\n370\n0\n244\n67\n0\n83\n161\n0\n76\n0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "71 209\n159\n129\nofoczbbggxryxbb\n72\n437\njxeiclkwifjbyjstmgp\n458\n191\nzrlrzdfalagxxczrux\n268\n213\nmycimjnnp\n123\n256 210\n174\n439\ngzvvn\n195\n108\nvusyqznzdme\n443\n92 321",
      "expected_output": "0\n159\n129\n0\n72\n437\n0\n458\n191\n0\n268\n213\n0\n123\n0\n174\n439\n0\n195\n108\n0\n443\n0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "143 194\n180\n407\ngrogfqgp\n428\n351\nrexhcldkobfktg\n227\n108\njrjrgkpahdvczxqil\n99\n395\nxkw\n363\n223 395\n384\n194\nrtumldpptip\n212\n431\nvvwywdqcxuvtknwxqosk\n497\n243 447",
      "expected_output": "0\n180\n407\n0\n428\n351\n0\n227\n108\n0\n99\n395\n0\n363\n0\n384\n194\n0\n212\n431\n0\n497\n0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "466 236\n254\n385\nujtcdnsjshsczfyir\n478\n486\nqqq\n180\n250\nil\n244\n338\nouote\n118\n298 395\n171\n278\nujxl\n192\n142\nviwoifaaqsqztrzt\n67\n245 303",
      "expected_output": "0\n254\n385\n0\n478\n486\n0\n180\n250\n0\n244\n338\n0\n118\n0\n171\n278\n0\n192\n142\n0\n67\n0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "195 414\n288\n84\noxvaminuifbpax\n419\n464\ngvmuvxfzlnbsknqz\n211\n436\nfxyvpymnwvvenblwlod\n244\n400\nv\n278\n488 184\n113\n399\njxpucsvnv\n415\n369\nray\n432\n308 473",
      "expected_output": "0\n288\n84\n0\n419\n464\n0\n211\n436\n0\n244\n400\n0\n278\n0\n113\n399\n0\n415\n369\n0\n432\n0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "378 475\n243\n132\nfpd\n272\n443\nglpvck\n349\n483\noefxt\n388\n164\nfhpcpqbnzdevhrbtcotf\n94\n499 295\n431\n117\nwuxgy\n444\n334\nvqiqyiya\n301\n445 156",
      "expected_output": "0\n243\n132\n0\n272\n443\n0\n349\n483\n0\n388\n164\n0\n94\n0\n431\n117\n0\n444\n334\n0\n301\n0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "462 344\n413\n341\nfumcrcefwutrt\n436\n423\naowhwf\n373\n318\ntelcrsr\n323\n267\nhqwlxolrwquyujzu\n476\n267 231\n65\n481\nwflsgdbu\n70\n379\ny\n324\n192 455",
      "expected_output": "0\n413\n341\n0\n436\n423\n0\n373\n318\n0\n323\n267\n0\n476\n0\n65\n481\n0\n70\n379\n0\n324\n0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\n1000\n1000\ngybewhnhpdalhsat\n1000\n1000\nxswlliaik\n1000\n1000\ncsuqurwkmkcqmdai\n1000\n1000\nsdhejxkkvgilwyqtmys\n1000\n1000 1000\n1000\n1000\nmmwmue\n1000\n1000\nmhcnnoz\n1000\n1000 1000",
      "expected_output": "0\n1000\n1000\n0\n1000\n1000\n0\n1000\n1000\n0\n1000\n1000\n0\n1000\n0\n1000\n1000\n0\n1000\n1000\n0\n1000\n0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\n1000\n1000\nbqrl\n1000\n1000\nqwvirqsvucrzvcqiwd\n1000\n1000\ndjjhudwelayqxfmhd\n1000\n1000\ncng\n1000\n1000 1000\n1000\n1000\npgnfzftrcniaooht\n1000\n1000\nkghknhvxionikdlqtdm\n1000\n1000 1000",
      "expected_output": "0\n1000\n1000\n0\n1000\n1000\n0\n1000\n1000\n0\n1000\n1000\n0\n1000\n0\n1000\n1000\n0\n1000\n1000\n0\n1000\n0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "999 1000\n1000\n1000\nopltictyiuxjvrmz\n999\n999\ngavt\n1000\n999\nsef\n999\n999\net\n1\n999 999\n1000\n1000\nrbcdiaeksv\n1\n1\njgovbdvfswnh\n2\n2 1",
      "expected_output": "0\n1000\n1000\n0\n999\n999\n0\n1000\n999\n0\n999\n999\n0\n1\n0\n1000\n1000\n0\n1\n1\n0\n2\n0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1 2\n2\n2\nbgxlelrapqb\n999\n999\ndmzvnaphril\n1000\n2\nzicbktfawrsnhs\n2\n1\noiemrzojsicevo\n1\n2 999\n1\n1000\nwa\n999\n2\nckaifehh\n2\n1000 1",
      "expected_output": "0\n2\n2\n0\n999\n999\n0\n1000\n2\n0\n2\n1\n0\n1\n0\n1\n1000\n0\n999\n2\n0\n2\n0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:45",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:36:22"
}