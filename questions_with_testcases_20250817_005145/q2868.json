{
  "problem_code": "problems",
  "title": "Grumpy uncle",
  "tags": [],
  "text": "Winters in Nlogonia are very hard, so uncle Ernie decided to buy a heater to keep himself warm this year. Although it was terribly difficult, he managed to follow his friends' advice and buy an intelligent heater, which can be controlled from his smartphone. However, uncle Ernie doesn't fully understand his smartphone, so he has trouble finding the app which is used to set the heater's temperature.Uncle Ernie has installed on his smartphoneNapps numbered from1toN, corresponding number1to the app controlling the heater. His smartphone hasMbuttons numbered from1toM, which are used to switch from one app to another. More specifically, if the smartphone has currently app numberiopened and uncle Ernie presses button numberj, then appiis closed and appTi,jis then opened. The problem is uncle Ernie cannot distinguish one app from the other, so he never knows if he has opened the correct app.Uncle Ernie is very grumpy, so you have decided to help him in order to avoid having to listen to his complaints every time the heater's temperature is not quite right for him. Your task is to provide him with a list of buttons which he can use as instructions, such that if he presses the buttons in the list in the order in which they appear there, his phone will have opened the app controlling the heater. Because you don't want to provide him with more than one list, you should create one that works as explained above independently of which app is opened at the time when uncle Ernie begins executing its instructions.Take for example the case where the phone hasN = 3apps andM = 2buttons, beingT1,1= T2,1= 3,T3,1= T1,2= 2andT2,2= T3,2= 1. In this case, a sequence of buttons that could be provided to uncle Ernie would be{1,2}, because one of the following situations would take place:If uncle Ernie starts with app1being open, pressing button1will leave him with app3being open; then pressing button2would result in a final state where app1is again opened.On the other hand, if uncle Ernie starts with app2being open, pressing button1will leave him with app3being open; then pressing button2would result in a final state where app1is open.Finally, if he starts with app3being open, pressing button1will leave him with app2being open; then pressing button2would reslut in a final state where app1is open.Therefore, independently of which app was open at the beginning of the sequence of button presses, uncle Ernie will always reach app1by the end of the sequence.Now again, there are times when it is impossible to find a sequence of buttons that can be pressed by uncle Ernie such that the app being open when he finishes to do so is always app number1. For example, in the case withN = 3andM = 2if we haveT1,1= T1,2= 2,T2,1= T2,2= 3andT3,1= T3,2= 1the application opened at the end of any sequence of button presses always depends on which application was open at the time the sequence was started. Therefore, in this case it is impossible to find a sequence that will always leave uncle Ernie's phone with app number1opened.In order not to waste time looking for sequences of button presses that do not exist, you would like to first find out if it is possible to satisfy uncle Ernie by finding a sequence as described above. If so, uncle Ernie will be happy knowing that he can turn the heater on at level 2, his favorite,  whenever he wants... and will thus be eternally grateful.InputThere are multiple test cases in the input file. The first line contains two integer numbersNandM, representing the number of applications and the number of buttons in uncle Ernie's smartphone, respectively (1≤N,M ≤ 1000with1≤N × M≤104). Each of the followingNlines containsMinteger numbers, being thej-th number in thei-th lineTi,j, representing the app which is opened when buttonjis pressed while app numberiwas open (1≤Ti,j≤Nfori = 1, 2, ..., Nandj = 1, 2, ..., M).OutputFor each test case, print a single line containing a character, representing if it is possible to find a sequence of buttons as described in the problem statement. The character should be an'S'if the sequence can be found, and an'N'otherwise.ExampleInput:3 2\r\n3 2\r\n3 1\r\n2 1\r\n3 2\r\n2 2\r\n3 3\r\n1 1Output:S\r\nN",
  "sample_input": "Input:3 2\r\n3 2\r\n3 1\r\n2 1\r\n3 2\r\n2 2\r\n3 3\r\n1 1Output:S\r\nN",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/TAP2016E",
  "scraped_at": "2025-08-17 00:34:21",
  "test_cases": [
    {
      "input": "3 2\r\n3 2\r\n3 1\r\n2 1\r\n3 2\r\n2 2\r\n3 3\r\n1 1",
      "expected_output": "S\r\nN",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "3 4\n7 5\n3 1\n1 10\n3 10\n4 3\n10 4\n6 3",
      "expected_output": "0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "5 10\n4 1\n10 3\n4 8\n2 3\n9 5\n1 7\n9 10",
      "expected_output": "0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "4 6\n2 2\n8 9\n6 10\n2 1\n5 5\n4 3\n2 10",
      "expected_output": "0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "75 5\n17 42\n68 20\n13 82\n28 13\n57 8\n2 26\n17 3",
      "expected_output": "0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "60 28\n87 6\n5 79\n27 41\n94 23\n85 23\n96 88\n12 61",
      "expected_output": "0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "20 29\n4 10\n38 11\n21 55\n5 70\n94 2\n9 7\n99 100",
      "expected_output": "0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "60 52\n90 85\n100 39\n43 15\n72 6\n22 26\n34 10\n92 82",
      "expected_output": "0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "74 78\n2 96\n41 28\n26 30\n5 94\n16 81\n68 62\n91 17",
      "expected_output": "0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "227 140\n444 142\n290 402\n457 278\n492 263\n127 278\n168 339\n292 446",
      "expected_output": "0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "378 57\n186 370\n202 491\n293 231\n215 488\n434 381\n50 464\n234 159",
      "expected_output": "0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "234 101\n215 291\n395 260\n383 61\n410 95\n345 331\n433 496\n60 450",
      "expected_output": "0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "321 191\n402 355\n347 473\n375 265\n190 93\n54 333\n323 446\n366 246",
      "expected_output": "0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "217 226\n250 254\n197 82\n69 254\n244 395\n289 179\n270 136\n92 290",
      "expected_output": "0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "470 343\n284 251\n164 380\n206 476\n284 115\n477 210\n374 484\n334 156",
      "expected_output": "0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "282 373\n487 468\n107 454\n193 208\n291 143\n488 392\n456 494\n293 334",
      "expected_output": "0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000",
      "expected_output": "0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000\n1000 1000",
      "expected_output": "0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1000 999\n1000 999\n999 2\n999 999\n1 1\n1000 1000\n1000 1000\n999 2",
      "expected_output": "0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "999 1000\n1 999\n1 2\n1000 999\n999 1\n999 999\n999 1000\n1000 999",
      "expected_output": "0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:54",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:49"
}