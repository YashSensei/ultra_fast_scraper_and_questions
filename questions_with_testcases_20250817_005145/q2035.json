{
  "problem_code": "problems",
  "title": "King Graffs Trip",
  "tags": [],
  "text": "King Graff, the ruler of the land of Feerie, is going on a trip through his realm! He would like to give his people a chance to see their great king amongst them, almost as if he too were a petty commoner with no future.Feerie consists of $N$ ($1 \\leq N \\leq 10^4$) towns (numbered $1..N$), and $M$ ($1 \\leq M \\leq 10^5$) roads. The $i$th road runs from town $A_i$ to a different town $B_i$ (and can only be travelled in that one direction), and takes $T_i$ ($1 \\leq T_i \\leq 10^9$) minutes to traverse. No pair of towns is directly connected by more than one road in the same direction. King Graff will start his trip at town $X$, and would like to end at a different town $Y$. Furthermore, since he has better things to do, he would like to complete it in at most $L$ ($1 \\leq L \\leq 10^{15}$) minutes.However, Graff does not like to go long without being worshipped, and the only proper place to do this is in a shrine built to him. $S$ ($1 \\leq S \\leq 100$) distinct towns contain such shrines - the $i$th shrine is in town $H_i$. He would like to minimize the longest continuous stretch of time spent during the trip without passing through any shrines. As the royal computer scientist, your job is to determine the length of this stretch, or break the news to your king that the trip cannot be completed in time. Note that the trip may be impossible to complete in any amount of time, if town $Y$ is not reachable from town $X$ by any path of connected roads.InputFirst line: 5 integers, $N$, $M$, $X$, $Y$, and $L$Next $M$ lines: 3 integers, $A_i$, $B_i$, and $T_i$, for $i = 1..M$Next line: 1 integer, $S$Next $S$ lines: 1 integer, $H_i$, for $i = 1..S$OutputLine 1: 1 integer - the minimum value for the longest continuous stretch of travel time spent away from shrines (in minutes), or -1 if the trip cannot be completed in at most $L$ minutesExampleInput:5 7 2 3 72 3 53 2 12 1 41 3 32 4 34 5 25 3 33145Output:4Explanation of Sample:The map of Feerie is illustrated below:The optimal route goes through towns $2 \\rightarrow 1 \\rightarrow 3$, taking 7 minutes with at most 4 minutes spent away from any shrines. The route $2 \\rightarrow 3$ is shorter (taking 5 minutes), but has a longer continuous time away from shrines (5). The route $2 \\rightarrow 4 \\rightarrow 5 \\rightarrow 3$ has a shorter such value (3), but takes longer than 7 minutes in total (8) and as such is not allowed.",
  "sample_input": "Input:5 7 2 3 72 3 53 2 12 1 41 3 32 4 34 5 25 3 33145Output:4",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/GRAFFTRI",
  "scraped_at": "2025-08-17 00:33:50",
  "test_cases": [
    {
      "input": "5 7 2 3 72 3 53 2 12 1 41 3 32 4 34 5 25 3 33145",
      "expected_output": "4",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "7 3 7 2 3 10 9 3 5 5 7 1 10 6 8 3 9 1 8",
      "expected_output": "0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "8 8 7 7 9 8 4 5 2 3 2 3 10 3 6 4 9 8 8",
      "expected_output": "0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "4 7 8 7 3 10 3 3 7 4 3 2 9 5 5 2 5 7 7",
      "expected_output": "0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "44 63 93 73 33 78 99 13 41 30 28 94 1 54 70 77 100 95 23",
      "expected_output": "0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "83 69 16 73 10 16 7 32 55 73 38 20 39 71 75 81 97 18 98",
      "expected_output": "0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "56 38 86 8 35 15 7 14 16 44 79 20 18 32 68 86 69 76 38",
      "expected_output": "0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "19 18 4 97 6 8 66 15 71 42 89 57 72 28 25 83 53 48 91",
      "expected_output": "0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "100 64 36 52 46 88 11 11 22 15 96 28 69 2 57 82 51 24 47",
      "expected_output": "0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "174 50 405 486 293 82 294 248 329 379 390 205 228 284 158 136 213 246 71",
      "expected_output": "0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "58 307 230 286 55 359 391 274 93 367 364 461 255 403 295 286 256 63 292",
      "expected_output": "0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "444 387 475 297 389 122 460 500 266 475 65 484 206 256 150 155 219 406 376",
      "expected_output": "0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "203 149 165 72 99 144 269 202 96 356 193 357 461 404 362 467 273 77 430",
      "expected_output": "0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "432 184 418 108 230 444 494 393 488 89 474 185 403 259 101 477 375 74 251",
      "expected_output": "0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "384 263 430 168 294 195 87 281 207 235 316 246 232 223 393 90 455 425 398",
      "expected_output": "0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "106 221 248 210 166 346 118 328 399 348 96 288 307 334 370 404 352 484 225",
      "expected_output": "0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000",
      "expected_output": "0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000",
      "expected_output": "0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1 1000 1 999 1 2 2 2 1 999 2 1 1000 2 2 1 2 999 999",
      "expected_output": "0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 1000 999 1 999 999 1000 1000 999 2 999 999 1 1 1 2 2 1 999",
      "expected_output": "0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:52",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:23"
}