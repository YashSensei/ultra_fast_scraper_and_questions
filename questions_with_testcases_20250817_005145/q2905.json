{
  "problem_code": "problems",
  "title": "Laser Beam 2.0",
  "tags": [],
  "text": "Laser is a beam of light that can bounce if it hit a mirror, Satria who love beauty of nature make an experiment with grid of mirror and some laser, this is the second time Satria playing with laser, so he named his experiment \"Laser Beam 2.0\". The experiment is so great, many people like with Satria's experiment because that bouncing laser can make a beautiful pattern.Gunawan who curious about beautiful pattern secretly experimenting with Satria's laser and mirror when Satria not home, but something terrible happen, he accidentally crossed two different charged laser, so it break all the mirror and destroying Satria's experiment.Fortunately, the blueprint of Satria's laser input/output is intact, but the blueprint of how the mirror is placed is burned so it's unreadable. Satria is sad, he should build the experiment from the beginning.Tjandra who hear the tragedy come to Satria's house and know the condition. He suggest that no need for Satria to experiment from the beginning because the blueprint of Satria's laser input is intact.Satria said: \"Is it possible to recover my experiment? The mirror blueprint is gone, even if we have the laser input/output, we don't know how to direct the input laser to output laser\"Tjandra replied: \"Maybe that's not true, it depend on how your blueprint is designed can I know more about your experiment and your blueprint?\"Satria replied: \"My experiment consisting of 2D grid of mirror and an array of lasers on each side (there are 4 sides) and each laser is shoot to inside of the grid, there are two kind of mirror, diagonal up '/' and diagonal down '\\', based on my observation, diagonal up '/' mirror will bounce the laser with this rule: {from left to up; from up to left; from right to down; and from down to right}, and diagonal down '\\' mirror will bounce the laser with this rule: {from left to down; from down to left; from right to up; and from up to right}. The blueprint tells about how laser are connected, after bouncing so many times, eventually the laser will go outside the grid and hit another laser, in that phenomena I call that two laser is 'connected'. In the blueprint each number appear exactly 2 times that's mean the laser with the same number are 'connected' each other.That's my experiment and how the input/output blueprint work. So, is it possible using input/output blueprint to re-create missing mirror blueprint?\"Tjandra replied: \"Yes, it's possible, but the result will probably be not the same as the old one because the mirror blueprint that satisfy your input/output blueprint is not unique\"Satria replied: \"That's okay, if it satisfy the input/output blueprint, It'll always be as beautiful as original one\"Tjandra replied: \"I'm glad to hear that. Okay, I know someone who is genius in programming, I'll call him to help you recover your experiment\"Now Tjandra call you using his old phone for help, because he believe that you're so promising to recover Satria's experiment. Can you help them?InputThe the first line there are two integers X and Y denoting number of rows and number of columns respectively of Satria's mirror grid.On the second line there are Y integers denoting array of laser on top of that grid that is initially shoot in down direction.Each of next X lines there are two integers Aiand Bi:Aimeans i-th laser (counting from top to bottom) on left of that grid that is initially shoot in right direction.Bimeans i-th laser (counting from top to bottom) on right of that grid that is initially shoot in left direction.The last line there are Y integers denoting array of laser on bottom of that grid that is initially shoot in up direction.OutputIf it's impossible to re-create Satria's mirror blueprint, print \"-1\" without the quotes.Otherwise print X rows and Y columns of mirror blueprint, character '\\' ASCII(92) denoting diagonal down mirror, and character '/' denoting diagonal up mirror.Constraint1 ≤ X ≤ 1001 ≤ Y ≤ 1001 ≤ Each numbers that appears in the input (except X and Y) ≤ X+YEach numbers in the input (except X and Y) will appear exactly twice.ExamplesInput:1 1\r\n1\r\n1 2\r\n2Output:/Input:1 1\r\n1\r\n2 1\r\n2Output:\\Input:3 1\r\n1\r\n1 3\r\n2 2\r\n3 4\r\n4Output:-1Input:3 1\r\n1\r\n1 2\r\n3 2\r\n3 4\r\n4Output:/\r\n\\\r\n/Input:4 7\r\n7 7 8 9 10 10 2\r\n1 2\r\n1 3\r\n4 3\r\n5 6\r\n5 4 8 9 11 11 6Output:\\/\\\\\\/\\\r\n////\\//\r\n/\\\\\\\\\\\\\r\n/////\\/Sample 5 ExplanationIf all pair of identical number on input is connected, then it'll satisfy Satria's input/output blueprint. Here is an image that show the correctness of sample 5 output.",
  "sample_input": "Input:1 1\r\n1\r\n1 2\r\n2Output:/",
  "sample_output": "Input:1 1\r\n1\r\n2 1\r\n2Output:\\",
  "link": "https://www.spoj.com/problems/JC15E",
  "scraped_at": "2025-08-17 00:34:13",
  "test_cases": [
    {
      "input": "1 1\r\n1\r\n1 2\r\n2",
      "expected_output": "/",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "1 1\r\n1\r\n2 1\r\n2",
      "expected_output": "\\",
      "type": "sample_2",
      "description": "Original sample 2 from problem statement"
    },
    {
      "input": "2 6\n9\n8 10\n6",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "2 4\n10\n2 8\n10",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "7 8\n4\n4 2\n5",
      "expected_output": "To be computed",
      "type": "small_case_5",
      "description": "Generated small test case"
    },
    {
      "input": "46 93\n9\n95 6\n61",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "85 42\n14\n98 72\n91",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "2 94\n67\n43 48\n42",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "71 49\n48\n77 77\n97",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "26 34\n45\n54 26\n93",
      "expected_output": "To be computed",
      "type": "medium_case_10",
      "description": "Generated medium test case"
    },
    {
      "input": "307 320\n406\n453 285\n102",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "345 269\n309\n376 90\n160",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "186 470\n219\n328 151\n393",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "178 306\n372\n431 228\n248",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "377 430\n322\n462 499\n269",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "426 373\n300\n144 407\n61",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "334 317\n431\n299 384\n425",
      "expected_output": "To be computed",
      "type": "large_case_17",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\n1000\n1000 1000\n1000",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\n1000\n1000 1000\n1000",
      "expected_output": "To be computed",
      "type": "max_case_19",
      "description": "Generated max test case"
    },
    {
      "input": "1 1000\n999\n1 1\n1",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:54",
  "total_test_cases": 20
}