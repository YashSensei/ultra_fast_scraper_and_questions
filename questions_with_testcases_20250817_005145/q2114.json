{
  "problem_code": "problems",
  "title": "Alphabet Soup",
  "tags": [],
  "text": "Peter is having lunch at home. Unfortunately for him, today’s meal is soup. As Peter’s mother is aware that he doesn’t like it very much, she has cooked a special soup using pasta pieces shaped like letters from the alphabet, numbers and other characters. She has a special knife with which she can prepare an unlimited supply of pasta pieces that may come inSdifferent forms. The soup always hasPpasta pieces in it, and is so thick that the pieces never move.Despite her efforts, Peter is still not happy with today’s menu and asks how many days in his life he will have to eat soup. His mother promises him that she will prepare a different soup  every day, and that on no day will the dish contain the same shapes in all positions as any soup dish previously served. However, the numberPof pasta pieces, as well as the positions in which pieces float, will remain the same every day. Peter is not easily fooled (or so he thinks), and he cleverly realizes that this can still make him eat soup for ages. In an attempt to reduce the number of configurations, he tells his mother he will not accept any dish which can be obtained by rotating one of the configurations previously seen.Figure 1: Top view of Peter’s dishConsider the dish as a circle of radius 2 centered at the origin. All the symbols will be floating in the soup at a given angle (in millidegrees) at distance 1 from the origin. Two plates are considered equal if you can perform a rotation of one of the dishes about its center so that the positions of the symbols, as well as the symbols themselves, are the same in both.Your program will be given the number of possible symbols Peter’s mother has available, and the angles determining the location of each of the pasta pieces (measured clockwise in millidegrees). Write a program that returns the number of possible plates Peter’s mother can prepare. As this number can be very large,output the number modulo 100,000,007, which is prime.InputThe first line of input in each test case contains two numbers:S(2 ≤S≤ 1,000), the number of symbols Peter’s mother can use; andP(P> 0), the number of pasta pieces floating in the soup. Each of the nextPlines contains the angleA(0 ≤A< 360,000) of one of thePpieces (measured clockwise in millidegrees). All angles will be different.Different tests cases are separated by a blank line. After the last test case there is a line withS=P= −1.OutputFor each test case output a single integer in a line by itself, the number of different plates Peter’s mother can cook modulo 100,000,007.ExampleInput:2 4\r\n0\r\n90000\r\n180000\r\n270000\r\n\r\n100 5\r\n0\r\n45000\r\n90000\r\n180000\r\n270000\r\n\r\n-1 -1Output:6\r\n99999307Problem setter: Javier Gómez Serrano",
  "sample_input": "Input:2 4\r\n0\r\n90000\r\n180000\r\n270000\r\n\r\n100 5\r\n0\r\n45000\r\n90000\r\n180000\r\n270000\r\n\r\n-1 -1Output:6\r\n99999307",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/ALPHSOUP",
  "scraped_at": "2025-08-17 00:33:50",
  "test_cases": [
    {
      "input": "2 4\r\n0\r\n90000\r\n180000\r\n270000\r\n\r\n100 5\r\n0\r\n45000\r\n90000\r\n180000\r\n270000\r\n\r\n-1 -1",
      "expected_output": "6\r\n99999307",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "2 9\n6\n6\n8\n2\n2 2\n2\n5\n7\n8\n4\n3 5",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "5 8\n7\n7\n10\n4\n7 4\n10\n2\n3\n7\n3\n6 6",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "1 6\n4\n7\n5\n5\n6 2\n2\n2\n9\n9\n5\n6 7",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "31 86\n22\n7\n41\n35\n98 90\n31\n18\n69\n16\n66\n75 81",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "65 100\n57\n43\n4\n38\n54 4\n39\n31\n22\n49\n75\n96 16",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "42 42\n38\n84\n4\n21\n28 43\n99\n52\n23\n41\n61\n29 6",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "56 59\n99\n47\n100\n63\n97 5\n45\n96\n45\n80\n66\n30 21",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "78 30\n100\n67\n98\n13\n41 55\n45\n44\n62\n70\n18\n37 95",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "355 130\n404\n354\n487\n429\n485 350\n461\n177\n70\n190\n184\n62 173",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "482 132\n377\n382\n228\n288\n149 112\n486\n292\n55\n146\n224\n341 490",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "286 285\n217\n455\n219\n435\n90 201\n229\n325\n318\n210\n128\n480 406",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "229 354\n324\n463\n84\n206\n354 123\n483\n293\n196\n448\n131\n63 426",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "88 271\n447\n353\n356\n460\n186 474\n354\n203\n165\n102\n263\n454 316",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "176 72\n376\n91\n184\n268\n107 449\n103\n437\n468\n316\n415\n465 206",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "469 77\n306\n435\n382\n123\n207 243\n153\n175\n379\n427\n180\n208 295",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000\n1000\n1000\n1000\n1000\n1000 1000\n1000\n1000\n1000\n1000\n1000\n1000 1000",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000\n1000\n1000\n1000\n1000\n1000 1000\n1000\n1000\n1000\n1000\n1000\n1000 1000",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "2 2\n2\n999\n1\n999\n2 1000\n2\n999\n1000\n1\n1000\n1 999",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1000 999\n2\n1\n1\n1\n1000 2\n999\n999\n1\n999\n999\n1 1000",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:52",
  "total_test_cases": 20
}