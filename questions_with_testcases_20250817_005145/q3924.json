{
  "problem_code": "problems",
  "title": "Intersection Query",
  "tags": [],
  "text": "Considering a set of segments. At the beginning, the set is totally empty.There areNoperations: insert or erase avertical(orhorizontal) segment and then you have to compute how many intersections are there.There is no two same type of segments that share a common point in the set.InputThe first line containsN(1≤N≤105) - the number of operations.The followingNlines describe the operations:1 X1Y1X2Y2: insert a segment whose two endpoints are(X1, Y1)and(X2, Y2)to the set. (|X1|, |Y1|, |X2|, |Y2| ≤109)2 K: erase theK-tholdest segment from the set. (1≤K≤ current size of the set)OutputFor each query, print the number of intersections of the line segments in the set after processing the operation in one line.ExampleInput:10\r\n1 -1 0 -2 0\r\n1 2 -2 0 -2\r\n1 1 1 1 -3\r\n2 1\r\n1 6 -2 5 -2\r\n2 3\r\n1 2 -2 2 -6\r\n1 -4 -3 -5 -3\r\n1 3 -4 -1 -4\r\n2 2Output:0\r\n0\r\n1\r\n1\r\n1\r\n1\r\n2\r\n2\r\n3\r\n2UPD(1/30/2015): Increase time limit from 2s to 5s. My C++ solution (unoptimized) runs in about 7 seconds.",
  "sample_input": "Input:10\r\n1 -1 0 -2 0\r\n1 2 -2 0 -2\r\n1 1 1 1 -3\r\n2 1\r\n1 6 -2 5 -2\r\n2 3\r\n1 2 -2 2 -6\r\n1 -4 -3 -5 -3\r\n1 3 -4 -1 -4\r\n2 2Output:0\r\n0\r\n1\r\n1\r\n1\r\n1\r\n2\r\n2\r\n3\r\n2",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/ZQUERY2",
  "scraped_at": "2025-08-17 00:34:30",
  "test_cases": [
    {
      "input": "10\r\n1 -1 0 -2 0\r\n1 2 -2 0 -2\r\n1 1 1 1 -3\r\n2 1\r\n1 6 -2 5 -2\r\n2 3\r\n1 2 -2 2 -6\r\n1 -4 -3 -5 -3\r\n1 3 -4 -1 -4\r\n2 2",
      "expected_output": "0\r\n0\r\n1\r\n1\r\n1\r\n1\r\n2\r\n2\r\n3\r\n2",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "1\n6",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "1\n5",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "4\n4\n7\n10\n4",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "16\n4455379\n7193709\n72964691\n47770429\n62443854\n16063019\n67326824\n62501913\n61382782\n79699489\n87685656\n84584596\n12587173\n69294052\n82004832\n15831933",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "13\n47305466\n26793315\n53625847\n64879072\n46618733\n26875204\n40897805\n69309005\n25028103\n7039584\n63334111\n63418837\n89698621",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "16\n56065278\n61292876\n96758222\n6715150\n70184462\n41528286\n43306367\n76772316\n36335245\n55109553\n49028568\n78384782\n59315554\n2404753\n19771147\n24581698",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "13\n54500725\n20493363\n82362244\n54419608\n13234940\n56957172\n18101567\n551310\n74961915\n12213310\n57555310\n76447579\n18305694",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "5\n31698004\n35644888\n86180291\n41081777\n62459965",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "52\n70457\n34202\n67471\n22775\n65153\n86585\n28899\n26499\n72899\n35526\n40102\n2570\n60991\n33793\n99796\n15660\n88889\n23929\n93008\n21022\n54517\n63223\n92921\n6544\n7774\n31067\n91198\n32391\n92797\n52612\n66714\n57231\n38129\n819\n97626\n26282\n47279\n58837\n62245\n84418\n92437\n53818\n60786\n64343\n47321\n50277\n15341\n15239\n95904\n79271\n9279\n30023",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "64\n57813\n46182\n2580\n26781\n59118\n18536\n58505\n92874\n99308\n60541\n5399\n8029\n7700\n34962\n28370\n31346\n34809\n56726\n64268\n93627\n75014\n17575\n35276\n68756\n38047\n65410\n62303\n82712\n69543\n38458\n56370\n82575\n37866\n726\n35004\n44873\n59145\n66960\n7408\n57153\n89817\n42082\n10240\n11524\n63429\n15086\n24067\n48769\n76194\n32664\n51544\n36103\n68668\n83703\n32342\n64554\n81130\n35102\n19413\n21720\n76152\n69845\n28631\n12086",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "86\n51877\n24012\n24266\n44964\n15042\n14649\n64153\n83783\n85647\n78890\n74619\n34689\n89243\n23353\n16436\n27091\n63848\n65525\n16502\n48441\n95665\n51214\n2143\n44686\n59396\n71306\n95836\n92645\n26741\n56080\n90836\n46462\n5375\n257\n82098\n3820\n48788\n38361\n80929\n64707\n73995\n31190\n33501\n39367\n64770\n42128\n34336\n16458\n37715\n24311\n31598\n69307\n7084\n88088\n83822\n75615\n74702\n47320\n8662\n12253\n19180\n3966\n60702\n40844\n83803\n48796\n63563\n55855\n25399\n79817\n6486\n46775\n33909\n47638\n97603\n80012\n36319\n41620\n18835\n54466\n75327\n48562\n29595\n29373\n50567\n41541",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "71\n95629\n85889\n24536\n32329\n96962\n31471\n95493\n66595\n50551\n14225\n20936\n67624\n23352\n70221\n78015\n73288\n85294\n4455\n3548\n1605\n23648\n35802\n75349\n38623\n89403\n27448\n54487\n17297\n54193\n7801\n90213\n35667\n93440\n67978\n9389\n53578\n30920\n32071\n43278\n16467\n26229\n30449\n24484\n24586\n44967\n15482\n40714\n89043\n30801\n64863\n22835\n40008\n25451\n40692\n28323\n58012\n21621\n97809\n99195\n86768\n70909\n50151\n13251\n47780\n86545\n11566\n47501\n25308\n27252\n11627\n43807",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "53\n74935\n73343\n26604\n77937\n65834\n53404\n41644\n72110\n80892\n41418\n57851\n91057\n43249\n39146\n36857\n97233\n57277\n17978\n96230\n84233\n4410\n21669\n95577\n22583\n6672\n3017\n50835\n38153\n98352\n275\n88614\n67046\n98283\n33503\n77104\n84800\n24569\n22766\n47295\n22750\n58612\n80552\n30016\n31843\n14934\n80791\n80094\n61638\n51572\n45555\n89734\n25344\n3082",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "26\n29299\n98230\n15308\n45638\n66448\n41463\n71030\n41472\n54007\n75379\n752\n14685\n24976\n54316\n53343\n22540\n61284\n34314\n10702\n25506\n38656\n74375\n79070\n23543\n7657\n28660",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "50\n54971\n16521\n5171\n46134\n230\n92187\n30095\n86694\n91461\n14887\n23130\n17072\n46545\n99882\n44641\n36319\n51512\n77274\n4041\n11996\n63389\n34015\n14593\n47027\n49548\n4232\n28963\n12189\n73854\n99026\n20839\n45126\n82044\n82320\n75564\n60050\n60557\n67886\n42124\n65618\n81272\n93797\n70240\n18582\n50939\n93176\n11193\n53713\n46805\n76008",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "105\n56297338\n93744016\n68551793\n83118555\n75518666\n66525244\n62537601\n64409719\n52325743\n12615970\n43350831\n82765455\n33253924\n54950848\n58080689\n63119900\n84277200\n64560632\n85749976\n29465994\n51328835\n19791969\n21344690\n41938452\n91370776\n6196062\n44135894\n6840117\n86337600\n48216153\n39998469\n46301118\n66388772\n7571225\n28267405\n96583480\n99227859\n18589703\n11624310\n59922767\n79514919\n18727934\n12842621\n58341707\n46600394\n86114586\n91382387\n75395256\n35561949\n77743659\n29039991\n79567507\n10391093\n46711574\n75865557\n93047169\n48752389\n72352638\n61772623\n25190840\n85956086\n96553470\n46841859\n5432640\n46581152\n55539242\n30382487\n37153764\n94464063\n94856354\n54164724\n85006377\n12671435\n68145978\n19514467\n65783198\n95673112\n28959308\n87623884\n81230462\n7911568\n85094902\n50177498\n71322755\n39614587\n91927844\n49697258\n98155953\n25480\n34530946\n93843368\n24728958\n16217155\n81016470\n77815421\n11193923\n94596612\n87745236\n65992598\n87163611\n45772409\n63200898\n98592451\n60373890\n92455720",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "105\n68744874\n15589371\n82544254\n77077681\n71568903\n59805646\n86019935\n71168239\n34216888\n67113624\n94784465\n19266879\n75216541\n31150633\n1530479\n21275413\n61271998\n38499621\n98156122\n80828834\n64778406\n56068693\n18525971\n64859828\n63019888\n87176510\n26599673\n67649390\n54656262\n18902075\n96314457\n94383319\n10102995\n6326523\n32417434\n74133972\n79129286\n96380169\n42015674\n41070194\n79731687\n21451153\n3147812\n62879077\n57488376\n81788583\n39058603\n25336936\n55147899\n10323802\n43763201\n39113057\n37699474\n43959973\n83700196\n82011667\n772387\n51182137\n63102130\n47370448\n40649012\n86885590\n51491139\n45355269\n61915602\n43804460\n54997313\n9539620\n57063179\n51250032\n63611137\n9937894\n5030966\n82903466\n70671723\n40878403\n63460720\n14083240\n53536447\n37879065\n93080785\n54160400\n87562174\n19271198\n81685811\n15788853\n29200879\n9150965\n51646562\n25842856\n64942476\n53508099\n94978335\n26645577\n47778650\n23994705\n51171262\n22688753\n38305582\n31029234\n18188989\n12497025\n26471969\n37457880\n19800634",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "1\n100000000",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Edge case array (N = 1)"
    },
    {
      "input": "1\n100000000",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Edge case array (N = 1)"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:58",
  "total_test_cases": 20
}