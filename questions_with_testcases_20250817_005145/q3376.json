{
  "problem_code": "problems",
  "title": "All Discs Considered",
  "tags": [],
  "text": "Operating systems are large software artefacts composed of many packages, usually distributed on several media, e.g., discs.\r\nYou probably remember the time when your favourite operating system was delivered on 21 floppy discs, or, a few years later, on 6 CDs.\r\nNowadays, it will be shipped on several DVDs, each containing tens of thousands of packages.The installation of certain packages may require that other packages have been installed previously.\r\nTherefore, if the packages are distributed on the media in an unsuitable way, the installation of the complete system requires you to perform many media changes, provided that there is only one reading device available, e.g., one DVD-ROM drive.\r\nSince you have to start the installation somehow, there will of course be one or more packages that can be installed independently of all other packages.Given a distribution of packages on media and a list of dependences between packages, you have to calculate the minimal number of media changes required to install all packages.\r\nFor your convenience, you may assume that the operating system comes on exactly 2 DVDs.InputThe input contains several test cases.\r\nEvery test case starts with three integersN1, N2, D.\r\nYou may assume that1<=N1,N2<=50000and0<=D<=100000.\r\nThe first DVD containsN1packages, identified by the numbers1, 2, ..., N1.\r\nThe second DVD containsN2packages, identified by the numbersN1+1, N1+2, ..., N1+N2.\r\nThen followDdependence specifications, each consisting of two integersxi, yi.\r\nYou may assume that1<=xi,yi<=N1+N2for1<=i<=D.\r\nThe dependence specification means that the installation of packagexirequires the previous installation of packageyi.\r\nYou may assume that there are no circular dependences.\r\nThe last test case is followed by three zeros.OutputFor each test case output on a line the minimal number of DVD changes required to install all packages.\r\nBy convention, the DVD drive is empty before the installation and the initial insertion of a disc counts asonechange.\r\nLikewise, the final removal of a disc counts asonechange, leaving the DVD drive empty after the installation.ExampleInput:3 2 1\r\n1 2\r\n2 2 2\r\n1 3\r\n4 2\r\n2 1 1\r\n1 3\r\n0 0 0Output:3\r\n4\r\n3",
  "sample_input": "Input:3 2 1\r\n1 2\r\n2 2 2\r\n1 3\r\n4 2\r\n2 1 1\r\n1 3\r\n0 0 0Output:3\r\n4\r\n3",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/ALL",
  "scraped_at": "2025-08-17 00:34:22",
  "test_cases": [
    {
      "input": "3 2 1\r\n1 2\r\n2 2 2\r\n1 3\r\n4 2\r\n2 1 1\r\n1 3\r\n0 0 0",
      "expected_output": "3\r\n4\r\n3",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "6 2 3\n5 9\n5 3 5\n6 6\n7 7\n9 6 10\n9 10\n7 6 7",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "2 8 5\n5 1\n10 2 4\n3 1\n6 7\n1 10 6\n8 6\n3 8 2",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "4 7 8\n2 10\n4 8 9\n4 10\n5 5\n2 4 5\n5 9\n7 5 6",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "11 64 80\n21 23\n34 46 37\n53 94\n75 54\n60 16 27\n24 95\n97 47 58",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "99 3 32\n75 41\n6 41 82\n45 31\n27 8\n36 58 55\n29 45\n14 67 84",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "45 95 80\n11 11\n4 16 74\n21 81\n69 9\n53 99 8\n85 77\n23 65 19",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "56 38 12\n95 93\n89 24 82\n51 73\n52 54\n47 39 49\n64 41\n14 8 66",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "27 49 48\n63 89\n99 74 38\n57 43\n51 74\n1 89 38\n45 20\n53 12 83",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "210 299 414\n417 177\n321 470 370\n344 87\n413 298\n405 169 416\n196 420\n126 116 71",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "153 136 64\n287 497\n309 492 416\n219 137\n466 71\n250 491 201\n215 258\n330 103 264",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "195 370 125\n59 165\n444 175 341\n402 208\n363 399\n434 487 153\n310 358\n360 168 177",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "414 500 333\n325 314\n453 257 114\n386 398\n241 50\n291 340 451\n76 92\n377 198 297",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "233 281 73\n79 155\n324 500 420\n403 183\n132 77\n130 197 64\n458 493\n74 276 329",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "181 484 240\n435 117\n403 362 155\n446 359\n327 155\n404 449 359\n459 325\n449 332 487",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "305 354 67\n258 160\n284 80 483\n322 152\n174 392\n348 54 52\n334 167\n319 173 456",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000\n1000 1000\n1000 1000 1000\n1000 1000\n1000 1000\n1000 1000 1000\n1000 1000\n1000 1000 1000",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000\n1000 1000\n1000 1000 1000\n1000 1000\n1000 1000\n1000 1000 1000\n1000 1000\n1000 1000 1000",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "2 2 2\n999 1000\n2 1 1\n999 1\n1 1000\n1000 2 999\n1000 2\n1 2 1000",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "2 1 1000\n1000 999\n1 2 999\n1 1000\n2 1000\n1000 2 1000\n999 999\n1000 1 999",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:56",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:38:05"
}