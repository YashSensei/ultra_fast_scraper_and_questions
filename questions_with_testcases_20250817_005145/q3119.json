{
  "problem_code": "problems",
  "title": "Help the problem setter",
  "tags": [],
  "text": "Preparing a problem for a programming contest takes a lot of time.\r\nNot only do you have to write the problem description and write a\r\nsolution, but you also have to create difficult input files.\r\nIn this problem, you get the chance to help the problem setter\r\nto create some input for a certain problem.For this purpose, let us select the problem which was not solved\r\nduring last year's local contest. The problem was about\r\nfinding the optimal binary search tree, given the probabilities that\r\ncertain nodes are accessed. Your job will be: given the desired optimal\r\nbinary search tree, find some access probabilities for which this binary\r\nsearch tree is the unique optimal binary search tree. Don't worry if\r\nyou have not read last year's problem, all required definitions are provided\r\nin the following.Let us define abinary search treeinductively as follows:The empty tree which has no node at all is a binary search treeEach non-empty binary search tree has a root, which is a node\r\nlabelled with an integer, and two binary search trees as left and right\r\nsubtree of the rootA left subtree contains no node with a label ≥ than the label of\r\nthe rootA right subtree contains no node with a label ≤ than the label of\r\nthe rootGiven such a binary search tree, the followingsearch procedurecan be used to locate a node in the tree:Start with the root node. Compare the label of the current node with\r\nthe desired label. If it is the same, you have found the right node.\r\nOtherwise, if the desired label is smaller, search in the left subtree,\r\notherwise search in the right subtree.Theaccess costto locate a node is the number of nodes you\r\nhave to visit until you find the right node.\r\nAnoptimal binary search treeis a binary search tree\r\nwith the minimum expected access cost.InputThe input file contains several test cases.Each test case starts with an integern(1 ≤ n ≤\r\n50), the number of nodes in the optimal binary search tree.\r\nFor simplicity, the labels of the nodes will be integers from1ton. The followingnlines describe the structure of\r\nthe tree. Thei-th line contains the labels of the roots\r\nof the left and right subtree of the node with labeli(or -1 for an empty subtree). You can assume that the\r\ninput always defines a valid binary search tree.The last test case is followed by a zero.OutputFor each test case, write one line containing the access frequency\r\nfor each node in increasing order of the labels of the nodes.\r\nTo avoid problems with floating point precision, the frequencies should\r\nbe written as integers, meaning the access probability for a node will be the\r\nfrequency divided by the sum of all frequencies. Make sure that you\r\ndo not write any integer bigger than 263- 1 (the maximum value\r\nfitting in the C/C++ data typelong longor the Java data typelong).\r\nOtherwise, you may produce any solution ensuring that there is exactly\r\none optimal binary search tree: the binary search tree given in the\r\ninput.ExampleInput:3\r\n-1 -1\r\n1 3\r\n-1 -1\r\n10\r\n-1 2\r\n-1 3\r\n-1 4\r\n-1 5\r\n-1 6\r\n-1 7\r\n-1 8\r\n-1 9\r\n-1 10\r\n-1 -1\r\n0Output:1 1 1\r\n512 256 128 64 32 16 8 4 2 1Note that the first test case in the sample input describes a\r\ntree looking like:2\r\n / \\\r\n1   3",
  "sample_input": "Input:3\r\n-1 -1\r\n1 3\r\n-1 -1\r\n10\r\n-1 2\r\n-1 3\r\n-1 4\r\n-1 5\r\n-1 6\r\n-1 7\r\n-1 8\r\n-1 9\r\n-1 10\r\n-1 -1\r\n0Output:1 1 1\r\n512 256 128 64 32 16 8 4 2 1",
  "sample_output": "2\r\n / \\\r\n1   3",
  "link": "https://www.spoj.com/problems/HELP",
  "scraped_at": "2025-08-17 00:34:23",
  "test_cases": [
    {
      "input": "3\r\n-1 -1\r\n1 3\r\n-1 -1\r\n10\r\n-1 2\r\n-1 3\r\n-1 4\r\n-1 5\r\n-1 6\r\n-1 7\r\n-1 8\r\n-1 9\r\n-1 10\r\n-1 -1\r\n0",
      "expected_output": "1 1 1\r\n512 256 128 64 32 16 8 4 2 1",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "5\n4\n6\n8\n9\n6",
      "expected_output": "5\n4\n6\n8\n9\n6",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n8\n6\n5",
      "expected_output": "3\n8\n6\n5",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n4\n7\n6",
      "expected_output": "3\n4\n7\n6",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "11\n28744089\n46928173\n39466800\n77384450\n40705289\n6564300\n27009599\n54835957\n15437428\n83078943\n17112361",
      "expected_output": "11\n28744089\n46928173\n39466800\n77384450\n40705289\n6564300\n27009599\n54835957\n15437428\n83078943\n17112361",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "15\n32731499\n49667681\n93454704\n63039414\n57346269\n1849970\n6121273\n36434423\n2814680\n9607191\n31991259\n77878786\n38551571\n7547049\n39928224",
      "expected_output": "15\n32731499\n49667681\n93454704\n63039414\n57346269\n1849970\n6121273\n36434423\n2814680\n9607191\n31991259\n77878786\n38551571\n7547049\n39928224",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "19\n77677951\n65232603\n65220099\n54038014\n29969640\n59458822\n89953039\n23070036\n37873389\n1779207\n43485430\n41811226\n90447175\n27322858\n22292610\n34236569\n91210304\n30733118\n11926890",
      "expected_output": "19\n77677951\n65232603\n65220099\n54038014\n29969640\n59458822\n89953039\n23070036\n37873389\n1779207\n43485430\n41811226\n90447175\n27322858\n22292610\n34236569\n91210304\n30733118\n11926890",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "12\n67953852\n82534996\n16241935\n17365190\n76619164\n8281747\n46096395\n8436434\n9143083\n16263839\n12745866\n18942351",
      "expected_output": "12\n67953852\n82534996\n16241935\n17365190\n76619164\n8281747\n46096395\n8436434\n9143083\n16263839\n12745866\n18942351",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "6\n28789627\n92398051\n55420166\n89104625\n4505109\n68264831",
      "expected_output": "6\n28789627\n92398051\n55420166\n89104625\n4505109\n68264831",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "41\n65635\n11708\n82465\n24164\n64104\n21725\n92662\n66460\n25148\n15838\n14593\n18593\n52976\n72662\n58469\n36692\n51787\n92898\n49441\n79723\n46944\n30145\n60481\n17723\n74034\n37412\n88959\n97173\n72490\n72300\n34366\n52234\n58298\n75221\n84249\n88746\n3262\n57500\n78351\n3637\n78048",
      "expected_output": "41\n65635\n11708\n82465\n24164\n64104\n21725\n92662\n66460\n25148\n15838\n14593\n18593\n52976\n72662\n58469\n36692\n51787\n92898\n49441\n79723\n46944\n30145\n60481\n17723\n74034\n37412\n88959\n97173\n72490\n72300\n34366\n52234\n58298\n75221\n84249\n88746\n3262\n57500\n78351\n3637\n78048",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "40\n73194\n67537\n30265\n13281\n74877\n5505\n3470\n55035\n902\n77516\n60814\n1513\n26683\n15899\n14669\n98035\n30535\n35110\n10052\n54453\n28569\n62483\n45143\n78507\n73877\n91727\n77102\n88742\n96859\n41038\n67373\n31914\n59684\n36534\n67682\n19762\n10260\n49944\n77377\n10625",
      "expected_output": "40\n73194\n67537\n30265\n13281\n74877\n5505\n3470\n55035\n902\n77516\n60814\n1513\n26683\n15899\n14669\n98035\n30535\n35110\n10052\n54453\n28569\n62483\n45143\n78507\n73877\n91727\n77102\n88742\n96859\n41038\n67373\n31914\n59684\n36534\n67682\n19762\n10260\n49944\n77377\n10625",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "26\n13142\n21779\n12362\n81944\n98323\n39409\n38140\n47351\n77966\n3183\n86031\n2881\n85572\n95728\n15827\n10148\n944\n54998\n23617\n80014\n56492\n20246\n93864\n96723\n27091\n1748",
      "expected_output": "26\n13142\n21779\n12362\n81944\n98323\n39409\n38140\n47351\n77966\n3183\n86031\n2881\n85572\n95728\n15827\n10148\n944\n54998\n23617\n80014\n56492\n20246\n93864\n96723\n27091\n1748",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "24\n25210\n58236\n30379\n39717\n79592\n80668\n95124\n44641\n29498\n99690\n34770\n53970\n72945\n98919\n13309\n19931\n24545\n72957\n53938\n8492\n29816\n40785\n8623\n40196",
      "expected_output": "24\n25210\n58236\n30379\n39717\n79592\n80668\n95124\n44641\n29498\n99690\n34770\n53970\n72945\n98919\n13309\n19931\n24545\n72957\n53938\n8492\n29816\n40785\n8623\n40196",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "39\n99652\n1274\n66079\n14353\n10262\n94883\n15726\n6247\n5748\n84474\n47825\n76822\n98030\n43173\n15799\n19132\n17423\n44251\n87858\n36789\n33862\n81920\n69364\n54875\n86749\n8193\n8394\n64117\n20524\n92020\n3377\n84981\n48992\n27170\n78790\n10089\n863\n864\n93780",
      "expected_output": "39\n99652\n1274\n66079\n14353\n10262\n94883\n15726\n6247\n5748\n84474\n47825\n76822\n98030\n43173\n15799\n19132\n17423\n44251\n87858\n36789\n33862\n81920\n69364\n54875\n86749\n8193\n8394\n64117\n20524\n92020\n3377\n84981\n48992\n27170\n78790\n10089\n863\n864\n93780",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "33\n46778\n42043\n96364\n71478\n75595\n38255\n38461\n8465\n55301\n83875\n46241\n14686\n72381\n19749\n50889\n49580\n4974\n44355\n95177\n98691\n93164\n28578\n75144\n28891\n19443\n72951\n56367\n6045\n35119\n78204\n93169\n31616\n91907",
      "expected_output": "33\n46778\n42043\n96364\n71478\n75595\n38255\n38461\n8465\n55301\n83875\n46241\n14686\n72381\n19749\n50889\n49580\n4974\n44355\n95177\n98691\n93164\n28578\n75144\n28891\n19443\n72951\n56367\n6045\n35119\n78204\n93169\n31616\n91907",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n12579\n72609\n76702\n29347\n84641\n82680\n71297\n28196\n91878\n38867\n96901\n80290\n339\n93286\n23733\n17641\n42146\n78625\n79327\n26918",
      "expected_output": "20\n12579\n72609\n76702\n29347\n84641\n82680\n71297\n28196\n91878\n38867\n96901\n80290\n339\n93286\n23733\n17641\n42146\n78625\n79327\n26918",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "50\n32349546\n1868781\n44394154\n54347546\n65866181\n6906518\n97068971\n82315917\n49175991\n36890747\n48430097\n96610444\n79599980\n32021606\n95563925\n88385529\n88637323\n84577635\n18292179\n94303790\n84566771\n43065331\n7709971\n45387649\n71437019\n84396590\n96411251\n53707278\n45959515\n45401852\n35022454\n42047319\n30001869\n1679099\n39831858\n55990632\n15354177\n33542897\n73161637\n17139102\n95909231\n79863285\n61235353\n63752043\n1510332\n23810118\n75985723\n61567789\n51305177\n77347550",
      "expected_output": "50\n32349546\n1868781\n44394154\n54347546\n65866181\n6906518\n97068971\n82315917\n49175991\n36890747\n48430097\n96610444\n79599980\n32021606\n95563925\n88385529\n88637323\n84577635\n18292179\n94303790\n84566771\n43065331\n7709971\n45387649\n71437019\n84396590\n96411251\n53707278\n45959515\n45401852\n35022454\n42047319\n30001869\n1679099\n39831858\n55990632\n15354177\n33542897\n73161637\n17139102\n95909231\n79863285\n61235353\n63752043\n1510332\n23810118\n75985723\n61567789\n51305177\n77347550",
      "type": "max_case_17",
      "description": "Maximum size array (N = 50)"
    },
    {
      "input": "50\n52856971\n78365240\n94090071\n95097017\n87578610\n74902205\n86471657\n21015037\n18015540\n21386909\n38622570\n69107601\n7484465\n30388291\n15128645\n61082719\n44344974\n6984417\n13175743\n37083324\n3814224\n75146371\n26908902\n96500448\n55474748\n73672784\n91735449\n66915991\n64958377\n37727111\n84985873\n4971534\n15938288\n87129520\n78979547\n57048287\n13002405\n52318950\n45605130\n88295551\n89877532\n10871706\n9526884\n60439144\n44166032\n7175651\n69851341\n42340701\n33104091\n26593682",
      "expected_output": "50\n52856971\n78365240\n94090071\n95097017\n87578610\n74902205\n86471657\n21015037\n18015540\n21386909\n38622570\n69107601\n7484465\n30388291\n15128645\n61082719\n44344974\n6984417\n13175743\n37083324\n3814224\n75146371\n26908902\n96500448\n55474748\n73672784\n91735449\n66915991\n64958377\n37727111\n84985873\n4971534\n15938288\n87129520\n78979547\n57048287\n13002405\n52318950\n45605130\n88295551\n89877532\n10871706\n9526884\n60439144\n44166032\n7175651\n69851341\n42340701\n33104091\n26593682",
      "type": "max_case_18",
      "description": "Maximum size array (N = 50)"
    },
    {
      "input": "2\n1\n18994659",
      "expected_output": "2\n1\n18994659",
      "type": "edge_case_19",
      "description": "Edge case array (N = 2)"
    },
    {
      "input": "2\n100000000\n100000000",
      "expected_output": "2\n100000000\n100000000",
      "type": "edge_case_20",
      "description": "Edge case array (N = 2)"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:55",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:57"
}