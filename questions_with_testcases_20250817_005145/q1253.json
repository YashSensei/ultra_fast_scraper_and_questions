{
  "problem_code": "problems",
  "title": "Pair and unpair weightest string",
  "tags": [],
  "text": "Once I went market to buy a teddy. The shopkeeper offered a puzzle and said he'll give me whatever i wish at a huge discount if i give him the working piece of code for following problem. You will be given a string S of length N, containing either 'A' or 'B'. Make all the possible lists from the given list, with the given operation that you are allowed to change one symbol into another. Then assign maximum weight to each of the string and get the string with maximum weight and return the weight.You have only following two ways to assign weight to symbol:Pair a S[i] symbol with adjacent one (S[i] or S[i-1]). Each symbol can only be paired with exactly one symbol. Weight of a pair is 4. Pair will be either 'AB' or 'BA'.Keep a S[i] Symbol independent. Weight of unpaired symbol is 1.Each symbol is either involved in exactly one either pair or unpaired status.For each string, keep in mind the number of symbols (K) with index i, 1 ≤ i ≤ N, which are changed from original symbol S[i].For each of the possible lists, Add all the weight assigned as a pair and unpair, then subtract K from it. assign this final value as string weight. Add each paired weight once exactly.The task is to maximize the weight of the string. Suppose S=\"ABB\", possible transforms can be {\"ABB\", \"ABA\", \"AAB\", \"AAA\", \"BBB\", \"BBA\", \"BAB\", \"BAA\"} with respective weight {5, 4, 4, 1, 2, 3, 3, 2}. Maximum weight is found 5 in string 1.Constraints1 ≤ N ≤ 105, 1 ≤ T ≤ 500.InputFirst line contains t, number of testcases. For each testcase, first line contains N, length of the string. Second line contains string itself.OutputFor each testcase, output the maximum weight of a string that can be obtained.ExampleInput:5\r\n3\r\nABB\r\n7\r\nABBBAAA\r\n8\r\nBAAAAAAA\r\n12\r\nAAAAAAAAAAAA\r\n11\r\nABABBBABABAOutput:5\r\n12\r\n13\r\n18\r\n21",
  "sample_input": "Input:5\r\n3\r\nABB\r\n7\r\nABBBAAA\r\n8\r\nBAAAAAAA\r\n12\r\nAAAAAAAAAAAA\r\n11\r\nABABBBABABAOutput:5\r\n12\r\n13\r\n18\r\n21",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/PAUWS",
  "scraped_at": "2025-08-17 00:33:27",
  "test_cases": [
    {
      "input": "5\r\n3\r\nABB\r\n7\r\nABBBAAA\r\n8\r\nBAAAAAAA\r\n12\r\nAAAAAAAAAAAA\r\n11\r\nABABBBABABA",
      "expected_output": "5\r\n12\r\n13\r\n18\r\n21",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "2\n1\n6",
      "expected_output": "2\n1\n6",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "1\n10",
      "expected_output": "1\n10",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n4\n1\n2",
      "expected_output": "3\n4\n1\n2",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "14\n4808481\n97436810\n46929167\n30756007\n78962727\n38638938\n2338937\n49179491\n57032665\n55315838\n53577721\n61836062\n79349644\n85053317",
      "expected_output": "14\n4808481\n97436810\n46929167\n30756007\n78962727\n38638938\n2338937\n49179491\n57032665\n55315838\n53577721\n61836062\n79349644\n85053317",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "17\n29660207\n69598774\n66905920\n43729924\n322547\n58068619\n45676038\n89258959\n34265087\n21621784\n94492992\n86703791\n37882369\n25728877\n14811428\n37732655\n45024140",
      "expected_output": "17\n29660207\n69598774\n66905920\n43729924\n322547\n58068619\n45676038\n89258959\n34265087\n21621784\n94492992\n86703791\n37882369\n25728877\n14811428\n37732655\n45024140",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "15\n46563395\n87881222\n75140466\n83834572\n6491921\n28582546\n29807548\n93907984\n20589873\n82015731\n37981271\n29550832\n95345818\n32103842\n32790571",
      "expected_output": "15\n46563395\n87881222\n75140466\n83834572\n6491921\n28582546\n29807548\n93907984\n20589873\n82015731\n37981271\n29550832\n95345818\n32103842\n32790571",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "6\n50995125\n90020548\n92337563\n85819368\n43105662\n81771180",
      "expected_output": "6\n50995125\n90020548\n92337563\n85819368\n43105662\n81771180",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "18\n87561242\n16002639\n88000591\n51912151\n53666911\n21846710\n8933805\n30559371\n67375712\n26056547\n44911558\n88637501\n78210241\n5781775\n16022573\n65881948\n44739640\n95710235",
      "expected_output": "18\n87561242\n16002639\n88000591\n51912151\n53666911\n21846710\n8933805\n30559371\n67375712\n26056547\n44911558\n88637501\n78210241\n5781775\n16022573\n65881948\n44739640\n95710235",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "42\n42857\n38672\n39582\n3003\n87522\n1968\n44308\n9075\n16687\n30394\n85413\n4564\n99013\n22019\n12065\n72876\n8935\n59387\n27582\n96911\n19944\n37860\n8624\n13267\n26255\n68016\n38812\n54180\n46385\n75093\n62015\n1156\n26941\n4545\n4294\n19870\n22439\n86973\n40982\n54797\n32414\n67175",
      "expected_output": "42\n42857\n38672\n39582\n3003\n87522\n1968\n44308\n9075\n16687\n30394\n85413\n4564\n99013\n22019\n12065\n72876\n8935\n59387\n27582\n96911\n19944\n37860\n8624\n13267\n26255\n68016\n38812\n54180\n46385\n75093\n62015\n1156\n26941\n4545\n4294\n19870\n22439\n86973\n40982\n54797\n32414\n67175",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "63\n62526\n69929\n18091\n61995\n46103\n57404\n46962\n52960\n33112\n79096\n68262\n93203\n20271\n40291\n71810\n44273\n89797\n58261\n59779\n24930\n31234\n95718\n42486\n62228\n82869\n94387\n80393\n42092\n37197\n733\n19921\n40371\n33099\n38561\n50857\n82585\n8739\n86029\n66816\n24628\n25647\n78025\n96069\n81441\n62834\n39047\n94636\n2160\n72328\n29700\n9328\n14815\n2217\n25580\n67454\n73660\n31164\n34134\n15551\n51286\n51345\n6435\n81379",
      "expected_output": "63\n62526\n69929\n18091\n61995\n46103\n57404\n46962\n52960\n33112\n79096\n68262\n93203\n20271\n40291\n71810\n44273\n89797\n58261\n59779\n24930\n31234\n95718\n42486\n62228\n82869\n94387\n80393\n42092\n37197\n733\n19921\n40371\n33099\n38561\n50857\n82585\n8739\n86029\n66816\n24628\n25647\n78025\n96069\n81441\n62834\n39047\n94636\n2160\n72328\n29700\n9328\n14815\n2217\n25580\n67454\n73660\n31164\n34134\n15551\n51286\n51345\n6435\n81379",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "47\n10918\n32449\n98975\n59259\n37019\n25163\n70915\n1843\n22607\n34116\n46790\n27807\n80354\n63990\n80663\n35942\n46701\n76489\n73794\n93357\n39905\n43964\n82958\n17001\n26605\n27239\n32\n45104\n80386\n34920\n97637\n64176\n7361\n22085\n68273\n81195\n71975\n22729\n36814\n82528\n16511\n70874\n64945\n41404\n73237\n62649\n24815",
      "expected_output": "47\n10918\n32449\n98975\n59259\n37019\n25163\n70915\n1843\n22607\n34116\n46790\n27807\n80354\n63990\n80663\n35942\n46701\n76489\n73794\n93357\n39905\n43964\n82958\n17001\n26605\n27239\n32\n45104\n80386\n34920\n97637\n64176\n7361\n22085\n68273\n81195\n71975\n22729\n36814\n82528\n16511\n70874\n64945\n41404\n73237\n62649\n24815",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "57\n65099\n85633\n97139\n66633\n43780\n94704\n27456\n44605\n18245\n81046\n52404\n34287\n23177\n90941\n17423\n70686\n37346\n29740\n27594\n60\n8372\n73663\n37717\n80030\n81970\n33136\n52157\n72135\n69655\n78147\n94134\n45897\n63150\n7017\n55872\n23261\n29703\n71710\n20527\n36543\n73419\n95153\n11204\n99181\n69165\n55615\n62892\n99501\n33363\n89364\n8774\n64209\n12421\n13848\n91720\n48567\n10785",
      "expected_output": "57\n65099\n85633\n97139\n66633\n43780\n94704\n27456\n44605\n18245\n81046\n52404\n34287\n23177\n90941\n17423\n70686\n37346\n29740\n27594\n60\n8372\n73663\n37717\n80030\n81970\n33136\n52157\n72135\n69655\n78147\n94134\n45897\n63150\n7017\n55872\n23261\n29703\n71710\n20527\n36543\n73419\n95153\n11204\n99181\n69165\n55615\n62892\n99501\n33363\n89364\n8774\n64209\n12421\n13848\n91720\n48567\n10785",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "53\n90656\n76740\n72305\n60305\n80885\n75153\n56727\n57964\n5376\n45752\n93611\n86721\n64734\n18126\n49107\n56014\n75000\n6978\n62403\n16506\n67473\n15051\n87844\n21858\n40516\n68877\n30896\n30147\n87387\n53482\n32749\n52072\n96799\n83531\n15179\n65335\n13073\n12285\n78559\n96547\n35705\n26278\n34543\n42155\n89935\n71051\n31863\n72825\n12481\n78228\n74691\n52200\n81965",
      "expected_output": "53\n90656\n76740\n72305\n60305\n80885\n75153\n56727\n57964\n5376\n45752\n93611\n86721\n64734\n18126\n49107\n56014\n75000\n6978\n62403\n16506\n67473\n15051\n87844\n21858\n40516\n68877\n30896\n30147\n87387\n53482\n32749\n52072\n96799\n83531\n15179\n65335\n13073\n12285\n78559\n96547\n35705\n26278\n34543\n42155\n89935\n71051\n31863\n72825\n12481\n78228\n74691\n52200\n81965",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "34\n87742\n78863\n16612\n87666\n63512\n85597\n79547\n76740\n8277\n93973\n38967\n26847\n38352\n19193\n90825\n55691\n2420\n26860\n82382\n97353\n70629\n20594\n34398\n24498\n31762\n29889\n43332\n55095\n31987\n3867\n27793\n22002\n68673\n92923",
      "expected_output": "34\n87742\n78863\n16612\n87666\n63512\n85597\n79547\n76740\n8277\n93973\n38967\n26847\n38352\n19193\n90825\n55691\n2420\n26860\n82382\n97353\n70629\n20594\n34398\n24498\n31762\n29889\n43332\n55095\n31987\n3867\n27793\n22002\n68673\n92923",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "52\n41105\n35264\n97993\n32643\n80210\n38264\n93068\n52311\n71008\n31892\n36187\n30295\n60799\n16753\n36412\n51770\n36598\n14951\n92424\n55600\n17856\n85305\n32959\n41835\n36668\n44656\n3583\n14023\n33914\n86092\n55329\n93713\n72761\n57832\n79624\n3269\n36056\n29386\n78579\n31528\n55772\n34891\n83011\n22189\n47019\n11495\n8776\n9680\n26216\n21661\n34455\n15686",
      "expected_output": "52\n41105\n35264\n97993\n32643\n80210\n38264\n93068\n52311\n71008\n31892\n36187\n30295\n60799\n16753\n36412\n51770\n36598\n14951\n92424\n55600\n17856\n85305\n32959\n41835\n36668\n44656\n3583\n14023\n33914\n86092\n55329\n93713\n72761\n57832\n79624\n3269\n36056\n29386\n78579\n31528\n55772\n34891\n83011\n22189\n47019\n11495\n8776\n9680\n26216\n21661\n34455\n15686",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "105\n73177905\n70389386\n37799951\n68117966\n22705861\n92880681\n54354163\n93214986\n90999799\n11805039\n53670822\n63757043\n274479\n68643627\n23553711\n39180301\n18494326\n42736888\n16678868\n17108519\n17129208\n89265972\n40442596\n50667152\n2498896\n4623137\n40794547\n50760459\n28872463\n89498339\n94967749\n50504362\n49586337\n38359280\n163940\n43019198\n3547866\n74893596\n21166105\n84706201\n42217832\n99938523\n96613509\n79711910\n54384929\n25047145\n49361945\n82880646\n49361638\n32744545\n66244088\n79290018\n8814542\n81641572\n3585984\n60071118\n63289682\n73078877\n61186342\n43191931\n33657852\n84175100\n37549106\n54315388\n19430502\n79555077\n21499270\n57705178\n24932217\n87088073\n42429693\n35502344\n13706006\n832920\n12846261\n130290\n58806100\n71003243\n20028935\n84827431\n90731780\n96789456\n51740040\n57928139\n33707731\n3523555\n27498295\n79817325\n98648563\n8014389\n98627274\n92946902\n81127602\n99679955\n8864872\n80132483\n96795451\n53106374\n31734041\n15734660\n62443867\n14919494\n33891417\n31070063\n72494400",
      "expected_output": "105\n73177905\n70389386\n37799951\n68117966\n22705861\n92880681\n54354163\n93214986\n90999799\n11805039\n53670822\n63757043\n274479\n68643627\n23553711\n39180301\n18494326\n42736888\n16678868\n17108519\n17129208\n89265972\n40442596\n50667152\n2498896\n4623137\n40794547\n50760459\n28872463\n89498339\n94967749\n50504362\n49586337\n38359280\n163940\n43019198\n3547866\n74893596\n21166105\n84706201\n42217832\n99938523\n96613509\n79711910\n54384929\n25047145\n49361945\n82880646\n49361638\n32744545\n66244088\n79290018\n8814542\n81641572\n3585984\n60071118\n63289682\n73078877\n61186342\n43191931\n33657852\n84175100\n37549106\n54315388\n19430502\n79555077\n21499270\n57705178\n24932217\n87088073\n42429693\n35502344\n13706006\n832920\n12846261\n130290\n58806100\n71003243\n20028935\n84827431\n90731780\n96789456\n51740040\n57928139\n33707731\n3523555\n27498295\n79817325\n98648563\n8014389\n98627274\n92946902\n81127602\n99679955\n8864872\n80132483\n96795451\n53106374\n31734041\n15734660\n62443867\n14919494\n33891417\n31070063\n72494400",
      "type": "max_case_17",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "105\n32442479\n90323102\n77081150\n95769650\n50164535\n65414699\n91165059\n80302351\n83133682\n15007269\n79386721\n57740451\n4807090\n62019139\n20206071\n11215488\n10084542\n40520221\n67018746\n69038709\n73241826\n55752445\n80070160\n79990088\n77935887\n44342546\n63340325\n28678524\n47330042\n77635825\n66756873\n85683578\n83093872\n79236709\n48565555\n51251325\n71711579\n10557043\n3084026\n60838612\n11757876\n3305175\n79426976\n1948509\n29886018\n13463772\n82664332\n83829535\n790149\n75449818\n63844012\n71549148\n2585130\n45667033\n95138706\n9515097\n66097672\n49226469\n78622374\n41019940\n44399990\n86697644\n86303029\n2304033\n82473256\n87500782\n47692194\n24132242\n87982773\n50350149\n57488006\n71034608\n423763\n83962103\n70426075\n50289487\n21276620\n13926941\n83760834\n41130841\n37897350\n48237931\n86022719\n4874273\n42056031\n62144238\n30159490\n47602872\n7065894\n29132491\n92924712\n48783045\n82213502\n94870737\n46946652\n91418705\n32526178\n50505113\n59199909\n7109810\n93179677\n75787135\n82167171\n67387244\n22169562",
      "expected_output": "105\n32442479\n90323102\n77081150\n95769650\n50164535\n65414699\n91165059\n80302351\n83133682\n15007269\n79386721\n57740451\n4807090\n62019139\n20206071\n11215488\n10084542\n40520221\n67018746\n69038709\n73241826\n55752445\n80070160\n79990088\n77935887\n44342546\n63340325\n28678524\n47330042\n77635825\n66756873\n85683578\n83093872\n79236709\n48565555\n51251325\n71711579\n10557043\n3084026\n60838612\n11757876\n3305175\n79426976\n1948509\n29886018\n13463772\n82664332\n83829535\n790149\n75449818\n63844012\n71549148\n2585130\n45667033\n95138706\n9515097\n66097672\n49226469\n78622374\n41019940\n44399990\n86697644\n86303029\n2304033\n82473256\n87500782\n47692194\n24132242\n87982773\n50350149\n57488006\n71034608\n423763\n83962103\n70426075\n50289487\n21276620\n13926941\n83760834\n41130841\n37897350\n48237931\n86022719\n4874273\n42056031\n62144238\n30159490\n47602872\n7065894\n29132491\n92924712\n48783045\n82213502\n94870737\n46946652\n91418705\n32526178\n50505113\n59199909\n7109810\n93179677\n75787135\n82167171\n67387244\n22169562",
      "type": "max_case_18",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "105\n100000000\n100000000\n1\n855952\n67719880\n100000000\n1\n1\n98388958\n33301784\n25798864\n1\n78872203\n100000000\n100000000\n1\n24274722\n43286574\n100000000\n100000000\n1\n100000000\n1\n100000000\n100000000\n1\n100000000\n100000000\n1\n13552476\n91580260\n1\n100000000\n100000000\n30854385\n1\n100000000\n1\n1\n1\n30810038\n21712310\n1\n1\n46883611\n97541071\n98372242\n1\n1\n1\n68285394\n1\n1\n77505974\n57446586\n1\n100000000\n66730544\n1\n47567351\n56579641\n1\n100000000\n100000000\n81711020\n49332468\n99854159\n100000000\n11525960\n100000000\n70067996\n40900937\n58888319\n100000000\n58987231\n1\n1\n100000000\n98365981\n11456773\n1\n1\n38557067\n1\n97927028\n47620753\n100000000\n60156749\n36236309\n1\n100000000\n88935522\n88643339\n66446464\n1\n100000000\n1\n28210414\n100000000\n82869336\n33234542\n100000000\n100000000\n100000000\n1",
      "expected_output": "105\n100000000\n100000000\n1\n855952\n67719880\n100000000\n1\n1\n98388958\n33301784\n25798864\n1\n78872203\n100000000\n100000000\n1\n24274722\n43286574\n100000000\n100000000\n1\n100000000\n1\n100000000\n100000000\n1\n100000000\n100000000\n1\n13552476\n91580260\n1\n100000000\n100000000\n30854385\n1\n100000000\n1\n1\n1\n30810038\n21712310\n1\n1\n46883611\n97541071\n98372242\n1\n1\n1\n68285394\n1\n1\n77505974\n57446586\n1\n100000000\n66730544\n1\n47567351\n56579641\n1\n100000000\n100000000\n81711020\n49332468\n99854159\n100000000\n11525960\n100000000\n70067996\n40900937\n58888319\n100000000\n58987231\n1\n1\n100000000\n98365981\n11456773\n1\n1\n38557067\n1\n97927028\n47620753\n100000000\n60156749\n36236309\n1\n100000000\n88935522\n88643339\n66446464\n1\n100000000\n1\n28210414\n100000000\n82869336\n33234542\n100000000\n100000000\n100000000\n1",
      "type": "edge_case_19",
      "description": "Edge case array (N = 105)"
    },
    {
      "input": "105\n10386626\n1\n100000000\n1\n100000000\n2747195\n1\n1\n4595093\n1\n100000000\n100000000\n24185811\n37369115\n1\n100000000\n100000000\n100000000\n54093353\n89252051\n1\n1\n1\n1\n79866685\n100000000\n32202263\n85335911\n100000000\n1\n1\n1\n1\n37616793\n1\n1\n100000000\n60520494\n1\n1\n86354019\n100000000\n100000000\n100000000\n1\n1\n1\n11885689\n1\n100000000\n47532790\n75934836\n1\n100000000\n23142804\n81829133\n1\n1\n1\n100000000\n63213795\n35707463\n14664715\n1\n100000000\n100000000\n100000000\n100000000\n100000000\n71587261\n1\n47376276\n100000000\n1\n1\n100000000\n50970878\n100000000\n1\n100000000\n1319620\n17056494\n1\n17923821\n100000000\n79922949\n71226280\n1\n100000000\n1\n1\n1\n80371816\n2931546\n1\n100000000\n1\n100000000\n83019113\n6139723\n1\n14363622\n100000000\n1\n1",
      "expected_output": "105\n10386626\n1\n100000000\n1\n100000000\n2747195\n1\n1\n4595093\n1\n100000000\n100000000\n24185811\n37369115\n1\n100000000\n100000000\n100000000\n54093353\n89252051\n1\n1\n1\n1\n79866685\n100000000\n32202263\n85335911\n100000000\n1\n1\n1\n1\n37616793\n1\n1\n100000000\n60520494\n1\n1\n86354019\n100000000\n100000000\n100000000\n1\n1\n1\n11885689\n1\n100000000\n47532790\n75934836\n1\n100000000\n23142804\n81829133\n1\n1\n1\n100000000\n63213795\n35707463\n14664715\n1\n100000000\n100000000\n100000000\n100000000\n100000000\n71587261\n1\n47376276\n100000000\n1\n1\n100000000\n50970878\n100000000\n1\n100000000\n1319620\n17056494\n1\n17923821\n100000000\n79922949\n71226280\n1\n100000000\n1\n1\n1\n80371816\n2931546\n1\n100000000\n1\n100000000\n83019113\n6139723\n1\n14363622\n100000000\n1\n1",
      "type": "edge_case_20",
      "description": "Edge case array (N = 105)"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:49",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:36:58"
}