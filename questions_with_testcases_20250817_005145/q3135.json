{
  "problem_code": "problems",
  "title": "Hike on a Graph",
  "tags": [],
  "text": "\"Hike on a Graph\" is a game that is played on a board on\r\nwhich an undirected graph is drawn. The graph is complete and has\r\nall loops, i.e. for any two locations there is exactly one arrow\r\nbetween them. The arrows are coloured. There are three players, and\r\neach of them has a piece. At the beginning of the game, the three\r\npieces are in fixed locations on the graph. In turn, the players\r\nmay do a move. A move consists of moving one's own piece along an\r\narrow to a new location on the board. The following constraint is\r\nimposed on this: the piece may only be moved along arrows of the\r\nsame colour as the arrow between the two opponents' pieces.In the sixties (\"make love not war\") a one-person variant\r\nof the game emerged. In this variant one person moves all\r\nthe three pieces, not necessarily one after the other, but\r\nof course only one at a time. Goal of this game is to get\r\nall pieces onto the same location, using as few moves as\r\npossible. Find out the smallest number of moves that is\r\nnecessary to get all three pieces onto the same location,\r\nfor a given board layout and starting positions.InputThe input file contains several test cases. Each test\r\ncase starts with the numbern. Input is terminated\r\nbyn=0. Otherwise,1 ≤ n ≤ 50. Then\r\nfollow three integersp1, p2,\r\np3with1 ≤ pi≤ ndenoting the starting locations of the game pieces. The\r\ncolours of the arrows are given next as an×nmatrixmof whitespace-separated lower-case letters. The\r\nelementmijdenotes the colour of the\r\narrow between the locationsiandj. Since\r\nthe graph is undirected, you can assume the matrix to be\r\nsymmetrical.OutputFor each test case output on a single line the minimum number of moves\r\nrequired to get all three pieces onto the same location, or the word\r\n\"impossible\" if that is not possible for the given board and starting\r\nlocations.ExampleInput:3 1 2 3\r\nr b r\r\nb b b\r\nr b r\r\n2 1 2 2\r\ny g\r\ng y\r\n0Output:2\r\nimpossible",
  "sample_input": "Input:3 1 2 3\r\nr b r\r\nb b b\r\nr b r\r\n2 1 2 2\r\ny g\r\ng y\r\n0Output:2\r\nimpossible",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/HIKE",
  "scraped_at": "2025-08-17 00:34:14",
  "test_cases": [
    {
      "input": "3 1 2 3\r\nr b r\r\nb b b\r\nr b r\r\n2 1 2 2\r\ny g\r\ng y\r\n0",
      "expected_output": "2\r\nimpossible",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "1 3 4 3\nteah tkspt ymmg\nd almb tjjvm\narkqk cvf ruk\n5 2 6 1\nsxk wsot\nnih gxp\n9",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "10 8 4 1\njliqx sfa usmc\njot s mvg\nm di dyj\n10 10 1 10\nuulsd o\nrvnww numlj\n2",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "9 1 4 10\ndkh fgrgu dqqn\nrxzuz k fu\nb uls ah\n6 7 6 2\nwpf iwc\nkxpsn j\n5",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "37 9 22 23\nqgam tpwl amn\nvc lo mhvch\nq bx nyvzj\n11 17 4 7\nbqei dyam\nlm kasor\n50",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "28 1 22 8\nx t l\nvc uzkr ijxc\nx tyvmj kxgc\n29 3 43 26\niay oe\nrcyin i\n1",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "16 46 5 41\njxwr h be\neygp jzz pjdsv\ngus qvzg fwftl\n10 42 22 23\nji gci\nnpoe glhi\n1",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "8 37 30 46\ndena voi v\nbpyss fmi ud\nhtmcu qtg odv\n3 40 22 14\nkyu ii\nl nsa\n46",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "20 44 19 24\nymty o ivsw\ncvu guysq pdroh\nehbb dk fesws\n33 1 33 41\nnwzsn rl\nza grkr\n11",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "25 17 17 20\npayn gzr ukept\ndce gl kws\nrvgu ppny bgk\n8 15 10 13\nfj m\nvp uqkf\n7",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "14 7 17 10\nuuom wvqk gdh\nhzryq onlq r\njal rhb dn\n18 22 22 24\nfk vgnr\nie cuqij\n4",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "14 16 10 20\nnp gusfi or\nzuqe mw cjb\ntsnur rwl idpv\n15 13 15 9\nfx r\nltuks w\n17",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "12 8 7 13\nwphhw zqgim gwl\nnatj ybsp wok\nslywn ip k\n16 16 25 20\nmn o\ngcw q\n20",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "24 21 13 5\nbqt v vi\nccj l op\nml edkso zxp\n8 24 3 18\nd id\nhu gmuk\n4",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "6 8 20 3\nmvqx nmdaf m\ndmav rmtiw p\nd fnnxv wosnl\n24 4 16 22\ngq jotd\norbl ngz\n2",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "6 2 5 9\ncjlq pyq hzgsf\nlko i b\nizrye aenpr bz\n9 25 18 3\nc qyfr\noiky fkrjf\n9",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "50 50 50 50\ntr uk cu\ndia f jwktt\noibb mt hbpb\n50 50 50 50\nxf rocbt\nomh cwr\n50",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "50 50 50 50\nazne yqdcs ypirs\nzi k hxt\nblp upv y\n50 50 50 50\nqk vefsc\nsnlxb t\n50",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1 2 50 50\naj f kyis\nb qy lth\nznn kado h\n2 1 49 50\nfwt u\nz kpo\n2",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "49 2 2 49\nkbt x el\nm itgjn wrw\ntvn kux yg\n1 49 49 1\njsd egz\nsclb us\n49",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:55",
  "total_test_cases": 20
}