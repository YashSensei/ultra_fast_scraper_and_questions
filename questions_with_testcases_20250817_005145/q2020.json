{
  "problem_code": "problems",
  "title": "Sales",
  "tags": [],
  "text": "Bosco has gotten his hands on $B$ ($1 \\leq B \\leq 50$) dollars! Being a Magic the Gathering™ enthusiast, he wishes to spend some amount of his budget on cards to improve his deck.He has located a local store that has $N$ ($1 \\leq N \\leq 30,000$) cards for sale. Card $i$ costs $c_i$ ($1 \\leq c_i \\leq 50$) dollars, and will improve Bosco’s DQI (Deck Quality Index) by $v_i$ ($1 \\leq v_i \\leq 1000$) points. Only one copy of each card is for sale.Business hasn’t been too great lately, so the store is offering sales on various days. Though the term “price adjustments” would be more accurate, as card prices can increase, “sales” are much more appealing – and, indeed, Bosco wants to go do all of his shopping on one of the $D$ ($1 \\leq D \\leq 3000$) days of the sales. In fact, he’s already acquired a list of the price adjustments that will be made.On day $i$, the cost of card $a_i$ ($1 \\leq a_i \\leq N$) is changed to $b_i$ ($1 \\leq b_i \\leq 50$), while all other cards remain unchanged. That is, before day $1$, all cards have their initial costs ($c_{1..N}$), and from then on, price adjustments accumulate from day to day.Additionally, on each day, only certain cards from the store’s inventory are actually up for sale. In particular, on day $i$, only cards $x_i$ to $y_i$ ($1 \\leq x_i \\leq y_i \\leq N$), inclusive, may be purchased.Bosco doesn’t care how much of his budget he spends, but he absolutely must have the best possible deck. As such, for each of the $D$ days, he wants to consider buying some (possibly empty) set of cards, such that the sum of their costs is no larger than $B$, and the sum of their DQI points is maximal. Determine this DQI sum for each day, so that Bosco will know when to go to take full advantage of the “sales”.InputLine $1$: 3 integers, $B$, $N$, and $D$Next $N$ lines: 2 integers, $c_i$ and $v_i$, for $i=1..N$Next $D$ lines: 4 integers, $a_i$, $b_i$, $x_i$, and $y_i$, for $i=1..D$OutputFor each day, output the maximal DQI sum of cards up for purchase that day which Bosco can purchase without going over his budget, considering all price changes that have occurred so far.ExampleInput:5 5 39 61 52 33 112 71 1 1 44 6 3 54 1 1 4Output:221025Explanation of Sample:At first, the 5 cards (with point values 6, 5, 3, 11, and 7, respectively) have costs of 9, 1, 2, 3, and 2 dollars, in that order.On the first day, the cost of the first card is reduced to 1 dollar, and the first 4 cards are up for purchase.On the second day, the cost of the fourth card is increased to 6 dollars, and only the last 3 cards can be bought.On the final day, the cost of card 4 is changed again, this time to 1 dollar, and the first 4 cards are once again considered.On the first day, Bosco should buy the first, second, and fourth cards, costing a total of 5 dollars.On the second, cards 3 and 5 should be purchased with 4 dollars, as card 4 is now too expensive.On the final day, all of the cards up for sale can be bought for 5 dollars. Notice that card 1 still costs 1 dollar, from the first price change.",
  "sample_input": "5 5 39 61 52 33 112 71 1 1 44 6 3 54 1 1 4",
  "sample_output": "221025",
  "link": "https://www.spoj.com/problems/SALES",
  "scraped_at": "2025-08-17 00:34:03",
  "test_cases": [
    {
      "input": "5 5 39 61 52 33 112 71 1 1 44 6 3 54 1 1 4",
      "expected_output": "221025",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "10 10 8 2 6 10 9 4 4 1 1 7 10 7 3 10 6",
      "expected_output": "0",
      "type": "small_case_2",
      "description": "Generated small test case"
    },
    {
      "input": "2 4 10 8 2 9 8 8 6 10 8 8 7 9 1 10 2",
      "expected_output": "0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "2 8 5 3 4 8 8 4 3 7 5 5 9 3 1 1 10",
      "expected_output": "0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "68 7 81 77 50 62 92 8 14 30 3 82 20 58 10 31 32",
      "expected_output": "0",
      "type": "medium_case_5",
      "description": "Generated medium test case"
    },
    {
      "input": "74 74 6 60 47 34 31 5 60 2 33 70 32 75 89 7 18",
      "expected_output": "0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "37 97 71 44 47 50 69 45 56 64 28 81 24 65 27 76 76",
      "expected_output": "0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "13 97 38 27 52 86 85 88 24 5 60 48 63 91 28 37 22",
      "expected_output": "0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "75 73 49 26 57 5 75 50 9 86 56 70 66 51 32 13 29",
      "expected_output": "0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "495 282 404 125 499 230 276 327 354 200 258 393 157 203 107 366 236",
      "expected_output": "0",
      "type": "large_case_10",
      "description": "Generated large test case"
    },
    {
      "input": "499 413 102 393 62 476 110 402 112 64 95 99 315 253 293 277 241",
      "expected_output": "0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "267 469 162 225 500 226 183 479 484 488 420 165 354 412 263 443 405",
      "expected_output": "0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "147 421 51 144 447 65 354 397 500 53 85 466 247 290 285 190 343",
      "expected_output": "0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "348 196 369 201 281 325 486 465 144 453 110 187 142 178 270 132 189",
      "expected_output": "0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "353 211 197 166 168 320 273 118 233 143 70 395 337 112 262 304 369",
      "expected_output": "0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "195 218 80 66 216 305 101 119 113 199 138 455 139 465 341 271 148",
      "expected_output": "0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000",
      "expected_output": "0",
      "type": "max_case_17",
      "description": "Generated max test case"
    },
    {
      "input": "1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000",
      "expected_output": "0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "1000 2 1 1 1 999 1000 999 999 1000 2 1 2 1000 2 999 1000",
      "expected_output": "0",
      "type": "edge_case_19",
      "description": "Generated edge test case"
    },
    {
      "input": "1 2 1000 2 1 1 2 2 2 1000 999 2 1 1 1000 1000 1",
      "expected_output": "0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:51",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:22"
}