{
  "problem_code": "problems",
  "title": "Balance the parentheses",
  "tags": [],
  "text": "You are provided with a sequence of parentheses, that are balanced. A balanced parentheses sequence it that sequence in which every opening bracket has a unique closing bracket (nearest to it) to the right of it and every closing bracket has a unique opening bracket to the left of it (nearest). Any other sequence is not balanced. For example, (()), ()(), ((()())()), (), etc are balanced, but )(), ()), (()(, ()( are unbalanced.You are then provided with q queries, ithquery is of form xi, representing an index. The bracket at that index is flipped that is, if it was an opening bracket then it is replaced by a closing one and vice versa. You have to give the left most index whose bracket has to be flipped so that the sequence remains balanced.The subsequent queries have to be applied on new sequence formed!InputThe first line will contain two integers, n and q. Next line will give you the sequence (n characters) consisting of opening and closing parenthesis only. Next q lines will represent q queries, xi.OutputFor each query, output the required answer in different lines.Constraints1 ≤ n  ≤ 4×1051 ≤ q ≤ 2×105ExampleInput:10 10\r\n()(((())))\r\n2\r\n7\r\n9\r\n4\r\n5\r\n1\r\n4\r\n3\r\n5\r\n4Output:2\r\n4\r\n6\r\n4\r\n2\r\n1\r\n2\r\n2\r\n4\r\n4Input:6 9\r\n((()))\r\n6\r\n2\r\n2\r\n6\r\n4\r\n6\r\n3\r\n2\r\n4Output:6\r\n2\r\n2\r\n6\r\n2\r\n6\r\n2\r\n2\r\n3",
  "sample_input": "Input:10 10\r\n()(((())))\r\n2\r\n7\r\n9\r\n4\r\n5\r\n1\r\n4\r\n3\r\n5\r\n4Output:2\r\n4\r\n6\r\n4\r\n2\r\n1\r\n2\r\n2\r\n4\r\n4",
  "sample_output": "Input:6 9\r\n((()))\r\n6\r\n2\r\n2\r\n6\r\n4\r\n6\r\n3\r\n2\r\n4Output:6\r\n2\r\n2\r\n6\r\n2\r\n6\r\n2\r\n2\r\n3",
  "link": "https://www.spoj.com/problems/BALANCE1PARA",
  "scraped_at": "2025-08-17 00:34:19",
  "test_cases": [
    {
      "input": "10 10\r\n()(((())))\r\n2\r\n7\r\n9\r\n4\r\n5\r\n1\r\n4\r\n3\r\n5\r\n4",
      "expected_output": "2\r\n4\r\n6\r\n4\r\n2\r\n1\r\n2\r\n2\r\n4\r\n4",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "6 9\r\n((()))\r\n6\r\n2\r\n2\r\n6\r\n4\r\n6\r\n3\r\n2\r\n4",
      "expected_output": "6\r\n2\r\n2\r\n6\r\n2\r\n6\r\n2\r\n2\r\n3",
      "type": "sample_2",
      "description": "Original sample 2 from problem statement"
    },
    {
      "input": "3 3\nhvugenvrtqihge\n2\n1\n4\n2\n3\n2\n4\n3\n3\n4",
      "expected_output": "0",
      "type": "small_case_3",
      "description": "Generated small test case"
    },
    {
      "input": "3 1\ngewby\n3\n2\n2\n3\n2\n1\n4\n4\n3\n4",
      "expected_output": "0",
      "type": "small_case_4",
      "description": "Generated small test case"
    },
    {
      "input": "2 3\nkviwxvzzzfnx\n3\n4\n1\n1\n4\n2\n4\n2\n1\n4",
      "expected_output": "0",
      "type": "small_case_5",
      "description": "Generated small test case"
    },
    {
      "input": "3 4\nltbabqtqejvimguihm\n4\n1\n2\n2\n1\n3\n2\n4\n2\n1",
      "expected_output": "0",
      "type": "medium_case_6",
      "description": "Generated medium test case"
    },
    {
      "input": "1 3\nzzciztxh\n2\n3\n1\n1\n1\n2\n1\n4\n2\n3",
      "expected_output": "0",
      "type": "medium_case_7",
      "description": "Generated medium test case"
    },
    {
      "input": "4 1\ndhelanyhev\n2\n2\n1\n2\n4\n4\n3\n4\n3\n1",
      "expected_output": "0",
      "type": "medium_case_8",
      "description": "Generated medium test case"
    },
    {
      "input": "4 1\ncjrigmjckufsjapdyvay\n2\n4\n1\n1\n3\n4\n4\n1\n3\n1",
      "expected_output": "0",
      "type": "medium_case_9",
      "description": "Generated medium test case"
    },
    {
      "input": "3 4\nvgjg\n2\n4\n1\n3\n2\n1\n3\n4\n1\n4",
      "expected_output": "0",
      "type": "medium_case_10",
      "description": "Generated medium test case"
    },
    {
      "input": "1 2\nrokezqkropjsbwxeqaae\n2\n1\n2\n1\n2\n2\n2\n1\n1\n1",
      "expected_output": "0",
      "type": "large_case_11",
      "description": "Generated large test case"
    },
    {
      "input": "2 2\nhfbzbxeaozxtzhwg\n1\n2\n1\n1\n1\n2\n1\n2\n2\n2",
      "expected_output": "0",
      "type": "large_case_12",
      "description": "Generated large test case"
    },
    {
      "input": "2 1\neansxrzxdkfbnpwz\n1\n1\n1\n2\n1\n2\n1\n2\n2\n1",
      "expected_output": "0",
      "type": "large_case_13",
      "description": "Generated large test case"
    },
    {
      "input": "2 1\ne\n1\n2\n1\n1\n2\n2\n1\n2\n1\n2",
      "expected_output": "0",
      "type": "large_case_14",
      "description": "Generated large test case"
    },
    {
      "input": "1 1\nrtk\n1\n1\n2\n1\n2\n2\n2\n2\n1\n2",
      "expected_output": "0",
      "type": "large_case_15",
      "description": "Generated large test case"
    },
    {
      "input": "2 1\nhvxmnauwgqh\n2\n1\n2\n1\n2\n2\n1\n2\n1\n2",
      "expected_output": "0",
      "type": "large_case_16",
      "description": "Generated large test case"
    },
    {
      "input": "2 2\nmveaddr\n1\n2\n1\n1\n1\n1\n1\n1\n2\n2",
      "expected_output": "0",
      "type": "large_case_17",
      "description": "Generated large test case"
    },
    {
      "input": "4 4\ngsdmwlnacgv\n4\n4\n4\n4\n4\n4\n4\n4\n4\n4",
      "expected_output": "0",
      "type": "max_case_18",
      "description": "Generated max test case"
    },
    {
      "input": "4 4\nlhoicomzpoat\n4\n4\n4\n4\n4\n4\n4\n4\n4\n4",
      "expected_output": "0",
      "type": "max_case_19",
      "description": "Generated max test case"
    },
    {
      "input": "4 2\nbdqhzgtdzl\n3\n2\n3\n3\n1\n3\n1\n3\n2\n3",
      "expected_output": "0",
      "type": "edge_case_20",
      "description": "Generated edge test case"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:54",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:48"
}