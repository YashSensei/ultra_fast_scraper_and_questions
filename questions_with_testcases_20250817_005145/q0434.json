{
  "problem_code": "problems",
  "title": "Battle Of The Bastards",
  "tags": [],
  "text": "Chessis a two-player strategy board game played on a8 × 8board. Each player begins with16pieces where each type of piece moves differently. Player 1 has all the white pieces and player 2 all the black ones, with white being the one to move first and then players take turns alternatingly until the game ends. The game is played on a square board of eight rows and eight columns. The rows are called ranks and are numbered 1 to 8 from bottom to top from white’s perspective. Similarly, the columns are called files and are denoted fromatohfrom left to right according to white’s perspective. The objective of the game is to threaten the opponent’s king in such a way that escape is not possible, i.e., checkmate the opponent. If a player’s king is threatened, it is said to be in check and the player must remove the king from check on the next move by either moving to a safe square or capturing or blocking the attacking piece(s). The figure shows the starting position for the game of chess.In this problem, we’ll be considering a slightly modified version of chess with the following rules:The game will be played on aN × Nboard.The game will consist of exactly 4 pieces - The white king, the black king, and two white rooks. All four pieces must be placed on different squares of the board.Kings can move to any adjacent square (horizontally, vertically, or diagonally), unless the square is outside the board or occupied by a friendly piece or if the move would place the king under check.Rooks can move to any square in the same rank or file, but not by jumping over other pieces. Also, it cannot land on a square occupied by a friendly piece.A pieceXis threatened by another enemy pieceY, iffYcan reachXin exactly one legal move.A pieceXcan capture another enemy pieceYiffXcan reachYin exactly one legal move. On capturing, pieceYis removed from the board andXtakes its place. Note that ifXis the king, then it cannot captureYifYis guarded by an enemy piece. That is the king can never move and put itself in danger where it is attacked by an enemy piece.The two kings cannot ever be in adjacent (horizontally, vertically or diagonally) squares.The objective of the game is to place the four pieces on unique squares of the board in such a way that if it is black’s move, then the black king is attacked and has no legal moves. That is, the black king must be threatened by at least one of the white rooks and has no way to move to a safe square or eliminate the checks (by capturing the attacking pieces if not guarded). Note that it is not necessary for the board configuration to be legal following the exact rules of chess. That is, ifN = 8there might be valid configurations in our modified game that might never appear in a game of chess. Like the figure shown below, which can never occur in a proper game of chess given that it is black’s turn to move, although it would be a perfectly valid configuration in our game.GivenN, you need to count how many ways you can place one white king, one black king, and two white rooks in the chessboard such that the black king is threatened and has no way to escape the threat given it is black’s turn to move. Two configurations are different if either any of the squares contain different pieces or one square contains a piece but the other does not. Note that every square is uniquely represented by its rank and file and hence mirrored or reversed configurations of the same configuration will be considered as different configurations. Also note that the white king, black king, and white rooks are distinguishable but the two white rooks are identical. So in the figure above, if we swap the two rooks, the new configuration will be the same as the old one.Since the number of ways can be huge, you need to output it modulo7340033.InputThe first line contains the number of test cases denoted byT. The nextTlines contain the board dimensionN.Constraints1 ≤ T ≤ 201 ≤ N ≤ 105OutputFor each case, output one line. First output the case number then the number of valid ways modulo7340033. Please refer to the sample i/o for more clarity on the format.ExampleInput:8\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8Output:Case 1: 0\r\nCase 2: 0\r\nCase 3: 232\r\nCase 4: 1432\r\nCase 5: 5188\r\nCase 6: 14536\r\nCase 7: 34464\r\nCase 8: 72392ExplanationFor a8 × 8board, here are some valid configurations:For all of these boards, the black king is attacked and has nowhere to go. Also, both the white rooks are placed on the board and the kings are not in adjacent positions.And here are some invalid ones:For the first board, the black king can move and capture the attacking white rook thereby removing the check and moving to a safe square.For the second board, although the black king is attacked and cannot capture anything because all the pieces are guarded, the two kings are adjacent which is not allowed. Hence it is not a valid checkmate position.For the third board, it is a stalemate. That is the black king has nowhere to go but it is also not attacked. So no checkmate.For the fourth board, it is checkmate and the black king has nowhere to go. But we haven’t placed both the rooks on the board and hence this is not a valid position.",
  "sample_input": "Input:8\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8Output:Case 1: 0\r\nCase 2: 0\r\nCase 3: 232\r\nCase 4: 1432\r\nCase 5: 5188\r\nCase 6: 14536\r\nCase 7: 34464\r\nCase 8: 72392",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/BATTLECRY",
  "scraped_at": "2025-08-17 00:33:09",
  "test_cases": [
    {
      "input": "8\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8",
      "expected_output": "Case 1: 0\r\nCase 2: 0\r\nCase 3: 232\r\nCase 4: 1432\r\nCase 5: 5188\r\nCase 6: 14536\r\nCase 7: 34464\r\nCase 8: 72392",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "3\n9\n4\n4",
      "expected_output": "0\n0\n0",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "4\n5\n8\n5\n3",
      "expected_output": "0\n0\n0\n0",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n4\n9\n6",
      "expected_output": "0\n0\n0",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "18\n19733910\n54649920\n9845040\n11712586\n93303925\n83005076\n80596351\n79041739\n99185645\n4770125\n41364653\n12296729\n56750059\n77486956\n30636557\n91911382\n81475161\n81057173",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "10\n18661593\n4243149\n28534398\n89984798\n22322399\n27784698\n75705408\n15749112\n60782132\n79082057",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "12\n19189132\n79086860\n4083078\n69679907\n79193837\n60310028\n65614035\n43878596\n59089163\n82275615\n43207136\n95258643",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "17\n31797221\n55463364\n97170883\n28309040\n47553642\n25391345\n75333685\n70520984\n76471175\n15596550\n57140441\n1136201\n371127\n60286842\n16366962\n30315122\n55283134",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "19\n34466718\n74758791\n23337711\n2720942\n60206011\n67333890\n17553930\n52687984\n34109429\n5167433\n23883321\n71298863\n42975066\n25505408\n23381978\n68059329\n44506143\n40544993\n31322756",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "71\n43432\n61779\n78431\n62143\n18841\n99638\n16848\n29416\n4591\n96345\n8521\n13619\n63674\n27579\n78733\n13212\n69474\n69049\n49095\n52929\n76420\n64238\n22556\n19182\n31122\n50343\n69664\n68240\n67830\n8063\n43318\n67720\n37196\n98883\n78238\n36087\n12458\n47752\n70204\n52224\n6675\n1308\n38874\n87944\n18780\n68147\n86660\n50760\n25343\n5122\n44964\n79074\n79762\n4691\n97743\n3060\n14491\n92934\n86741\n65214\n63363\n54887\n93347\n30214\n34070\n44258\n18215\n316\n10711\n87993\n66844",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "63\n21126\n64143\n56186\n33427\n72201\n61799\n8615\n58250\n86796\n25935\n87177\n76808\n61802\n28423\n24357\n28584\n3715\n86806\n72985\n50554\n75209\n46498\n73489\n16598\n25184\n58630\n21314\n25968\n8891\n55299\n37658\n98684\n87422\n75616\n72380\n75462\n76953\n35749\n19005\n34794\n11652\n63351\n64136\n27536\n23548\n12135\n1679\n5948\n44934\n29151\n40502\n75458\n4245\n67183\n2493\n7674\n27939\n79918\n96178\n31225\n52345\n27590\n27472",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "86\n91261\n56335\n86529\n86801\n68304\n49954\n75190\n30885\n30614\n96937\n85836\n3850\n78111\n91210\n69245\n86803\n6867\n41243\n40715\n7735\n92281\n75308\n66423\n37458\n92886\n9438\n84249\n78420\n88843\n66186\n39731\n35705\n80958\n3261\n56247\n893\n63371\n76879\n69874\n50737\n3742\n72160\n35552\n52570\n25362\n20419\n68151\n62512\n50575\n34428\n170\n48035\n72278\n49449\n82117\n3119\n12319\n31325\n40003\n729\n49965\n29511\n87257\n42619\n89389\n51095\n63238\n80009\n25145\n17511\n63760\n61998\n95273\n39409\n32451\n10717\n48307\n51367\n46752\n57990\n55320\n54910\n10407\n83753\n59127\n66852",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "78\n16061\n77351\n68021\n99952\n53760\n81629\n75610\n20460\n12577\n58722\n33187\n63730\n64070\n87185\n20830\n28082\n8339\n35814\n33486\n58395\n47898\n69245\n25001\n83495\n74214\n99078\n60514\n66622\n86778\n2321\n43275\n42199\n59379\n75878\n53066\n37939\n68583\n61118\n92892\n24809\n32059\n87904\n60234\n89964\n85271\n80119\n24652\n49261\n98985\n57782\n78292\n50163\n24734\n45051\n14131\n42627\n5283\n25341\n23405\n69960\n41038\n17199\n85705\n64796\n43996\n53756\n57584\n58098\n85405\n35699\n40925\n79927\n27574\n66882\n18352\n27479\n98482\n60025",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "79\n18949\n4750\n48118\n49428\n35244\n55410\n55112\n37762\n37107\n84239\n71633\n32551\n45032\n94863\n81208\n92066\n68651\n74941\n86644\n34458\n90575\n97261\n26\n399\n14870\n704\n69865\n51219\n20513\n63391\n53443\n76702\n21044\n65099\n95372\n20398\n80867\n37762\n41892\n61695\n83779\n96600\n36837\n98898\n57660\n84103\n78550\n18972\n9860\n59500\n3807\n97843\n56462\n31478\n12481\n89950\n35223\n89187\n13510\n62286\n32784\n67025\n4968\n65871\n35706\n52337\n61194\n88601\n46778\n20423\n92128\n35297\n87533\n1243\n68212\n36828\n38527\n38668\n85540",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "96\n26503\n23054\n11184\n54097\n475\n88462\n33640\n24674\n58330\n74299\n9503\n86748\n57284\n59950\n12333\n27944\n3323\n53571\n95085\n38987\n88285\n81864\n50449\n68003\n5191\n73623\n27292\n36637\n97240\n92742\n50497\n65130\n64888\n67811\n22308\n3408\n49115\n1871\n17452\n29350\n66550\n95011\n96807\n72570\n21313\n43904\n35958\n30037\n66254\n32331\n88314\n42812\n3197\n40348\n78102\n8250\n83041\n60798\n34949\n86825\n23277\n99112\n88698\n6558\n70084\n77898\n20843\n35745\n18832\n87769\n52114\n43214\n68988\n28037\n64926\n57406\n44844\n36820\n71686\n5306\n91266\n93766\n36645\n42353\n49528\n40454\n80962\n84782\n66948\n14911\n43963\n6048\n39450\n20894\n80117\n19483",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "99\n22821\n3398\n49898\n83504\n89869\n64735\n36011\n10510\n62012\n10718\n27988\n67621\n71817\n38533\n90941\n798\n64011\n34032\n28712\n675\n41341\n27600\n5649\n95304\n2546\n64617\n34954\n47161\n10339\n16562\n39848\n28368\n21207\n5918\n38588\n90709\n93548\n49231\n84659\n85047\n36432\n2883\n63584\n52588\n48345\n58531\n14808\n79187\n77821\n94600\n11620\n14879\n30393\n79800\n69020\n47649\n1723\n63045\n37222\n80583\n44036\n64791\n25738\n52018\n49752\n73722\n91535\n94838\n66292\n89457\n60829\n91939\n30389\n82887\n51072\n35755\n43182\n49114\n3672\n98642\n66806\n69468\n16980\n23569\n59541\n32842\n29175\n49844\n72548\n79151\n7077\n18911\n92039\n48023\n83916\n80805\n11597\n55558\n62095",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "105\n93267209\n58303274\n66124535\n41117234\n61788296\n2073176\n22086145\n31082375\n80417317\n37379241\n87369890\n17130174\n60757585\n27464290\n99969409\n45715631\n71509922\n81177146\n4457102\n69468560\n17745363\n59428567\n46510878\n26432069\n75029141\n33450045\n20423962\n2412171\n13176416\n32110959\n50410347\n9705871\n2078400\n5692364\n41439161\n33003534\n43020418\n58957794\n95614644\n68661891\n70177131\n33087382\n70236937\n10638006\n95510698\n42302036\n87240080\n15996907\n79731199\n3821572\n51790200\n6424220\n3268809\n13086683\n79944410\n21016731\n35354192\n67086917\n29898367\n39390501\n78052699\n14622559\n82777889\n11839565\n62005117\n92210852\n3515650\n95549727\n98318131\n32248991\n15355836\n32098595\n67145159\n98633748\n19348800\n50981171\n58913232\n95537770\n43314221\n55656647\n6665506\n60200543\n847964\n46086832\n28175639\n70127780\n87041237\n36959626\n38516058\n70265141\n27431539\n68962998\n44963149\n66292188\n66857103\n97227342\n30567500\n8513382\n11627893\n54548917\n82935148\n44001866\n98912625\n98825951\n90006812",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_17",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "105\n55705404\n73427624\n32805374\n23624557\n87683111\n1804155\n18243047\n68847926\n28557425\n38584832\n15641158\n71144454\n32406463\n99487130\n40973763\n67998386\n79516554\n12709218\n44232759\n30093889\n78242592\n20106386\n38697671\n59152829\n65203161\n32013688\n74783680\n95644461\n62965595\n67783935\n96872641\n91158180\n21668104\n60226111\n49819663\n6995124\n28550012\n99155731\n90783624\n20480350\n20147486\n3783307\n88002804\n69904801\n99856313\n66282194\n37112156\n22503096\n92266172\n85242928\n83534714\n29375412\n83501566\n29407350\n22735284\n51758179\n96746600\n26528288\n27169427\n62942732\n44904447\n55259452\n17195833\n10361489\n78257583\n62186672\n84159899\n22189141\n99576306\n29809374\n89295278\n86488939\n60723722\n76944651\n1767253\n99487638\n11393912\n94734048\n63133024\n37051980\n99094151\n10102727\n33791839\n26361712\n7816399\n85905141\n26740147\n80375967\n47217527\n90926458\n2445183\n68770222\n2900934\n5242799\n45223443\n14542237\n94039976\n8076088\n86734532\n53908547\n18824803\n1432460\n67333843\n13224870\n58846829",
      "expected_output": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
      "type": "max_case_18",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "2\n1\n1",
      "expected_output": "0\n0",
      "type": "edge_case_19",
      "description": "Edge case array (N = 2)"
    },
    {
      "input": "1\n91901678",
      "expected_output": "0",
      "type": "edge_case_20",
      "description": "Edge case array (N = 1)"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:46",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:36:33"
}