{
  "problem_code": "problems",
  "title": "Black and White Nim",
  "tags": [],
  "text": "EnglishVietnameseBlack-White-Nim is played as follows. There are one or more horizontal rows, each containing several black and white beads. Two players take turns removing beads until there are none left. During each turn, a player must remove one or more consecutive beads from the left end of a single row. The removed beads must contain either no black beads or exactly one black bead. If one black bead is removed, that bead must be the rightmost of the removed beads. The player who takes the last turn wins.Given the number of black and white beads in each rows. The order of beads in each row is randomly generated at the beginning of the game. Each distinct row ordering is equally likely. Black beads are indistinguishable from one another, and white beads are indistinguishable from one another. Output the probability that the first player will win the game assuming that both players follow an optimal strategy.InputThe first line of input contains a number representing the number of tests.Each test cases contains three lines, the first line contains N representing the number of rows.The second line contains N numbers, representing the number of black beads in each row. There will be at most 100 black beads in each row.The third line contains N numbers, representing the number of white beads in each row. There will be at most 100 white beads in each row. There will be at least one beads in each row.OutputFor each test case, output a line contains a float-number, representing the answer. It must be printed with exactly six decimal places.ExampleInput:4\r\n1\r\n0\r\n2\r\n1\r\n2\r\n0\r\n1\r\n2\r\n2\r\n2\r\n2 5\r\n2 0Output:1.000000\r\n0.000000\r\n0.666667\r\n0.666667ConstraintsDataset 1: N ≤ 50",
  "sample_input": "Input:4\r\n1\r\n0\r\n2\r\n1\r\n2\r\n0\r\n1\r\n2\r\n2\r\n2\r\n2 5\r\n2 0Output:1.000000\r\n0.000000\r\n0.666667\r\n0.666667",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/BNWNIM",
  "scraped_at": "2025-08-17 00:33:25",
  "test_cases": [
    {
      "input": "4\r\n1\r\n0\r\n2\r\n1\r\n2\r\n0\r\n1\r\n2\r\n2\r\n2\r\n2 5\r\n2 0",
      "expected_output": "1.000000\r\n0.000000\r\n0.666667\r\n0.666667",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "4\n2\n1\n2\n4",
      "expected_output": "4\n2\n1\n2\n4",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "4\n2\n8\n7\n7",
      "expected_output": "4\n2\n8\n7\n7",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "2\n7\n4",
      "expected_output": "2\n7\n4",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "5\n26674324\n14794123\n76463875\n12528220\n10420890",
      "expected_output": "5\n26674324\n14794123\n76463875\n12528220\n10420890",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "15\n74555286\n58887001\n62557241\n4487171\n85842157\n15003669\n77099616\n1069131\n79324490\n18685008\n98105467\n57686855\n59916668\n14622554\n4237445",
      "expected_output": "15\n74555286\n58887001\n62557241\n4487171\n85842157\n15003669\n77099616\n1069131\n79324490\n18685008\n98105467\n57686855\n59916668\n14622554\n4237445",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "6\n95195261\n93266865\n20760832\n33261404\n24753723\n54934633",
      "expected_output": "6\n95195261\n93266865\n20760832\n33261404\n24753723\n54934633",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "19\n7830984\n48068700\n16356203\n19770841\n88532267\n19391835\n61994742\n38418185\n48096152\n5765513\n82333452\n58284892\n48953334\n24032222\n75577273\n93835103\n25270849\n421610\n12824143",
      "expected_output": "19\n7830984\n48068700\n16356203\n19770841\n88532267\n19391835\n61994742\n38418185\n48096152\n5765513\n82333452\n58284892\n48953334\n24032222\n75577273\n93835103\n25270849\n421610\n12824143",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "15\n23424108\n34242799\n74486455\n1541716\n42217993\n17964174\n92334578\n35062271\n60560955\n22501118\n79648657\n94125387\n87281184\n45726053\n63637390",
      "expected_output": "15\n23424108\n34242799\n74486455\n1541716\n42217993\n17964174\n92334578\n35062271\n60560955\n22501118\n79648657\n94125387\n87281184\n45726053\n63637390",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "24\n78125\n44670\n13079\n26328\n12556\n26089\n86825\n63062\n79190\n29319\n4837\n88611\n78550\n17498\n28040\n71264\n95463\n96805\n78303\n15606\n95186\n32041\n69223\n16866",
      "expected_output": "24\n78125\n44670\n13079\n26328\n12556\n26089\n86825\n63062\n79190\n29319\n4837\n88611\n78550\n17498\n28040\n71264\n95463\n96805\n78303\n15606\n95186\n32041\n69223\n16866",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "23\n7026\n65226\n57618\n40912\n18315\n80110\n14190\n12262\n62514\n68555\n83161\n30203\n4153\n71194\n85181\n29019\n97246\n93065\n54697\n478\n29049\n1942\n68657",
      "expected_output": "23\n7026\n65226\n57618\n40912\n18315\n80110\n14190\n12262\n62514\n68555\n83161\n30203\n4153\n71194\n85181\n29019\n97246\n93065\n54697\n478\n29049\n1942\n68657",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "30\n18348\n41437\n34282\n25838\n221\n7809\n433\n11358\n16133\n6085\n72708\n3759\n84388\n73869\n61308\n9288\n31607\n8341\n76490\n75491\n21728\n21522\n53873\n68920\n84705\n25947\n16759\n42131\n25978\n10464",
      "expected_output": "30\n18348\n41437\n34282\n25838\n221\n7809\n433\n11358\n16133\n6085\n72708\n3759\n84388\n73869\n61308\n9288\n31607\n8341\n76490\n75491\n21728\n21522\n53873\n68920\n84705\n25947\n16759\n42131\n25978\n10464",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "20\n30286\n5295\n17884\n73006\n51034\n48608\n31366\n95258\n50099\n58197\n38989\n23858\n28128\n13757\n29727\n46416\n29347\n24479\n74655\n30480",
      "expected_output": "20\n30286\n5295\n17884\n73006\n51034\n48608\n31366\n95258\n50099\n58197\n38989\n23858\n28128\n13757\n29727\n46416\n29347\n24479\n74655\n30480",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "47\n8215\n74282\n81627\n25654\n27767\n79168\n49338\n37452\n86024\n15999\n53149\n23667\n83466\n9908\n40470\n48046\n39916\n14894\n4267\n48930\n80570\n80771\n20031\n4216\n45090\n93296\n73165\n82236\n83219\n90013\n91005\n23733\n59468\n43328\n11166\n48674\n62983\n11659\n63436\n44797\n25583\n15673\n57951\n69819\n95683\n71308\n50517",
      "expected_output": "47\n8215\n74282\n81627\n25654\n27767\n79168\n49338\n37452\n86024\n15999\n53149\n23667\n83466\n9908\n40470\n48046\n39916\n14894\n4267\n48930\n80570\n80771\n20031\n4216\n45090\n93296\n73165\n82236\n83219\n90013\n91005\n23733\n59468\n43328\n11166\n48674\n62983\n11659\n63436\n44797\n25583\n15673\n57951\n69819\n95683\n71308\n50517",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "36\n76072\n84483\n29192\n27980\n811\n53194\n91641\n45921\n7801\n42165\n25269\n23496\n15612\n10823\n56395\n7437\n69769\n66062\n81163\n54885\n53626\n90749\n10552\n2379\n28672\n18119\n84973\n38809\n12776\n9955\n54851\n62687\n71784\n20738\n57969\n90360",
      "expected_output": "36\n76072\n84483\n29192\n27980\n811\n53194\n91641\n45921\n7801\n42165\n25269\n23496\n15612\n10823\n56395\n7437\n69769\n66062\n81163\n54885\n53626\n90749\n10552\n2379\n28672\n18119\n84973\n38809\n12776\n9955\n54851\n62687\n71784\n20738\n57969\n90360",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "44\n69714\n81360\n25882\n689\n70525\n89945\n99747\n26478\n25584\n27585\n95487\n9037\n91414\n28807\n23336\n71453\n40536\n72748\n76117\n17762\n95239\n6709\n47986\n50308\n3494\n22027\n16431\n21302\n65713\n51589\n62798\n84360\n50374\n3446\n51097\n80030\n37409\n72383\n99756\n38246\n91997\n53762\n53074\n82744",
      "expected_output": "44\n69714\n81360\n25882\n689\n70525\n89945\n99747\n26478\n25584\n27585\n95487\n9037\n91414\n28807\n23336\n71453\n40536\n72748\n76117\n17762\n95239\n6709\n47986\n50308\n3494\n22027\n16431\n21302\n65713\n51589\n62798\n84360\n50374\n3446\n51097\n80030\n37409\n72383\n99756\n38246\n91997\n53762\n53074\n82744",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "50\n34897675\n69169406\n8030002\n53575737\n99411368\n45649267\n61291489\n52735594\n19770869\n40582220\n50716209\n55623988\n93761559\n12112136\n1982101\n43942947\n96371848\n9235731\n90721138\n76149774\n17778885\n98255511\n12049820\n95497421\n90838590\n4143204\n6469368\n13494066\n78472590\n86115282\n90506677\n71804718\n33624550\n33405344\n71548791\n31924992\n17035287\n52181721\n42893953\n29127766\n77980649\n82350031\n76118143\n74682806\n67351963\n71464211\n60512398\n773208\n83260535\n77715752",
      "expected_output": "50\n34897675\n69169406\n8030002\n53575737\n99411368\n45649267\n61291489\n52735594\n19770869\n40582220\n50716209\n55623988\n93761559\n12112136\n1982101\n43942947\n96371848\n9235731\n90721138\n76149774\n17778885\n98255511\n12049820\n95497421\n90838590\n4143204\n6469368\n13494066\n78472590\n86115282\n90506677\n71804718\n33624550\n33405344\n71548791\n31924992\n17035287\n52181721\n42893953\n29127766\n77980649\n82350031\n76118143\n74682806\n67351963\n71464211\n60512398\n773208\n83260535\n77715752",
      "type": "max_case_17",
      "description": "Maximum size array (N = 50)"
    },
    {
      "input": "50\n19831455\n23749343\n94040136\n55573796\n61670168\n93137776\n64964381\n82732790\n48969633\n39671542\n26823835\n63844592\n33805589\n36783463\n26331842\n52191196\n16689975\n47147932\n93269004\n40194302\n86244443\n1246433\n50875043\n48594354\n28515669\n26109719\n16457954\n71006326\n54846167\n90876267\n24853470\n61941554\n13076899\n11450019\n87224919\n15761768\n41729123\n13437992\n13554958\n27715694\n43568453\n57539707\n103093\n27817829\n94507429\n57229143\n29931869\n79008836\n75097462\n28375558",
      "expected_output": "50\n19831455\n23749343\n94040136\n55573796\n61670168\n93137776\n64964381\n82732790\n48969633\n39671542\n26823835\n63844592\n33805589\n36783463\n26331842\n52191196\n16689975\n47147932\n93269004\n40194302\n86244443\n1246433\n50875043\n48594354\n28515669\n26109719\n16457954\n71006326\n54846167\n90876267\n24853470\n61941554\n13076899\n11450019\n87224919\n15761768\n41729123\n13437992\n13554958\n27715694\n43568453\n57539707\n103093\n27817829\n94507429\n57229143\n29931869\n79008836\n75097462\n28375558",
      "type": "max_case_18",
      "description": "Maximum size array (N = 50)"
    },
    {
      "input": "1\n1",
      "expected_output": "1\n1",
      "type": "edge_case_19",
      "description": "Edge case array (N = 1)"
    },
    {
      "input": "50\n100000000\n48921803\n58617973\n100000000\n1\n100000000\n100000000\n100000000\n52298873\n1\n1\n26362443\n1\n14316437\n23200034\n90201419\n1\n100000000\n1\n100000000\n48545891\n69226583\n1\n1\n1\n89584739\n1\n502180\n75674814\n100000000\n100000000\n100000000\n100000000\n100000000\n100000000\n28214453\n1\n93250007\n1\n51129292\n1\n6464966\n1\n100000000\n1\n1\n1\n26128793\n1\n1",
      "expected_output": "50\n100000000\n48921803\n58617973\n100000000\n1\n100000000\n100000000\n100000000\n52298873\n1\n1\n26362443\n1\n14316437\n23200034\n90201419\n1\n100000000\n1\n100000000\n48545891\n69226583\n1\n1\n1\n89584739\n1\n502180\n75674814\n100000000\n100000000\n100000000\n100000000\n100000000\n100000000\n28214453\n1\n93250007\n1\n51129292\n1\n6464966\n1\n100000000\n1\n1\n1\n26128793\n1\n1",
      "type": "edge_case_20",
      "description": "Edge case array (N = 50)"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:49",
  "total_test_cases": 20,
  "outputs_generated_at": "2025-08-19 20:37:02"
}