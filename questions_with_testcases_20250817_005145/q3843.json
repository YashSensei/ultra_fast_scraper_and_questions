{
  "problem_code": "problems",
  "title": "Encryption kit",
  "tags": [],
  "text": "Karina is developing a powerful encryption protocol. To make it available to a wider audience, she wants to implement a tool-kit to make it easier to use. In particular, she requires a tool capable of efficiently performing a complicated operation over strings.The positions in a string are numbered from left to right with consecutive natural numbers from1to the length of the string. The operation Karina needs to implement is specified by four positions in the stringi ≤ j < k ≤ l, and consists of three steps:interchange the substring that goes from positionito positionjinclusive, with the substring that goes from positionkto positionl, inclusive;reverse both substrings individually;change all the characters of each substring into the next character in the alphabet. This is, every'a'turns into a'b', every'b'turns into a'c', etc. For the purposes of this operation we consider the alphabet to be circular, so that every'z'turns into an'a'after the operation is performed on it.For example, let's take the string \"alazareselfacil\" and the positionsi = 3, j = 5, k = 8andl = 15, so that the two affected substrings are \"aza\" and \"selfacil\". After the first step (interchanging) the resulting string is \"alselfacilreaza\". After the second step (reversing) the result is \"allicaflesreaza\". Finally, after the third step (changing the characters to the ones following them) we obtain \"almjdbgmftrebab\".The protocol developed by Karina applies the operation described above on a string, then applies another operation on the resulting string, and so on and so forth, always applying new operations on the last obtained result. Karina needs to know what is the resulting string after all operations are performed, but unfortunately her rudimentary knowledge of the programming language R is only enough to implement a very inefficient algorithm. You are therefore required to implement a version that can efficiently handle many operations over long strings.InputThe first line contains an integer numberT, the number of test cases (1 ≤ T ≤ 100).Ttest cases follow.The first line of each test case contains the initial stringS, composed of between2and105lower-case letters of the English alphabet, and an integerN, representing the number of operations that are to be performed (1 ≤ N ≤ 105).The followingNlines contain the description of one operation each, given by four integersI, J, KandLrepresenting the four positions in the string for the operation explained above (1 ≤ I ≤ J < K ≤ L ≤ |S|with|S|the length of the stringS).OutputFor each test case, print a single line containing a string representing the resulting string obtained after successively applying all the operations in the input to the given initial string.ExampleInput:4\r\nalazareselfacil 1\r\n3 5 8 15\r\nalazareselfacil 2\r\n3 5 8 15\r\n3 5 8 15\r\naa 1\r\n1 1 2 2\r\nzabcdefghi 5\r\n1 1 10 10\r\n1 5 6 10\r\n2 4 7 9\r\n1 1 2 10\r\n1 8 9 10Output:almjdbgmftrebab\r\nalcbcfsugnbgekn\r\nbb\r\ndefghgjklm",
  "sample_input": "Input:4\r\nalazareselfacil 1\r\n3 5 8 15\r\nalazareselfacil 2\r\n3 5 8 15\r\n3 5 8 15\r\naa 1\r\n1 1 2 2\r\nzabcdefghi 5\r\n1 1 10 10\r\n1 5 6 10\r\n2 4 7 9\r\n1 1 2 10\r\n1 8 9 10Output:almjdbgmftrebab\r\nalcbcfsugnbgekn\r\nbb\r\ndefghgjklm",
  "sample_output": "Not found",
  "link": "https://www.spoj.com/problems/TAP2014K",
  "scraped_at": "2025-08-17 00:34:29",
  "test_cases": [
    {
      "input": "4\r\nalazareselfacil 1\r\n3 5 8 15\r\nalazareselfacil 2\r\n3 5 8 15\r\n3 5 8 15\r\naa 1\r\n1 1 2 2\r\nzabcdefghi 5\r\n1 1 10 10\r\n1 5 6 10\r\n2 4 7 9\r\n1 1 2 10\r\n1 8 9 10",
      "expected_output": "almjdbgmftrebab\r\nalcbcfsugnbgekn\r\nbb\r\ndefghgjklm",
      "type": "sample_1",
      "description": "Original sample 1 from problem statement"
    },
    {
      "input": "3\n6\n7\n8",
      "expected_output": "To be computed",
      "type": "small_case_2",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "3\n1\n8\n8",
      "expected_output": "To be computed",
      "type": "small_case_3",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "5\n1\n8\n10\n2\n8",
      "expected_output": "To be computed",
      "type": "small_case_4",
      "description": "Small array (N ≤ 5)"
    },
    {
      "input": "7\n65877766\n205148\n40541395\n94887023\n21375179\n62575227\n12368737",
      "expected_output": "To be computed",
      "type": "medium_case_5",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "16\n28049639\n47352358\n49562820\n38527002\n52399960\n43658222\n90107105\n63365269\n87704335\n79872808\n86188617\n55616382\n19391452\n79329357\n31310494\n35954623",
      "expected_output": "To be computed",
      "type": "medium_case_6",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "18\n29723426\n56352048\n66216648\n80224590\n26514295\n15321199\n53841766\n86157742\n58866073\n45037721\n314630\n56114410\n9848871\n86243207\n22714373\n72049953\n8259419\n43206320",
      "expected_output": "To be computed",
      "type": "medium_case_7",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "17\n17667453\n40357959\n73907888\n35313404\n80961933\n35829593\n34878803\n44755439\n47803803\n34732018\n45314901\n21684320\n61991890\n94987924\n86157042\n72202981\n31082061",
      "expected_output": "To be computed",
      "type": "medium_case_8",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "15\n2369742\n89688384\n33684215\n10780843\n50562628\n54972848\n33510688\n54781473\n86168550\n76177202\n98991637\n38979480\n77776531\n63809133\n96589971",
      "expected_output": "To be computed",
      "type": "medium_case_9",
      "description": "Medium array (5 < N ≤ 20)"
    },
    {
      "input": "58\n25474\n18423\n11341\n45006\n68453\n66634\n4210\n69538\n58310\n98543\n42658\n84974\n75103\n83594\n85870\n21126\n17834\n40689\n8031\n23030\n13689\n19977\n90659\n78231\n16443\n6906\n45290\n99300\n7841\n21799\n69271\n32538\n9533\n641\n11430\n19295\n4077\n12458\n4147\n92630\n77957\n16004\n58695\n38011\n23021\n76093\n30860\n66908\n88967\n6106\n83301\n70970\n33827\n1163\n64549\n54292\n37319\n47755",
      "expected_output": "To be computed",
      "type": "large_case_10",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "37\n43084\n81803\n38344\n35128\n87296\n25815\n83787\n3160\n42020\n15969\n58393\n75416\n60584\n86005\n47641\n71797\n47007\n3593\n11953\n75405\n94078\n89736\n49632\n27619\n11856\n36163\n62683\n67372\n10188\n19820\n93441\n61391\n88150\n55715\n10105\n4478\n40191",
      "expected_output": "To be computed",
      "type": "large_case_11",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "24\n79479\n39766\n28174\n47420\n81208\n21231\n9537\n1641\n97693\n10161\n30626\n89408\n99288\n89368\n69344\n29218\n74097\n45259\n5426\n5765\n7488\n9312\n56707\n28463",
      "expected_output": "To be computed",
      "type": "large_case_12",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "78\n1966\n77770\n27296\n2901\n42582\n22251\n40915\n69251\n86629\n79841\n32976\n71359\n42487\n78217\n28149\n59256\n50890\n68631\n91136\n49218\n46483\n14858\n15841\n32108\n42837\n74872\n96338\n52692\n22017\n8790\n53055\n52257\n8765\n96533\n9846\n55246\n72080\n78106\n45684\n51527\n88884\n1912\n16508\n19847\n3091\n52582\n48675\n54775\n70515\n94993\n20411\n48042\n13755\n3428\n98197\n96917\n47538\n91933\n67110\n77160\n72358\n28963\n99378\n24537\n145\n14816\n75009\n52663\n18613\n18999\n47413\n34500\n22720\n21164\n45192\n32899\n40728\n32590",
      "expected_output": "To be computed",
      "type": "large_case_13",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "82\n70177\n64788\n73145\n99169\n7315\n2476\n88584\n19279\n58961\n16229\n41702\n67163\n85739\n51002\n8366\n81193\n58173\n41232\n19091\n68629\n6896\n72528\n92424\n49711\n12349\n43602\n7370\n26776\n22459\n54179\n79611\n77906\n46517\n69627\n7293\n10240\n80911\n3670\n74587\n73098\n50826\n11306\n62477\n21461\n86572\n85937\n97796\n71660\n6032\n90764\n35387\n54034\n2334\n82533\n61481\n67276\n14246\n31973\n64628\n62342\n1212\n29044\n16929\n24400\n55638\n38221\n89190\n73492\n97693\n3958\n39155\n660\n54662\n74160\n76263\n24959\n47308\n45646\n36755\n42252\n46450\n17019",
      "expected_output": "To be computed",
      "type": "large_case_14",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "70\n74994\n35407\n42731\n46594\n81634\n57743\n72289\n85218\n7857\n85369\n96017\n79201\n52770\n20815\n39395\n28512\n77269\n36668\n69338\n87946\n25844\n69402\n67412\n87984\n1583\n56496\n45508\n25919\n32744\n36638\n12485\n24432\n73760\n15360\n68344\n38684\n79956\n25239\n35587\n26424\n77900\n39190\n73583\n75658\n88022\n33819\n19063\n84732\n95313\n91437\n4685\n77414\n75278\n73294\n10956\n72863\n97313\n2369\n21745\n86712\n53094\n72821\n43501\n96879\n35130\n40538\n47183\n46175\n39708\n60180",
      "expected_output": "To be computed",
      "type": "large_case_15",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "28\n1214\n17292\n80521\n66797\n59433\n76064\n46985\n87227\n44788\n19998\n12933\n98055\n89807\n80339\n18529\n34436\n87178\n71568\n3336\n90166\n58541\n56618\n17319\n90966\n57490\n40314\n58668\n79968",
      "expected_output": "To be computed",
      "type": "large_case_16",
      "description": "Large array (20 < N ≤ 500)"
    },
    {
      "input": "105\n85064827\n38457685\n57006953\n31231569\n38019273\n77212910\n2608909\n2505541\n4771395\n68757748\n99125172\n70619105\n84363258\n10567999\n26112529\n27657091\n83507335\n75718884\n15961194\n37076322\n6178696\n87370543\n52893539\n68631913\n52906044\n29376878\n25685065\n51769995\n43516735\n82927280\n2524887\n30702438\n3492486\n62611915\n24666795\n27040128\n13898\n3923991\n7972183\n99286345\n45443228\n74386400\n26593729\n49213160\n95272078\n41195625\n78917608\n50080300\n87860534\n71463930\n77499026\n65288155\n70574420\n43512240\n5610022\n43941329\n76759318\n58068621\n4043620\n82596410\n1769056\n70251581\n88014069\n94992306\n56335107\n93777695\n16043398\n53030183\n34991657\n5559810\n62724937\n70329961\n43360325\n77776718\n96605419\n56355351\n96249950\n65058022\n99783254\n67504981\n94113222\n37810498\n68495393\n95774025\n49194386\n48228998\n69958499\n78226976\n51496330\n75977729\n27831049\n72426648\n18722468\n79890284\n30444112\n57295045\n97886079\n23982179\n56656138\n9728366\n56459643\n27385174\n95657234\n65756155\n20724177",
      "expected_output": "To be computed",
      "type": "max_case_17",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "105\n84686650\n46783989\n64769489\n99822328\n79051973\n13501277\n47206905\n9104841\n638730\n47681450\n57300393\n74555847\n97879140\n50071178\n57732938\n71038741\n81499744\n95432586\n66127252\n30255822\n49936739\n43587852\n27176645\n84637920\n32711278\n48734194\n65883129\n26616493\n1404603\n17383398\n14709615\n92388963\n82162495\n76995222\n70062371\n93450598\n724934\n30371157\n5014293\n34971314\n4578623\n94693824\n75117340\n50688251\n95731402\n57723204\n24346601\n84914909\n35075501\n68538164\n87996416\n26769073\n38164376\n88980545\n7522158\n87623280\n63447129\n23429257\n57667250\n3776312\n88048838\n52703555\n32776248\n97671089\n52432197\n44792368\n39492508\n6815416\n25527049\n55868787\n98189749\n39305483\n5309009\n50410343\n93982899\n69533320\n32154244\n88608268\n39960456\n57022137\n46521439\n54464887\n15708412\n57506123\n66367322\n29347900\n28531331\n39945727\n34519338\n86815081\n28010970\n99831243\n65653666\n9220620\n76610470\n36001887\n23569217\n80408126\n39543219\n60878075\n70180235\n58084317\n15022186\n91536349\n93187319",
      "expected_output": "To be computed",
      "type": "max_case_18",
      "description": "Maximum size array (N = 105)"
    },
    {
      "input": "105\n75783943\n77521730\n100000000\n1\n100000000\n8279649\n100000000\n1\n68380185\n51547586\n24942676\n17379329\n73484547\n59595063\n100000000\n100000000\n1\n1\n1\n1\n49767667\n100000000\n1\n100000000\n98128747\n1\n100000000\n1\n47677713\n1\n1\n21843042\n84878423\n3021405\n1\n100000000\n41074025\n78845085\n1\n94752378\n36794335\n100000000\n100000000\n100000000\n1\n15677368\n100000000\n100000000\n35230851\n100000000\n1\n96105508\n1\n1\n9209748\n100000000\n1\n100000000\n1\n40732865\n100000000\n53572771\n100000000\n50423819\n1\n1\n1\n95233684\n1\n1\n64070018\n100000000\n100000000\n1\n100000000\n1\n1\n66959227\n54106748\n100000000\n100000000\n4805948\n100000000\n100000000\n1\n100000000\n9066162\n1\n1\n1\n100000000\n100000000\n100000000\n1\n100000000\n69020892\n100000000\n1\n1\n46693190\n45876658\n50218922\n90209116\n1\n1",
      "expected_output": "To be computed",
      "type": "edge_case_19",
      "description": "Edge case array (N = 105)"
    },
    {
      "input": "105\n90017890\n100000000\n69616545\n91224237\n51040221\n100000000\n100000000\n1\n100000000\n96669898\n1\n1\n100000000\n98569791\n65866008\n1\n1\n1\n1\n68715033\n1\n100000000\n1\n100000000\n100000000\n100000000\n38299735\n100000000\n60571597\n1\n68306301\n1\n100000000\n86909167\n61619310\n1\n100000000\n100000000\n100000000\n1\n2531076\n1\n28082126\n29860711\n83701791\n1\n1\n1\n1\n100000000\n1\n83891179\n100000000\n100000000\n1\n1\n100000000\n1\n34312245\n75216798\n100000000\n28588478\n100000000\n36534924\n4926881\n100000000\n68760904\n1\n1\n100000000\n100000000\n43073295\n1\n2852009\n1\n49007079\n69010283\n99549963\n70895324\n100000000\n100000000\n100000000\n5674138\n1\n100000000\n1\n81595214\n39270373\n100000000\n1\n88411383\n1\n100000000\n58186501\n100000000\n1\n100000000\n96411504\n81481023\n1\n100000000\n13966702\n1\n1\n30136216",
      "expected_output": "To be computed",
      "type": "edge_case_20",
      "description": "Edge case array (N = 105)"
    }
  ],
  "test_cases_generated_at": "2025-08-17 00:51:57",
  "total_test_cases": 20
}